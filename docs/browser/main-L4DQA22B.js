import{a as zs,b as Ys,c as Oe,d as Ks,e as Ae,f as Qe,g as dt,h as Ve,i as Ze,j as yi,k as Gs,l as qs,m as Qs,n as Zs,o as ht,p as pt,q as ft,r as Xs,s as xt,t as Js,u as ea,v as Fe,w as ta,x as Ei,y as Ne,z as Xe}from"./chunk-B5BK5IV6.js";import{$ as zi,A as vs,Aa as be,B as We,Ba as Rs,C as wn,Ca as le,D as ys,Da as Ls,E as ae,Ea as An,F as Es,Fa as Ur,G as Vr,Ga as Vs,H as Ss,Ha as Fs,I as bs,Ia as $s,J as g,Ja as Us,K as J,Ka as Ws,L as Cs,La as Nn,M as Ts,Ma as qe,N as ws,Na as Hs,O as St,Oa as Bs,Pa as js,Q as q,Qa as Pt,R as Ms,S as C,T as Ge,U as u,V as m,W as R,X as ee,Y as M,Z as N,_ as Mn,a as z,aa as Os,b as Et,ba as As,c as Lr,ca as Ns,d as dc,da as f,e as fs,ea as te,fa as Ie,ga as ks,h as Ye,ha as F,ia as $,ja as U,k as Ke,ka as Ps,l as Le,la as oe,m as gs,ma as On,n as Z,na as xs,oa as Fr,p as he,pa as $r,r as Cn,ra as Is,s as se,sa as Ds,t as at,u as re,w as _s,x as Tn,xa as Yi,y as P,ya as kt,z as x,za as mt}from"./chunk-IKTS5G3I.js";var K=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(K||{}),gt="*";function ia(n,e){return{type:K.Trigger,name:n,definitions:e,options:{}}}function Wr(n,e=null){return{type:K.Animate,styles:e,timings:n}}function na(n,e=null){return{type:K.Sequence,steps:n,options:e}}function Qt(n){return{type:K.Style,styles:n,offset:null}}function Hr(n,e,t=null){return{type:K.Transition,expr:n,animation:e,options:t}}var It=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ki=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},kn="!";function hc(n,e){if(n&1&&(u(0,"div",1)(1,"span"),f(2),m()()),n&2){let t=N();C("@fade",void 0)("ngClass",t.success?"bg-success":"bg-danger"),g(2),te(t.message)}}var Si=class n{visible=!1;message="";success=!0;timeout;show(e,t=!0){clearTimeout(this.timeout),this.message=e,this.success=t,this.visible=!0,this.timeout=setTimeout(()=>{this.visible=!1},3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-toast"]],standalone:!0,features:[oe],decls:1,vars:1,consts:[["class","toast-container",3,"ngClass",4,"ngIf"],[1,"toast-container",3,"ngClass"]],template:function(t,i){t&1&&q(0,hc,3,3,"div",0),t&2&&C("ngIf",i.visible)},dependencies:[le,kt,be],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:1rem;right:1rem;background-color:#28a745;color:#fff;padding:.75rem 1.5rem;border-radius:.5rem;box-shadow:0 0 10px #0000001a;font-size:.95rem;z-index:1050}.bg-success[_ngcontent-%COMP%]{background-color:#28a745}.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545}"],data:{animation:[ia("fade",[Hr(":enter",[Qt({opacity:0,transform:"translateY(20px)"}),Wr("300ms ease-out",Qt({opacity:1,transform:"translateY(0)"}))]),Hr(":leave",[Wr("300ms ease-in",Qt({opacity:0,transform:"translateY(20px)"}))])])]}})};var pc=["*",[["","modal-footer",""]]],fc=["*","[modal-footer]"];function gc(n,e){if(n&1){let t=ee();u(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h5",6),f(5),m(),u(6,"button",7),M("click",function(){P(t);let r=N();return x(r.close())}),m()(),u(7,"div",8),zi(8),m(),u(9,"div",9),zi(10,1),m()()()()}if(n&2){let t=N();Ge("d-block",t.visible),g(),Ge("modal-lg",t.large),g(4),te(t.title)}}function _c(n,e){n&1&&R(0,"div",10)}var Dt=class n{title="";visible=!1;large=!1;closed=new We;close(){this.visible=!1,this.closed.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-modal"]],inputs:{title:"title",visible:"visible",large:"large"},outputs:{closed:"closed"},standalone:!0,features:[oe],ngContentSelectors:fc,decls:2,vars:2,consts:[["class","modal fade show","tabindex","-1","role","dialog",3,"d-block",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","fade","show"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"modal-backdrop","fade","show"]],template:function(t,i){t&1&&(Mn(pc),q(0,gc,11,5,"div",0)(1,_c,1,0,"div",1)),t&2&&(C("ngIf",i.visible),g(),C("ngIf",i.visible))},dependencies:[le,be],styles:[".modal.d-block[_ngcontent-%COMP%]{display:block}.modal-backdrop[_ngcontent-%COMP%]{z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}"]})};function vc(n,e){if(n&1){let t=ee();u(0,"div",3)(1,"label",4),f(2,"Senha"),m(),u(3,"input",10),U("ngModelChange",function(r){P(t);let o=N(2);return $(o.usuario.senha,r)||(o.usuario.senha=r),x(r)}),m()()}if(n&2){let t=N(2);g(3),F("ngModel",t.usuario.senha),C("disabled",t.somenteVisualizacao)}}function yc(n,e){if(n&1){let t=ee();u(0,"div",3)(1,"label",4),f(2,"Perfil"),m(),u(3,"select",11),U("ngModelChange",function(r){P(t);let o=N(2);return $(o.usuario.perfil,r)||(o.usuario.perfil=r),x(r)}),u(4,"option",12),f(5,"Gestor"),m(),u(6,"option",13),f(7,"Operador"),m()()()}if(n&2){let t=N(2);g(3),F("ngModel",t.usuario.perfil),C("disabled",t.somenteVisualizacao)}}function Ec(n,e){if(n&1){let t=ee();u(0,"div",14)(1,"input",15),U("ngModelChange",function(r){P(t);let o=N(2);return $(o.usuario.ativo,r)||(o.usuario.ativo=r),x(r)}),m(),u(2,"label",16),f(3,"Usu\xE1rio Ativo"),m()()}if(n&2){let t=N(2);g(),F("ngModel",t.usuario.ativo),C("disabled",t.somenteVisualizacao)}}function Sc(n,e){if(n&1){let t=ee();u(0,"div",17)(1,"button",18),M("click",function(){P(t);let r=N(2);return x(r.fechar())}),f(2,"Cancelar"),m(),u(3,"button",19),M("click",function(){P(t);let r=N(2);return x(r.salvarUsuario())}),f(4),m()()}if(n&2){let t=N(2);g(3),C("disabled",!t.formValid()),g(),Ie(" ",t.usuario.id?"Atualizar":"Salvar"," Usu\xE1rio ")}}function bc(n,e){if(n&1){let t=ee();u(0,"app-modal",1),M("closed",function(){P(t);let r=N();return x(r.fechar())}),u(1,"form",2)(2,"div",3)(3,"label",4),f(4,"Nome"),m(),u(5,"input",5),U("ngModelChange",function(r){P(t);let o=N();return $(o.usuario.nome,r)||(o.usuario.nome=r),x(r)}),m()(),u(6,"div",3)(7,"label",4),f(8,"Usu\xE1rio"),m(),u(9,"input",6),U("ngModelChange",function(r){P(t);let o=N();return $(o.usuario.username,r)||(o.usuario.username=r),x(r)}),m()(),q(10,vc,4,2,"div",7)(11,yc,8,2,"div",7)(12,Ec,4,2,"div",8)(13,Sc,5,2,"div",9),m()()}if(n&2){let t=N();C("title",t.usuario.id?"Editar Usu\xE1rio":"Novo Usu\xE1rio")("visible",t.visible),g(5),F("ngModel",t.usuario.nome),C("disabled",t.somenteVisualizacao),g(4),F("ngModel",t.usuario.username),C("disabled",t.modoPerfil||t.somenteVisualizacao),g(),C("ngIf",!t.usuario.id||t.modoPerfil),g(),C("ngIf",!t.modoPerfil),g(),C("ngIf",!t.modoPerfil),g(),C("ngIf",!t.somenteVisualizacao)}}var bi=class n{visible=!1;somenteVisualizacao=!1;modoPerfil=!1;closed=new We;salvar=new We;_usuario={id:0,nome:"",username:"",senha:"",perfil:"OPERADOR",ativo:!0};set usuario(e){this._usuario=e?z({},e):{id:0,nome:"",username:"",senha:"",perfil:"OPERADOR",ativo:!0}}get usuario(){return this._usuario}fechar(){this.closed.emit()}salvarUsuario(){this.formValid()&&this.salvar.emit(z({},this._usuario))}formValid(){return!!this._usuario.nome?.trim()&&(!!this._usuario.username?.trim()||this.modoPerfil)&&!!this._usuario.senha?.trim()&&(!!this._usuario.perfil||this.modoPerfil)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-usuario-modal"]],inputs:{visible:"visible",somenteVisualizacao:"somenteVisualizacao",modoPerfil:"modoPerfil",usuario:"usuario"},outputs:{closed:"closed",salvar:"salvar"},standalone:!0,features:[oe],decls:1,vars:1,consts:[[3,"title","visible","closed",4,"ngIf"],[3,"closed","title","visible"],[1,"px-3","pt-2"],[1,"mb-3"],[1,"form-label"],["name","nome","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","username",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","mb-3",4,"ngIf"],["class","form-check mb-3",4,"ngIf"],["class","text-end pb-3",4,"ngIf"],["type","password","name","senha","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["name","perfil",1,"form-select",3,"ngModelChange","ngModel","disabled"],["value","GESTOR"],["value","OPERADOR"],[1,"form-check","mb-3"],["type","checkbox","name","ativo",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],[1,"form-check-label"],[1,"text-end","pb-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"]],template:function(t,i){t&1&&q(0,bc,14,10,"app-modal",0),t&2&&C("ngIf",i.usuario)},dependencies:[le,be,Fe,Ze,pt,ft,Oe,Ys,ht,Ae,Qe,xt,Ve,dt,Dt],encapsulation:2})};var Je=class n{constructor(e,t){this.api=e;this.router=t}TOKEN_KEY="auth_token";login(e,t){return this.api.post("auth/login",{username:e,password:t}).pipe(gs(i=>{localStorage.setItem(this.TOKEN_KEY,i.token)}))}logout(){localStorage.removeItem(this.TOKEN_KEY),this.router.navigate(["/login"])}getToken(){return localStorage.getItem(this.TOKEN_KEY)}salvarToken(e){localStorage.setItem(this.TOKEN_KEY,e)}isAuthenticated(){return!!this.getToken()}decodeToken(){let e=this.getToken();if(!e)return null;try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return console.error("Erro ao decodificar token:",t),null}}getUsuarioNome(){return this.decodeToken()?.nome||null}getPerfilUsuario(){return this.decodeToken()?.roles?.[0]?.replace("ROLE_","")||null}getUsuario(){let e=this.decodeToken();if(!e)throw new Error("Token inv\xE1lido");return{id:e.id,nome:e.nome,username:e.sub,perfil:e.roles?.[0]?.replace("ROLE_","")||"OPERADOR",senha:"",ativo:!0}}static \u0275fac=function(t){return new(t||n)(se(Xe),se(qe))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ti=class n{constructor(e,t,i){this.api=e;this.toast=t;this.loading=i}endpoint="api/usuarios";listar(){return this.loading.show(),this.api.get(this.endpoint).pipe(Le(()=>this.loading.hide()),Ke(e=>(this.toast.show("Erro ao listar usu\xE1rios",!1),Ye(()=>e))))}criar(e){return this.loading.show(),this.api.post(this.endpoint,e).pipe(Le(()=>this.loading.hide()),Ke(t=>(this.toast.show("Erro ao criar usu\xE1rio",!1),Ye(()=>t))))}atualizar(e,t){return this.loading.show(),this.api.put(`${this.endpoint}/${e}`,t).pipe(Le(()=>this.loading.hide()),Ke(i=>(this.toast.show("Erro ao atualizar usu\xE1rio",!1),Ye(()=>i))))}desativar(e){return this.loading.show(),this.api.delete(`${this.endpoint}/${e}`).pipe(Le(()=>this.loading.hide()),Ke(t=>(this.toast.show("Erro ao desativar usu\xE1rio",!1),Ye(()=>t))))}static \u0275fac=function(t){return new(t||n)(se(Xe),se(Ne),se(Ei))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};var Cc=["toast"],Br=()=>({exact:!0});function Tc(n,e){if(n&1){let t=ee();u(0,"div",22)(1,"a",23),M("click",function(){P(t);let r=N();return x(r.abrirModalPerfil())}),f(2,"Meu Perfil"),m(),R(3,"div",24),u(4,"button",25),M("click",function(){P(t);let r=N();return x(r.logout())}),f(5,"Sair"),m()()}}function wc(n,e){n&1&&(u(0,"h5"),f(1,"\u{1F4C1} Menu"),m())}function Mc(n,e){n&1&&(u(0,"span"),f(1," Calculadora"),m())}function Oc(n,e){n&1&&(u(0,"span"),f(1," Or\xE7amentos"),m())}function Ac(n,e){n&1&&(u(0,"span"),f(1," Usu\xE1rios"),m())}function Nc(n,e){if(n&1&&(u(0,"li")(1,"a",26),R(2,"i",27),q(3,Ac,2,0,"span",15),m()()),n&2){let t=N();g(),C("routerLinkActiveOptions",On(2,Br)),g(2),C("ngIf",!t.isSidebarCollapsed)}}var Pn=class n{constructor(e,t,i){this.toastService=e;this.authService=t;this.usuarioService=i}isSidebarCollapsed=!1;dropdownAberto=!1;nomeUsuario="";perfilUsuario="";modalPerfilAberto=!1;usuarioLogado={id:0,nome:"",username:"",senha:"",perfil:"OPERADOR",ativo:!0};toast;ngOnInit(){let e=this.authService.getUsuario();e&&(this.usuarioLogado=z({},e),this.nomeUsuario=e.nome,this.perfilUsuario=e.perfil)}ngAfterViewInit(){this.toastService.setToast(this.toast)}carregarUsuarioLogado(){let e=this.authService.getUsuario();e&&(this.usuarioLogado=z({},e),this.nomeUsuario=e.nome,this.perfilUsuario=e.perfil)}abrirModalPerfil(){let e=this.authService.getUsuario();e?(this.usuarioLogado=z({},e),this.modalPerfilAberto=!0):console.warn("Usu\xE1rio n\xE3o encontrado no AuthService")}atualizarPerfil(e){this.usuarioService.atualizar(e.id,e).subscribe({next:()=>{this.toastService.show("Perfil atualizado com sucesso!",!0),this.modalPerfilAberto=!1,this.carregarUsuarioLogado()},error:()=>{this.toastService.show("Erro ao atualizar o perfil.",!1)}})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}toggleDropdown(){this.dropdownAberto=!this.dropdownAberto}fecharDropdown(e){e.target.closest(".user-dropdown")||(this.dropdownAberto=!1)}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)(J(Ne),J(Je),J(Ti))};static \u0275cmp=re({type:n,selectors:[["app-main-layout"]],viewQuery:function(t,i){if(t&1&&Os(Cc,5),t&2){let r;As(r=Ns())&&(i.toast=r.first)}},hostBindings:function(t,i){t&1&&M("click",function(o){return i.fecharDropdown(o)},!1,bs)},standalone:!0,features:[oe],decls:34,vars:18,consts:[["toast",""],[1,"top-navbar","d-flex","align-items-center","justify-content-between","px-4","py-2"],["src","assets/logo-clickarte.png","alt","ClickArte Logo",1,"logo-clickarte"],[1,"d-flex","align-items-center","gap-4","top-actions","dropdowns"],[1,"btn","btn-outline-light","d-flex","align-items-center","gap-1"],[1,"bi","bi-bell-fill"],[1,"d-none","d-md-inline"],[1,"user-dropdown","position-relative"],[1,"btn","btn-outline-light","d-flex","align-items-center","gap-2",3,"click"],[1,"bi","bi-person-circle","fs-5"],[1,"bi",3,"ngClass"],["class","dropdown-menu-custom",4,"ngIf"],[1,"main-layout"],[1,"sidebar"],["title","Recolher menu",1,"toggle-btn",3,"click"],[4,"ngIf"],[1,"menu-list"],["routerLink","/","routerLinkActive","active-link",3,"routerLinkActiveOptions"],[1,"bi","bi-calculator"],["routerLink","/orcamentos","routerLinkActive","active-link",3,"routerLinkActiveOptions"],[1,"bi","bi-file-earmark-text"],[3,"closed","salvar","visible","usuario","somenteVisualizacao","modoPerfil"],[1,"dropdown-menu-custom"],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[1,"dropdown-item","text-danger",3,"click"],["routerLink","/usuarios","routerLinkActive","active-link",3,"routerLinkActiveOptions"],[1,"bi","bi-people-fill"]],template:function(t,i){if(t&1){let r=ee();u(0,"nav",1),R(1,"img",2),u(2,"div",3)(3,"button",4),R(4,"i",5),u(5,"span",6),f(6,"Notifica\xE7\xF5es"),m()(),u(7,"div",7)(8,"button",8),M("click",function(){return P(r),x(i.toggleDropdown())}),R(9,"i",9),u(10,"span",6),f(11),m(),R(12,"i",10),m(),q(13,Tc,6,0,"div",11),m()()(),u(14,"div",12)(15,"aside",13)(16,"button",14),M("click",function(){return P(r),x(i.toggleSidebar())}),R(17,"i",10),m(),q(18,wc,2,0,"h5",15),u(19,"ul",16)(20,"li")(21,"a",17),R(22,"i",18),q(23,Mc,2,0,"span",15),m()(),u(24,"li")(25,"a",19),R(26,"i",20),q(27,Oc,2,0,"span",15),m()(),q(28,Nc,4,3,"li",15),m()(),u(29,"main"),R(30,"router-outlet"),m(),R(31,"app-toast",null,0),m(),u(33,"app-usuario-modal",21),M("closed",function(){return P(r),x(i.modalPerfilAberto=!1)})("salvar",function(s){return P(r),x(i.atualizarPerfil(s))}),m()}t&2&&(g(11),te(i.nomeUsuario),g(),C("ngClass",i.dropdownAberto?"bi-chevron-up":"bi-chevron-down"),g(),C("ngIf",i.dropdownAberto),g(2),Ge("collapsed",i.isSidebarCollapsed),g(2),C("ngClass",i.isSidebarCollapsed?"bi-chevron-right":"bi-chevron-left"),g(),C("ngIf",!i.isSidebarCollapsed),g(3),C("routerLinkActiveOptions",On(16,Br)),g(2),C("ngIf",!i.isSidebarCollapsed),g(2),C("routerLinkActiveOptions",On(17,Br)),g(2),C("ngIf",!i.isSidebarCollapsed),g(),C("ngIf",i.perfilUsuario==="GESTOR"),g(5),C("visible",i.modalPerfilAberto)("usuario",i.usuarioLogado)("somenteVisualizacao",!1)("modoPerfil",!0))},dependencies:[le,kt,be,Pt,Nn,Hs,Bs,Si,bi],styles:[".logo-clickarte[_ngcontent-%COMP%]{height:64px;width:auto}.top-navbar[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#fff;box-shadow:0 2px 4px #0000001a}.app-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.25rem}.icon-button[_ngcontent-%COMP%]{color:#fff;font-size:1.3rem;text-decoration:none;transition:color .2s ease;cursor:pointer}.icon-button[_ngcontent-%COMP%]:hover{color:var(--color-primary-lighter)}.top-actions[_ngcontent-%COMP%]{margin-right:.5rem}.dropdowns[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:250px;font-size:.9rem}.notification-item[_ngcontent-%COMP%]{font-size:.9rem;transition:background .2s}.notification-item[_ngcontent-%COMP%]:hover, .notification-item.unread[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter)}.notification-item.unread[_ngcontent-%COMP%]{font-weight:600}.main-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:var(--color-neutral);font-family:Segoe UI,sans-serif}.sidebar[_ngcontent-%COMP%]{width:220px;background-color:var(--color-primary-lighter);border-right:1px solid var(--color-primary-light);padding:1rem;transition:width .3s ease;overflow-x:hidden;position:relative}.sidebar.collapsed[_ngcontent-%COMP%]{width:60px}.sidebar[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:-16px;background-color:#fff;color:var(--color-primary);border:none;border-radius:50%;padding:.2rem .4rem;font-size:1.2rem;box-shadow:0 0 4px #0003;cursor:pointer;z-index:10}.sidebar[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--color-text-dark);font-weight:600;margin-bottom:1rem}.menu-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.menu-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--color-text-dark);text-decoration:none;font-weight:500;padding:.6rem 1rem .6rem 0rem;margin-left:-1rem;border-top-right-radius:999px;border-bottom-right-radius:999px;transition:background-color .2s,color .2s}.menu-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:1rem;font-size:1.1rem;color:var(--color-primary);transition:color .2s}.menu-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .menu-list[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{background-color:#007bff26;color:var(--color-primary);font-weight:600}.menu-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .menu-list[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-primary)}.sidebar.collapsed[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{flex:1;padding:2rem;background-color:#fff;color:var(--color-text-dark)}.user-dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-menu-custom[_ngcontent-%COMP%]{position:absolute;right:0;top:100%;background-color:#fff;border:1px solid var(--color-primary-light);border-radius:.5rem;box-shadow:0 4px 12px #0000001a;padding:.5rem 0;min-width:180px;z-index:999}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;color:var(--color-text-dark);cursor:pointer;transition:background .2s}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-lighter)}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:var(--color-primary-light);margin:.5rem 0}"]})};var d=function(n){return n.SEPARATOR="separator",n.PERCENT="percent",n.IP="IP",n.CPF_CNPJ="CPF_CNPJ",n.MONTH="M",n.MONTHS="M0",n.MINUTE="m",n.HOUR="h",n.HOURS="H",n.MINUTES="m0",n.HOURS_HOUR="Hh",n.SECONDS="s0",n.HOURS_MINUTES_SECONDS="Hh:m0:s0",n.EMAIL_MASK="A*@A*.A*",n.HOURS_MINUTES="Hh:m0",n.MINUTES_SECONDS="m0:s0",n.DAYS_MONTHS_YEARS="d0/M0/0000",n.DAYS_MONTHS="d0/M0",n.DAYS="d0",n.DAY="d",n.SECOND="s",n.LETTER_S="S",n.DOT=".",n.COMMA=",",n.CURLY_BRACKETS_LEFT="{",n.CURLY_BRACKETS_RIGHT="}",n.MINUS="-",n.OR="||",n.HASH="#",n.EMPTY_STRING="",n.SYMBOL_STAR="*",n.SYMBOL_QUESTION="?",n.SLASH="/",n.WHITE_SPACE=" ",n.NUMBER_ZERO="0",n.NUMBER_NINE="9",n.BACKSPACE="Backspace",n.DELETE="Delete",n.ARROW_LEFT="ArrowLeft",n.ARROW_UP="ArrowUp",n.DOUBLE_ZERO="00",n}(d||{}),xn=new Cn("ngx-mask config"),sa=new Cn("new ngx-mask config"),aa=new Cn("initial ngx-mask config"),kc={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showMaskTyped:!1,instantPrefix:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:n=>n,outputTransformFn:n=>n,maskFilled:new We,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},Pc=[d.HOURS_MINUTES_SECONDS,d.HOURS_MINUTES,d.MINUTES_SECONDS],xc=[d.PERCENT,d.HOURS_HOUR,d.SECONDS,d.MINUTES,d.SEPARATOR,d.DAYS_MONTHS_YEARS,d.DAYS_MONTHS,d.DAYS,d.MONTHS],Ic=(()=>{class n{_config=at(xn);dropSpecialCharacters=this._config.dropSpecialCharacters;hiddenInput=this._config.hiddenInput;clearIfNotMatch=this._config.clearIfNotMatch;specialCharacters=this._config.specialCharacters;patterns=this._config.patterns;prefix=this._config.prefix;suffix=this._config.suffix;thousandSeparator=this._config.thousandSeparator;decimalMarker=this._config.decimalMarker;customPattern;showMaskTyped=this._config.showMaskTyped;placeHolderCharacter=this._config.placeHolderCharacter;validation=this._config.validation;separatorLimit=this._config.separatorLimit;allowNegativeNumbers=this._config.allowNegativeNumbers;leadZeroDateTime=this._config.leadZeroDateTime;leadZero=this._config.leadZero;apm=this._config.apm;inputTransformFn=this._config.inputTransformFn;outputTransformFn=this._config.outputTransformFn;keepCharacterPositions=this._config.keepCharacterPositions;instantPrefix=this._config.instantPrefix;_shift=new Set;plusOnePosition=!1;maskExpression="";actualValue="";showKeepCharacterExp="";shownMaskExpression="";deletedSpecialCharacter=!1;ipError;cpfCnpjError;applyMask(t,i,r=0,o=!1,s=!1,l=()=>{}){if(!i||typeof t!="string")return d.EMPTY_STRING;let a=0,c="",p=!1,_=!1,y=1,E=!1,h=t,v=r;h.slice(0,this.prefix.length)===this.prefix&&(h=h.slice(this.prefix.length,h.length)),this.suffix&&h.length>0&&(h=this.checkAndRemoveSuffix(h)),h==="("&&this.prefix&&(h="");let O=h.toString().split(d.EMPTY_STRING);if(this.allowNegativeNumbers&&h.slice(a,a+1)===d.MINUS&&(c+=h.slice(a,a+1)),i===d.IP){let A=h.split(d.DOT);this.ipError=this._validIP(A),i="099.099.099.099"}let D=[];for(let A=0;A<h.length;A++)h[A]?.match("\\d")&&D.push(h[A]??d.EMPTY_STRING);if(i===d.CPF_CNPJ&&(this.cpfCnpjError=D.length!==11&&D.length!==14,D.length>11?i="00.000.000/0000-00":i="000.000.000-00"),i.startsWith(d.PERCENT)){if(h.match("[a-z]|[A-Z]")||h.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!s){h=this._stripToDecimal(h);let G=this.getPrecision(i);h=this.checkInputPrecision(h,G,this.decimalMarker)}let A=typeof this.decimalMarker=="string"?this.decimalMarker:d.DOT;if(h.indexOf(A)>0&&!this.percentage(h.substring(0,h.indexOf(A)))){let G=h.substring(0,h.indexOf(A)-1);this.allowNegativeNumbers&&h.slice(a,a+1)===d.MINUS&&!s&&(G=h.substring(0,h.indexOf(A))),h=`${G}${h.substring(h.indexOf(A),h.length)}`}let w="";this.allowNegativeNumbers&&h.slice(a,a+1)===d.MINUS?w=`${d.MINUS}${h.slice(a+1,a+h.length)}`:w=h,this.percentage(w)?c=this._splitPercentZero(h):c=this._splitPercentZero(h.substring(0,h.length-1))}else if(i.startsWith(d.SEPARATOR)){(h.match("[w\u0430-\u044F\u0410-\u042F]")||h.match("[\u0401\u0451\u0410-\u044F]")||h.match("[a-z]|[A-Z]")||h.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||h.match("[^A-Za-z0-9,]"))&&(h=this._stripToDecimal(h));let A=this.getPrecision(i),w=this.decimalMarker;if(Array.isArray(this.decimalMarker)&&(this.actualValue.includes(this.decimalMarker[0])||this.actualValue.includes(this.decimalMarker[1])?w=this.actualValue.includes(this.decimalMarker[0])?this.decimalMarker[0]:this.decimalMarker[1]:w=this.decimalMarker.find(S=>S!==this.thousandSeparator)),s){let{decimalMarkerIndex:S,nonZeroIndex:T}=this._findFirstNonZeroAndDecimalIndex(h,w),k=h[0]===d.MINUS,W=h[0]===d.NUMBER_ZERO,ne=h[0]===w,ye=h[1]===w;(ne&&!T||k&&ye&&!T||W&&!S&&!T)&&(h=d.NUMBER_ZERO),S&&T&&k&&v===1&&(S<T||S>T)&&(h=d.MINUS+h.slice(T)),!S&&T&&h.length>T&&(h=k?d.MINUS+h.slice(T):h.slice(T)),S&&T&&v===0&&(S<T&&(h=h.slice(S-1)),S>T&&(h=h.slice(T)))}A===0?h=this.allowNegativeNumbers?h.length>2&&h[0]===d.MINUS&&h[1]===d.NUMBER_ZERO&&h[2]!==this.thousandSeparator&&h[2]!==d.COMMA&&h[2]!==d.DOT?"-"+h.slice(2,h.length):h[0]===d.NUMBER_ZERO&&h.length>1&&h[1]!==this.thousandSeparator&&h[1]!==d.COMMA&&h[1]!==d.DOT?h.slice(1,h.length):h:h.length>1&&h[0]===d.NUMBER_ZERO&&h[1]!==this.thousandSeparator&&h[1]!==d.COMMA&&h[1]!==d.DOT?h.slice(1,h.length):h:(h[0]===w&&h.length>1&&!s&&(h=d.NUMBER_ZERO+h.slice(0,h.length+1),this.plusOnePosition=!0),h[0]===d.NUMBER_ZERO&&h[1]!==w&&h[1]!==this.thousandSeparator&&!s&&(h=h.length>1?h.slice(0,1)+w+h.slice(1,h.length+1):h,this.plusOnePosition=!0),this.allowNegativeNumbers&&!s&&h[0]===d.MINUS&&(h[1]===w||h[1]===d.NUMBER_ZERO)&&(h=h[1]===w&&h.length>2?h.slice(0,1)+d.NUMBER_ZERO+h.slice(1,h.length):h[1]===d.NUMBER_ZERO&&h.length>2&&h[2]!==w?h.slice(0,2)+w+h.slice(2,h.length):h,this.plusOnePosition=!0));let G=this._charToRegExpExpression(this.thousandSeparator),j='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(G,"");if(Array.isArray(this.decimalMarker))for(let S of this.decimalMarker)j=j.replace(this._charToRegExpExpression(S),d.EMPTY_STRING);else j=j.replace(this._charToRegExpExpression(this.decimalMarker),"");let Q=new RegExp("["+j+"]");h.match(Q)&&(h=h.substring(0,h.length-1)),h=this.checkInputPrecision(h,A,this.decimalMarker);let ie=h.replace(new RegExp(G,"g"),"");c=this._formatWithSeparators(ie,this.thousandSeparator,this.decimalMarker,A);let me=c.indexOf(d.COMMA)-h.indexOf(d.COMMA),ge=c.length-h.length,ke=s&&c.length<t.length&&this.separatorLimit;if((c[v-1]===this.thousandSeparator||c[v-this.prefix.length])&&this.prefix&&s)v=v-1;else if(ge>0&&c[v]!==this.thousandSeparator||ke){_=!0;let S=0;do this._shift.add(v+S),S++;while(S<ge)}else c[v-1]===this.thousandSeparator||ge===-4||ge===-3||c[v]===this.thousandSeparator?(this._shift.clear(),this._shift.add(v-1)):me!==0&&v>0&&!(c.indexOf(d.COMMA)>=v&&v>3)||!(c.indexOf(d.DOT)>=v&&v>3)&&ge<=0?(this._shift.clear(),_=!0,y=ge,v+=ge,this._shift.add(v)):this._shift.clear()}else for(let A=0,w=O[0];A<O.length&&a!==i.length;A++,w=O[A]??d.EMPTY_STRING){let G=d.SYMBOL_STAR in this.patterns;if(this._checkSymbolMask(w,i[a]??d.EMPTY_STRING)&&i[a+1]===d.SYMBOL_QUESTION)c+=w,a+=2;else if(i[a+1]===d.SYMBOL_STAR&&p&&this._checkSymbolMask(w,i[a+2]??d.EMPTY_STRING))c+=w,a+=3,p=!1;else if(this._checkSymbolMask(w,i[a]??d.EMPTY_STRING)&&i[a+1]===d.SYMBOL_STAR&&!G)c+=w,p=!0;else if(i[a+1]===d.SYMBOL_QUESTION&&this._checkSymbolMask(w,i[a+2]??d.EMPTY_STRING))c+=w,a+=3;else if(this._checkSymbolMask(w,i[a]??d.EMPTY_STRING)){if(i[a]===d.HOURS&&(this.apm?Number(w)>9:Number(w)>2)){v=this.leadZeroDateTime?v:v+1,a+=1,this._shiftStep(a),A--,this.leadZeroDateTime&&(c+="0");continue}if(i[a]===d.HOUR&&(this.apm?c.length===1&&Number(c)>1||c==="1"&&Number(w)>2||h.slice(a-1,a).length===1&&Number(h.slice(a-1,a))>2||h.slice(a-1,a)==="1"&&Number(w)>2:c==="2"&&Number(w)>3||(c.slice(a-2,a)==="2"||c.slice(a-3,a)==="2"||c.slice(a-4,a)==="2"||c.slice(a-1,a)==="2")&&Number(w)>3&&a>10)){v=v+1,a+=1,A--;continue}if((i[a]===d.MINUTE||i[a]===d.SECOND)&&Number(w)>5){v=this.leadZeroDateTime?v:v+1,a+=1,this._shiftStep(a),A--,this.leadZeroDateTime&&(c+="0");continue}let j=31,Q=h[a],ie=h[a+1],me=h[a+2],ge=h[a-1],ke=h[a-2],S=h.slice(a-3,a-1),T=h.slice(a-1,a+1),k=h.slice(a,a+2),W=h.slice(a-2,a);if(i[a]===d.DAY){let ne=i.slice(0,2)===d.MONTHS,ye=i.slice(0,2)===d.MONTHS&&this.specialCharacters.includes(ke);if(Number(w)>3&&this.leadZeroDateTime||!ne&&(Number(k)>j||Number(T)>j||this.specialCharacters.includes(ie))||(ye?Number(T)>j||!this.specialCharacters.includes(Q)&&this.specialCharacters.includes(me)||this.specialCharacters.includes(Q):Number(k)>j||this.specialCharacters.includes(ie)&&!s)){v=this.leadZeroDateTime?v:v+1,a+=1,this._shiftStep(a),A--,this.leadZeroDateTime&&(c+="0");continue}}if(i[a]===d.MONTH){let ye=a===0&&(Number(w)>2||Number(k)>12||this.specialCharacters.includes(ie)&&!s),_e=i.slice(a+2,a+3),Pe=S.includes(_e)&&i.includes("d0")&&(this.specialCharacters.includes(ke)&&Number(T)>12&&!this.specialCharacters.includes(Q)||this.specialCharacters.includes(Q)),X=Number(S)<=j&&!this.specialCharacters.includes(S)&&this.specialCharacters.includes(ge)&&(Number(k)>12||this.specialCharacters.includes(ie)),Ue=Number(k)>12&&a===5||this.specialCharacters.includes(ie)&&a===5,yt=Number(S)>j&&!this.specialCharacters.includes(S)&&!this.specialCharacters.includes(W)&&Number(W)>12&&i.includes("d0"),de=Number(S)<=j&&!this.specialCharacters.includes(S)&&!this.specialCharacters.includes(ge)&&Number(T)>12;if(Number(w)>1&&this.leadZeroDateTime||ye||Pe||de||yt||X||Ue&&!this.leadZeroDateTime){v=this.leadZeroDateTime?v:v+1,a+=1,this._shiftStep(a),A--,this.leadZeroDateTime&&(c+="0");continue}}c+=w,a++}else this.specialCharacters.includes(w)&&i[a]===w?(c+=w,a++):this.specialCharacters.indexOf(i[a]??d.EMPTY_STRING)!==-1?(c+=i[a],a++,this._shiftStep(a),A--):i[a]===d.NUMBER_NINE&&this.showMaskTyped?this._shiftStep(a):this.patterns[i[a]??d.EMPTY_STRING]&&this.patterns[i[a]??d.EMPTY_STRING]?.optional?(O[a]&&i!=="099.099.099.099"&&i!=="000.000.000-00"&&i!=="00.000.000/0000-00"&&!i.match(/^9+\.0+$/)&&!this.patterns[i[a]??d.EMPTY_STRING]?.optional&&(c+=O[a]),i.includes(d.NUMBER_NINE+d.SYMBOL_STAR)&&i.includes(d.NUMBER_ZERO+d.SYMBOL_STAR)&&a++,a++,A--):this.maskExpression[a+1]===d.SYMBOL_STAR&&this._findSpecialChar(this.maskExpression[a+2]??d.EMPTY_STRING)&&this._findSpecialChar(w)===this.maskExpression[a+2]&&p||this.maskExpression[a+1]===d.SYMBOL_QUESTION&&this._findSpecialChar(this.maskExpression[a+2]??d.EMPTY_STRING)&&this._findSpecialChar(w)===this.maskExpression[a+2]&&p?(a+=3,c+=w):this.showMaskTyped&&this.specialCharacters.indexOf(w)<0&&w!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(E=!0)}c[v-1]&&c.length+1===i.length&&this.specialCharacters.indexOf(i[i.length-1]??d.EMPTY_STRING)!==-1&&(c+=i[i.length-1]);let V=v+1;for(;this._shift.has(V);)y++,V++;let H=o&&!i.startsWith(d.SEPARATOR)?a:this._shift.has(v)?y:0;E&&H--,l(H,_),y<0&&this._shift.clear();let I=!1;s&&(I=O.every(A=>this.specialCharacters.includes(A)));let Y=`${this.prefix}${I?d.EMPTY_STRING:c}${this.showMaskTyped?"":this.suffix}`;c.length===0&&(Y=this.instantPrefix?`${this.prefix}${c}`:`${c}`);let B=h.length===1&&this.specialCharacters.includes(i[0])&&h!==i[0];if(!this._checkSymbolMask(h,i[1])&&B)return"";if(c.includes(d.MINUS)&&this.prefix&&this.allowNegativeNumbers){if(s&&c===d.MINUS)return"";Y=`${d.MINUS}${this.prefix}${c.split(d.MINUS).join(d.EMPTY_STRING)}${this.suffix}`}return Y}_findDropSpecialChar(t){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(i=>i===t):this._findSpecialChar(t)}_findSpecialChar(t){return this.specialCharacters.find(i=>i===t)}_checkSymbolMask(t,i){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[i]?.pattern&&this.patterns[i]?.pattern.test(t))??!1}_formatWithSeparators=(t,i,r,o)=>{let s=[],l="";if(Array.isArray(r)){let y=new RegExp(r.map(E=>"[\\^$.|?*+()".indexOf(E)>=0?`\\${E}`:E).join("|"));s=t.split(y),l=t.match(y)?.[0]??d.EMPTY_STRING}else s=t.split(r),l=r;let a=s.length>1?`${l}${s[1]}`:d.EMPTY_STRING,c=s[0]??d.EMPTY_STRING,p=this.separatorLimit.replace(/\s/g,d.EMPTY_STRING);p&&+p&&(c[0]===d.MINUS?c=`-${c.slice(1,c.length).slice(0,p.length)}`:c=c.slice(0,p.length));let _=/(\d+)(\d{3})/;for(;i&&_.test(c);)c=c.replace(_,"$1"+i+"$2");return typeof o>"u"?c+a:o===0?c:c+a.substring(0,o+1)};percentage=t=>{let i=t.replace(",","."),r=Number(this.allowNegativeNumbers&&t.includes(d.MINUS)?i.slice(1,t.length):i);return!isNaN(r)&&r>=0&&r<=100};getPrecision=t=>{let i=t.split(d.DOT);return i.length>1?Number(i[i.length-1]):1/0};checkAndRemoveSuffix=t=>{for(let i=this.suffix?.length-1;i>=0;i--){let r=this.suffix.substring(i,this.suffix?.length);if(t.includes(r)&&i!==this.suffix?.length-1&&(i-1<0||!t.includes(this.suffix.substring(i-1,this.suffix?.length))))return t.replace(r,d.EMPTY_STRING)}return t};checkInputPrecision=(t,i,r)=>{let o=t,s=r;if(i<1/0){if(Array.isArray(s)){let p=s.find(_=>_!==this.thousandSeparator);s=p||s[0]}let l=new RegExp(this._charToRegExpExpression(s)+`\\d{${i}}.*$`),a=o.match(l),c=(a&&a[0]?.length)??0;if(c-1>i){let p=c-1-i;o=o.substring(0,o.length-p)}i===0&&this._compareOrIncludes(o[o.length-1],s,this.thousandSeparator)&&(o=o.substring(0,o.length-1))}return o};_stripToDecimal(t){return t.split(d.EMPTY_STRING).filter((i,r)=>{let o=typeof this.decimalMarker=="string"?i===this.decimalMarker:this.decimalMarker.includes(i);return i.match("^-?\\d")||i===this.thousandSeparator||o||i===d.MINUS&&r===0&&this.allowNegativeNumbers}).join(d.EMPTY_STRING)}_charToRegExpExpression(t){return t&&(t===" "?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t){this._shift.add(t+this.prefix.length||0)}_compareOrIncludes(t,i,r){return Array.isArray(i)?i.filter(o=>o!==r).includes(t):t===i}_validIP(t){return!(t.length===4&&!t.some((i,r)=>t.length!==r+1?i===d.EMPTY_STRING||Number(i)>255:i===d.EMPTY_STRING||Number(i.substring(0,3))>255))}_splitPercentZero(t){if(t===d.MINUS&&this.allowNegativeNumbers)return t;let i=typeof this.decimalMarker=="string"?t.indexOf(this.decimalMarker):t.indexOf(d.DOT),r=this.allowNegativeNumbers&&t.includes(d.MINUS)?"-":"";if(i===-1){let o=parseInt(r?t.slice(1,t.length):t,10);return isNaN(o)?d.EMPTY_STRING:`${r}${o}`}else{let o=parseInt(t.replace("-","").substring(0,i),10),s=t.substring(i+1),l=isNaN(o)?"":o.toString(),a=typeof this.decimalMarker=="string"?this.decimalMarker:d.DOT;return l===d.EMPTY_STRING?d.EMPTY_STRING:`${r}${l}${a}${s}`}}_findFirstNonZeroAndDecimalIndex(t,i){let r=null,o=null;for(let s=0;s<t.length;s++){let l=t[s];if(l===i&&r===null&&(r=s),l&&l>="1"&&l<="9"&&o===null&&(o=s),r!==null&&o!==null)break}return{decimalMarkerIndex:r,nonZeroIndex:o}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=he({token:n,factory:n.\u0275fac})}return n})(),jr=(()=>{class n extends Ic{isNumberValue=!1;maskIsShown="";selStart=null;selEnd=null;maskChanged=!1;maskExpressionArray=[];triggerOnMaskChange=!1;previousValue="";currentValue="";writingValue=!1;_emitValue=!1;_start;_end;onChange=t=>{};_elementRef=at(Es,{optional:!0});document=at(Yi);_config=at(xn);_renderer=at(Ts,{optional:!0});applyMask(t,i,r=0,o=!1,s=!1,l=()=>{}){if(!i)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():d.EMPTY_STRING,this.maskExpression===d.IP&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||d.HASH)),this.maskExpression===d.CPF_CNPJ&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||d.HASH)),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let a=t&&typeof this.selStart=="number"?t[this.selStart]??d.EMPTY_STRING:d.EMPTY_STRING,c="",p=r;if((this.hiddenInput||t&&t.indexOf(d.SYMBOL_STAR)>=0)&&!this.writingValue){let h=t&&t.length===1?t.split(d.EMPTY_STRING):this.actualValue.split(d.EMPTY_STRING);s&&(h=h.slice(0,r).concat(h.slice(r+1))),this.showMaskTyped&&(t=this.removeMask(t),h=this.removeMask(h.join("")).split(d.EMPTY_STRING)),typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):t!==d.EMPTY_STRING&&h.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(t.length>h.length?h.splice(this.selStart,0,a):t.length<h.length&&(h.length-t.length===1?s?h.splice(this.selStart-1,1):h.splice(t.length-1,1):h.splice(this.selStart,this.selEnd-this.selStart))):h=[],this.showMaskTyped&&!this.hiddenInput&&(c=this.removeMask(t)),this.actualValue.length?h.length<t.length?c=this.shiftTypedSymbols(h.join(d.EMPTY_STRING)):h.length===t.length?c=h.join(d.EMPTY_STRING):c=t:c=t}if(o&&(this.hiddenInput||!this.hiddenInput)&&(c=t),s&&this.specialCharacters.indexOf(this.maskExpression[p]??d.EMPTY_STRING)!==-1&&this.showMaskTyped&&!this.prefix&&(c=this.currentValue),this.deletedSpecialCharacter&&p&&(this.specialCharacters.includes(this.actualValue.slice(p,p+1))?p=p+1:i.slice(p-1,p+1)!==d.MONTHS&&(p=p-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(c=this.removeMask(c)),this.maskChanged?c=t:c=c&&c.length?c:t,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!o&&!this.writingValue){let h=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(h),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let _=super.applyMask(c,i,p,o,s,l);if(this.actualValue=this.getActualValue(_),this.thousandSeparator===d.DOT&&this.decimalMarker===d.DOT&&(this.decimalMarker=d.COMMA),this.maskExpression.startsWith(d.SEPARATOR)&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(h=>!this._compareOrIncludes(h,this.decimalMarker,this.thousandSeparator))),(_||_==="")&&(this.previousValue=this.currentValue,this.currentValue=_,this._emitValue=this.previousValue!==this.currentValue||this.maskChanged||this.writingValue||this.previousValue===this.currentValue&&o),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(_)):this.formControlResult(_)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?`${this.hideInput(_,this.maskExpression)}${this.maskIsShown.slice(_.length)}`:_;let y=_.length,E=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes(d.HOURS)){let h=this._numberSkipedSymbols(_);return`${_}${E.slice(y+h)}`}else if(this.maskExpression===d.IP||this.maskExpression===d.CPF_CNPJ)return`${_}${E}`;return`${_}${E.slice(y)}`}_numberSkipedSymbols(t){let i=/(^|\D)(\d\D)/g,r=i.exec(t),o=0;for(;r!=null;)o+=1,r=i.exec(t);return o}applyValueChanges(t,i,r,o=()=>{}){let s=this._elementRef?.nativeElement;s&&(s.value=this.applyMask(s.value,this.maskExpression,t,i,r,o),s!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(t,i){return t.split(d.EMPTY_STRING).map((r,o)=>this.patterns&&this.patterns[i[o]??d.EMPTY_STRING]&&this.patterns[i[o]??d.EMPTY_STRING]?.symbol?this.patterns[i[o]??d.EMPTY_STRING]?.symbol:r).join(d.EMPTY_STRING)}getActualValue(t){let i=t.split(d.EMPTY_STRING).filter((r,o)=>{let s=this.maskExpression[o]??d.EMPTY_STRING;return this._checkSymbolMask(r,s)||this.specialCharacters.includes(s)&&r===s});return i.join(d.EMPTY_STRING)===t?i.join(d.EMPTY_STRING):t}shiftTypedSymbols(t){let i="";return(t&&t.split(d.EMPTY_STRING).map((o,s)=>{if(this.specialCharacters.includes(t[s+1]??d.EMPTY_STRING)&&t[s+1]!==this.maskExpression[s+1])return i=o,t[s+1];if(i.length){let l=i;return i=d.EMPTY_STRING,l}return o})||[]).join(d.EMPTY_STRING)}numberToString(t){return!t&&t!==0||this.maskExpression.startsWith(d.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith(d.SEPARATOR)&&this.separatorLimit.length>14&&String(t).length>14?String(t):Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace(`/${d.MINUS}/`,d.MINUS)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(t){if(this.maskExpression===d.IP)return this._checkForIp(t);if(this.maskExpression===d.CPF_CNPJ)return this._checkForCpfCnpj(t)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let t=this._elementRef?.nativeElement;t&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(this.placeHolderCharacter,d.EMPTY_STRING).length&&(this.formElementProperty=["value",d.EMPTY_STRING],this.applyMask("",this.maskExpression))}set formElementProperty([t,i]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,t,i))}checkDropSpecialCharAmount(t){return t.split(d.EMPTY_STRING).filter(r=>this._findDropSpecialChar(r)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){if(t===d.HASH)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let i=[];for(let r=0;r<t.length;r++){let o=t[r]??d.EMPTY_STRING;o&&o.match("\\d")&&i.push(o)}return i.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>3&&i.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>6&&i.length<=9?this.placeHolderCharacter:(i.length>9&&i.length<=12,"")}_checkForCpfCnpj(t){let i=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,r=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(t===d.HASH)return i;let o=[];for(let s=0;s<t.length;s++){let l=t[s]??d.EMPTY_STRING;l&&l.match("\\d")&&o.push(l)}return o.length<=3?i.slice(o.length,i.length):o.length>3&&o.length<=6?i.slice(o.length+1,i.length):o.length>6&&o.length<=9?i.slice(o.length+2,i.length):o.length>9&&o.length<11?i.slice(o.length+3,i.length):o.length===11?"":o.length===12?t.length===17?r.slice(16,r.length):r.slice(15,r.length):o.length>12&&o.length<=14?r.slice(o.length+4,r.length):""}_getActiveElement(t=this.document){let i=t?.activeElement?.shadowRoot;return i?.activeElement?this._getActiveElement(i):t.activeElement}formControlResult(t){if(this.writingValue&&!t){this.onChange(this.outputTransformFn(null));return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(t)))))),this.writingValue=!1,this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===t?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(t)))))):this.onChange(this.outputTransformFn(this._toNumber(t)))}_toNumber(t){if(!this.isNumberValue||t===d.EMPTY_STRING||this.maskExpression.startsWith(d.SEPARATOR)&&(this.leadZero||!this.dropSpecialCharacters))return t;if(String(t).length>14&&this.maskExpression.startsWith(d.SEPARATOR))return String(t);let i=Number(t);if(this.maskExpression.startsWith(d.SEPARATOR)&&Number.isNaN(i)){let r=String(t).replace(",",".");return Number(r)}return Number.isNaN(i)?t:i}_removeMask(t,i){return this.maskExpression.startsWith(d.PERCENT)&&t.includes(d.DOT)?t:t&&t.replace(this._regExpForRemove(i),d.EMPTY_STRING)}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,d.EMPTY_STRING):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,d.EMPTY_STRING):t}_retrieveSeparatorValue(t){let i=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(r=>this.dropSpecialCharacters.includes(r)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&t.includes(d.WHITE_SPACE)&&this.maskExpression.includes(d.SYMBOL_STAR)&&(i=i.filter(r=>r!==d.WHITE_SPACE)),this._removeMask(t,i)}_regExpForRemove(t){return new RegExp(t.map(i=>`\\${i}`).join("|"),"gi")}_replaceDecimalMarkerToDot(t){let i=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return t.replace(this._regExpForRemove(i),d.DOT)}_checkSymbols(t){let i=t;if(i===d.EMPTY_STRING)return i;this.maskExpression.startsWith(d.PERCENT)&&this.decimalMarker===d.COMMA&&(i=i.replace(d.COMMA,d.DOT));let r=this._retrieveSeparatorPrecision(this.maskExpression),o=this.specialCharacters.length===0?this._retrieveSeparatorValue(i):this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(i));return this.isNumberValue&&r?i===this.decimalMarker?null:o.length>14?String(o):this._checkPrecision(this.maskExpression,o):o}_checkPatternForSpace(){for(let t in this.patterns)if(this.patterns[t]&&this.patterns[t]?.hasOwnProperty("pattern")){let i=this.patterns[t]?.pattern.toString(),r=this.patterns[t]?.pattern;if(i?.includes(d.WHITE_SPACE)&&r?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(t){let i=t.match(new RegExp("^separator\\.([^d]*)"));return i?Number(i[1]):null}_checkPrecision(t,i){let r=this.getPrecision(t),o=i;return t.indexOf("2")>0||this.leadZero&&Number(r)>0?(this.decimalMarker===d.COMMA&&this.leadZero&&(o=o.replace(",",".")),this.leadZero?Number(o).toFixed(Number(r)):Number(o).toFixed(2)):this.numberToString(o)}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split(d.EMPTY_STRING).reduce((i,r,o)=>{if(this._start=r===d.CURLY_BRACKETS_LEFT?o:this._start,r!==d.CURLY_BRACKETS_RIGHT)return this._findSpecialChar(r)?i+r:i;this._end=o;let s=Number(t.slice(this._start+1,this._end)),l=new Array(s+1).join(t[this._start-1]);if(t.slice(0,this._start).length>1&&t.includes(d.LETTER_S)){let a=t.slice(0,this._start-1);return a.includes(d.CURLY_BRACKETS_LEFT)?i+l:a+i+l}else return i+l},"")||t}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=vs(n)))(r||n)}})();static \u0275prov=he({token:n,factory:n.\u0275fac})}return n})();function Dc(){let n=at(aa),e=at(sa);return e instanceof Function?z(z({},n),e()):z(z({},n),e)}function la(n){return[{provide:sa,useValue:n},{provide:aa,useValue:kc},{provide:xn,useFactory:Dc},jr]}var In=(()=>{class n{mask=ae("");specialCharacters=ae([]);patterns=ae({});prefix=ae("");suffix=ae("");thousandSeparator=ae(" ");decimalMarker=ae(".");dropSpecialCharacters=ae(null);hiddenInput=ae(null);showMaskTyped=ae(null);placeHolderCharacter=ae(null);shownMaskExpression=ae(null);clearIfNotMatch=ae(null);validation=ae(null);separatorLimit=ae("");allowNegativeNumbers=ae(null);leadZeroDateTime=ae(null);leadZero=ae(null);triggerOnMaskChange=ae(null);apm=ae(null);inputTransformFn=ae(null);outputTransformFn=ae(null);keepCharacterPositions=ae(null);instantPrefix=ae(null);maskFilled=ys();_maskValue=St("");_inputValue=St("");_position=St(null);_code=St("");_maskExpressionArray=St([]);_justPasted=St(!1);_isFocused=St(!1);_isComposing=St(!1);_maskService=at(jr,{self:!0});document=at(Yi);_config=at(xn);onChange=t=>{};onTouch=()=>{};ngOnChanges(t){let{mask:i,specialCharacters:r,patterns:o,prefix:s,suffix:l,thousandSeparator:a,decimalMarker:c,dropSpecialCharacters:p,hiddenInput:_,showMaskTyped:y,placeHolderCharacter:E,shownMaskExpression:h,clearIfNotMatch:v,validation:O,separatorLimit:D,allowNegativeNumbers:V,leadZeroDateTime:H,leadZero:I,triggerOnMaskChange:Y,apm:B,inputTransformFn:A,outputTransformFn:w,keepCharacterPositions:G,instantPrefix:j}=t;if(i&&(i.currentValue!==i.previousValue&&!i.firstChange&&(this._maskService.maskChanged=!0),i.currentValue&&i.currentValue.split(d.OR).length>1?(this._maskExpressionArray.set(i.currentValue.split(d.OR).sort((Q,ie)=>Q.length-ie.length)),this._setMask()):(this._maskExpressionArray.set([]),this._maskValue.set(i.currentValue||d.EMPTY_STRING),this._maskService.maskExpression=this._maskValue())),r){if(!r.currentValue||!Array.isArray(r.currentValue))return;this._maskService.specialCharacters=r.currentValue||[]}if(V&&(this._maskService.allowNegativeNumbers=V.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(Q=>Q!==d.MINUS))),o&&o.currentValue&&(this._maskService.patterns=o.currentValue),B&&B.currentValue&&(this._maskService.apm=B.currentValue),j&&(this._maskService.instantPrefix=j.currentValue),s&&(this._maskService.prefix=s.currentValue),l&&(this._maskService.suffix=l.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue,a.previousValue&&a.currentValue)){let Q=this._maskService.decimalMarker;a.currentValue===this._maskService.decimalMarker&&(this._maskService.decimalMarker=a.currentValue===d.COMMA?d.DOT:d.COMMA),this._maskService.dropSpecialCharacters===!0&&(this._maskService.specialCharacters=this._config.specialCharacters),typeof Q=="string"&&typeof this._maskService.decimalMarker=="string"&&(this._inputValue.set(this._inputValue().split(a.previousValue).join("").replace(Q,this._maskService.decimalMarker)),this._maskService.actualValue=this._inputValue()),this._maskService.writingValue=!0}c&&(this._maskService.decimalMarker=c.currentValue),p&&(this._maskService.dropSpecialCharacters=p.currentValue),_&&(this._maskService.hiddenInput=_.currentValue,_.previousValue===!0&&_.currentValue===!1&&this._inputValue.set(this._maskService.actualValue)),y&&(this._maskService.showMaskTyped=y.currentValue,y.previousValue===!1&&y.currentValue===!0&&this._isFocused()&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),E&&(this._maskService.placeHolderCharacter=E.currentValue),h&&(this._maskService.shownMaskExpression=h.currentValue),v&&(this._maskService.clearIfNotMatch=v.currentValue),O&&(this._maskService.validation=O.currentValue),D&&(this._maskService.separatorLimit=D.currentValue),H&&(this._maskService.leadZeroDateTime=H.currentValue),I&&(this._maskService.leadZero=I.currentValue),Y&&(this._maskService.triggerOnMaskChange=Y.currentValue),A&&(this._maskService.inputTransformFn=A.currentValue),w&&(this._maskService.outputTransformFn=w.currentValue),G&&(this._maskService.keepCharacterPositions=G.currentValue),this._applyMask()}validate({value:t}){let i=typeof t=="number"?String(t):t,r=this._maskValue();if(!this._maskService.validation||!r)return null;if(this._maskService.ipError)return this._createValidationError(i);if(this._maskService.cpfCnpjError)return this._createValidationError(i);if(r.startsWith(d.SEPARATOR)||xc.includes(r)||this._maskService.clearIfNotMatch)return null;if(Pc.includes(r))return this._validateTime(i);if(r===d.EMAIL_MASK)return!/^[^@]+@[^@]+\.[^@]+$/.test(i)&&i?this._createValidationError(i):null;if(i&&i.length>=1){let o=0;if(r.includes(d.CURLY_BRACKETS_LEFT)&&r.includes(d.CURLY_BRACKETS_RIGHT))return r.slice(r.indexOf(d.CURLY_BRACKETS_LEFT)+1,r.indexOf(d.CURLY_BRACKETS_RIGHT))===String(i.length)?null:this._createValidationError(i);if(r.startsWith(d.PERCENT))return null;for(let s in this._maskService.patterns)if(this._maskService.patterns[s]?.optional){if(r.indexOf(s)!==r.lastIndexOf(s)){let l=r.split(d.EMPTY_STRING).filter(a=>a===s).join(d.EMPTY_STRING);o+=l.length}else r.indexOf(s)!==-1&&o++;if(r.indexOf(s)!==-1&&i.length>=r.indexOf(s)||o===r.length)return null}if(r.indexOf(d.SYMBOL_STAR)>1&&i.length<r.indexOf(d.SYMBOL_STAR)||r.indexOf(d.SYMBOL_QUESTION)>1&&i.length<r.indexOf(d.SYMBOL_QUESTION))return this._createValidationError(i);if(r.indexOf(d.SYMBOL_STAR)===-1||r.indexOf(d.SYMBOL_QUESTION)===-1){let s=r.split("*"),l=this._maskService.dropSpecialCharacters?r.length-this._maskService.checkDropSpecialCharAmount(r)-o:this.prefix()?r.length+this.prefix().length-o:r.length-o;if(s.length===1&&i.length<l)return this._createValidationError(i);if(s.length>1){let a=s[s.length-1];if(a&&this._maskService.specialCharacters.includes(a[0])&&String(i).includes(a[0]??"")&&!this.dropSpecialCharacters()){let c=t.split(a[0]);return c[c.length-1].length===a.length-1?null:this._createValidationError(i)}else return(a&&!this._maskService.specialCharacters.includes(a[0])||!a||this._maskService.dropSpecialCharacters)&&i.length>=l-1?null:this._createValidationError(i)}}if(r.indexOf(d.SYMBOL_STAR)===1||r.indexOf(d.SYMBOL_QUESTION)===1)return null}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted.set(!0)}onFocus(){this._isFocused.set(!0)}onModelChange(t){(t===d.EMPTY_STRING||t===null||typeof t>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(d.EMPTY_STRING))}onInput(t){if(this._isComposing())return;let i=t.target,r=this._maskService.inputTransformFn(i.value);if(i.type!=="number")if(typeof r=="string"||typeof r=="number"){if(i.value=r.toString(),this._inputValue.set(i.value),this._setMask(),!this._maskValue()){this.onChange(i.value);return}let o=i.selectionStart===1?i.selectionStart+this._maskService.prefix.length:i.selectionStart;if(this.showMaskTyped()&&this.keepCharacterPositions()&&this._maskService.placeHolderCharacter.length===1){let c=this.suffix(),p=this.prefix(),_=i.value.slice(o-1,o),y=p.length,E=this._maskService._checkSymbolMask(_,this._maskService.maskExpression[o-1-y]??d.EMPTY_STRING),h=this._maskService._checkSymbolMask(_,this._maskService.maskExpression[o+1-y]??d.EMPTY_STRING),v=this._maskService.selStart===this._maskService.selEnd,O=Number(this._maskService.selStart)-y,D=Number(this._maskService.selEnd)-y,V=this._code()===d.BACKSPACE||this._code()===d.DELETE;if(V){if(!v)this._maskService.selStart===y?this._maskService.actualValue=`${p}${this._maskService.maskIsShown.slice(0,D)}${this._inputValue().split(p).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+y?this._maskService.actualValue=`${this._inputValue()}${this._maskService.maskIsShown.slice(O,D)}`:this._maskService.actualValue=`${p}${this._inputValue().split(p).join("").slice(0,O)}${this._maskService.maskIsShown.slice(O,D)}${this._maskService.actualValue.slice(D+y,this._maskService.maskIsShown.length+y)}${c}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(o-y,o+1-y))&&v)if(O===1&&p)this._maskService.actualValue=`${p}${this._maskService.placeHolderCharacter}${i.value.split(p).join("").split(c).join("")}${c}`,o=o-1;else{let H=i.value.substring(0,o),I=i.value.substring(o);this._maskService.actualValue=`${H}${this._maskService.placeHolderCharacter}${I}`}o=this._code()===d.DELETE?o+1:o}V||(!E&&!h&&v?o=Number(i.selectionStart)-1:this._maskService.specialCharacters.includes(i.value.slice(o,o+1))&&h&&!this._maskService.specialCharacters.includes(i.value.slice(o+1,o+2))?(this._maskService.actualValue=`${i.value.slice(0,o-1)}${i.value.slice(o,o+1)}${_}${i.value.slice(o+2)}`,o=o+1):E?i.value.length===1&&o===1?this._maskService.actualValue=`${p}${_}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${c}`:this._maskService.actualValue=`${i.value.slice(0,o-1)}${_}${i.value.slice(o+1).split(c).join("")}${c}`:p&&i.value.length===1&&o-y===1&&this._maskService._checkSymbolMask(i.value,this._maskService.maskExpression[o-1-y]??d.EMPTY_STRING)&&(this._maskService.actualValue=`${p}${i.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${c}`))}let s=0,l=!1;if(this._code()===d.DELETE&&d.SEPARATOR&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue().length>=this._maskService.maskExpression.length-1&&this._code()!==d.BACKSPACE&&this._maskService.maskExpression===d.DAYS_MONTHS_YEARS&&o<10){let c=this._inputValue().slice(o-1,o);i.value=this._inputValue().slice(0,o-1)+c+this._inputValue().slice(o+1)}if(this._maskService.maskExpression===d.DAYS_MONTHS_YEARS&&this.leadZeroDateTime()&&(o<3&&Number(i.value)>31&&Number(i.value)<40||o===5&&Number(i.value.slice(3,5))>12)&&(o=o+2),this._maskService.maskExpression===d.HOURS_MINUTES_SECONDS&&this.apm()&&(this._justPasted()&&i.value.slice(0,2)===d.DOUBLE_ZERO&&(i.value=i.value.slice(1,2)+i.value.slice(2,i.value.length)),i.value=i.value===d.DOUBLE_ZERO?d.NUMBER_ZERO:i.value),this._maskService.applyValueChanges(o,this._justPasted(),this._code()===d.BACKSPACE||this._code()===d.DELETE,(c,p)=>{this._justPasted.set(!1),s=c,l=p}),this._getActiveElement()!==i)return;if(this._maskService.plusOnePosition&&(o=o+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray().length)if(this._code()===d.BACKSPACE){let c=this.specialCharacters().includes(this._maskService.actualValue.slice(o-1,o)),p=this._maskService.removeMask(this._inputValue())?.length===this._maskService.removeMask(this._maskService.maskExpression)?.length,_=this.specialCharacters().includes(this._maskService.actualValue.slice(o,o+1));p&&!_?o=i.selectionStart+1:o=c?o-1:o}else o=i.selectionStart===1?i.selectionStart+this._maskService.prefix.length:i.selectionStart;this._position.set(this._position()===1&&this._inputValue().length===1?null:this._position());let a=this._position()?this._inputValue().length+o+s:o+(this._code()===d.BACKSPACE&&!l?0:s);a>this._getActualInputLength()&&(a=i.value===this._maskService.decimalMarker&&i.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),a<0&&(a=0),i.setSelectionRange(a,a),this._position.set(null)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof r);else{if(!this._maskValue()){this.onChange(i.value);return}this._maskService.applyValueChanges(i.value.length,this._justPasted(),this._code()===d.BACKSPACE||this._code()===d.DELETE)}}onCompositionStart(){this._isComposing.set(!0)}onCompositionEnd(t){this._isComposing.set(!1),this._justPasted.set(!0),this.onInput(t)}onBlur(t){if(this._maskValue()){let i=t.target;if(this._maskService.leadZero&&i.value.length>0&&typeof this._maskService.decimalMarker=="string"){let r=this._maskService.maskExpression,o=this._maskService.decimalMarker,s=this._maskService.suffix,l=Number(this._maskService.maskExpression.slice(r.length-1,r.length));if(l>0){i.value=s?i.value.split(s).join(""):i.value;let a=i.value.split(o)[1];i.value=i.value.includes(o)?i.value+d.NUMBER_ZERO.repeat(l-a.length)+s:i.value+o+d.NUMBER_ZERO.repeat(l)+s,this._maskService.actualValue=i.value}}this._maskService.clearIfNotMatchFn()}this._isFocused.set(!1),this.onTouch()}onClick(t){if(!this._maskValue())return;let i=t.target,r=0,o=0;i!==null&&i.selectionStart!==null&&i.selectionStart===i.selectionEnd&&i.selectionStart>this._maskService.prefix.length&&t.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions()&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),i.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===i.value?(i.focus(),i.setSelectionRange(r,o)):i.selectionStart>this._maskService.actualValue.length&&i.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let s=i&&(i.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:i.value);if(i&&i.value!==s&&(i.value=s),i&&i.type!=="number"&&(i.selectionStart||i.selectionEnd)<=this._maskService.prefix.length){let l=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(a=>`\\${a}`).join("")}]+`))?.[0].length||0;i.selectionStart=this._maskService.prefix.length+l;return}i&&i.selectionEnd>this._getActualInputLength()&&(i.selectionEnd=this._getActualInputLength())}onKeyDown(t){if(!this._maskValue())return;if(this._isComposing()){t.key==="Enter"&&this.onCompositionEnd(t);return}this._code.set(t.code?t.code:t.key);let i=t.target;if(this._inputValue.set(i.value),this._setMask(),i.type!=="number"){if(t.key===d.ARROW_UP&&t.preventDefault(),t.key===d.ARROW_LEFT||t.key===d.BACKSPACE||t.key===d.DELETE){if(t.key===d.BACKSPACE&&i.value.length===0&&(i.selectionStart=i.selectionEnd),t.key===d.BACKSPACE&&i.selectionStart!==0){let o=this.prefix().length,s=this.specialCharacters().length?this.specialCharacters():this._config.specialCharacters;if(o>1&&i.selectionStart<=o)i.setSelectionRange(o,i.selectionEnd);else if(this._inputValue().length!==i.selectionStart&&i.selectionStart!==1)for(;s.includes((this._inputValue()[i.selectionStart-1]??d.EMPTY_STRING).toString())&&(o>=1&&i.selectionStart>o||o===0);)i.setSelectionRange(i.selectionStart-1,i.selectionEnd)}this.checkSelectionOnDeletion(i),this._maskService.prefix.length&&i.selectionStart<=this._maskService.prefix.length&&i.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();let r=i.selectionStart;t.key===d.BACKSPACE&&!i.readOnly&&r===0&&i.selectionEnd===i.value.length&&i.value.length!==0&&(this._position.set(this._maskService.prefix?this._maskService.prefix.length:0),this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position()))}this.suffix()&&this.suffix().length>1&&this._inputValue().length-this.suffix().length<i.selectionStart?i.setSelectionRange(this._inputValue().length-this.suffix().length,this._inputValue().length):(t.code==="KeyA"&&t.ctrlKey||t.code==="KeyA"&&t.metaKey)&&(i.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=i.selectionStart,this._maskService.selEnd=i.selectionEnd}}writeValue(t){return fs(this,null,function*(){let i=t,r=this.inputTransformFn();if(typeof i=="object"&&i!==null&&"value"in i&&("disable"in i&&this.setDisabledState(!!i.disable),i=i.value),i!==null&&(i=r?r(i):i),typeof i=="string"||typeof i=="number"||i===null||typeof i>"u"){(i===null||typeof i>"u"||i==="")&&(this._maskService.currentValue="",this._maskService.previousValue="");let o=i;if(typeof o=="number"||this._maskValue().startsWith(d.SEPARATOR)){o=String(o);let s=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(o=this._maskService.decimalMarker!==s?o.replace(s,this._maskService.decimalMarker):o),this._maskService.leadZero&&o&&this.mask()&&this.dropSpecialCharacters()!==!1&&(o=this._maskService._checkPrecision(this._maskService.maskExpression,o)),(this._maskService.decimalMarker===d.COMMA||Array.isArray(this._maskService.decimalMarker)&&this._maskService.thousandSeparator===d.DOT)&&(o=o.toString().replace(d.DOT,d.COMMA)),this.mask()?.startsWith(d.SEPARATOR)&&this.leadZero()&&requestAnimationFrame(()=>{this._maskService.applyMask(o?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}(typeof o!="string"||i===null||typeof i>"u")&&(o=""),this._inputValue.set(o),this._setMask(),o&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(typeof r!="function"&&(this._maskService.writingValue=!0),this._maskService.formElementProperty=["value",this._maskService.applyMask(o,this._maskService.maskExpression)],typeof r!="function"&&(this._maskService.writingValue=!1)):this._maskService.formElementProperty=["value",o],this._inputValue.set(o)}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof i)})}registerOnChange(t){this._maskService.onChange=this.onChange=t}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){let i=t?.activeElement?.shadowRoot;return i?.activeElement?this._getActiveElement(i):t.activeElement}checkSelectionOnDeletion(t){let i=this.prefix().length,r=this.suffix().length,o=this._inputValue().length;t.selectionStart=Math.min(Math.max(i,t.selectionStart),o-r),t.selectionEnd=Math.min(Math.max(i,t.selectionEnd),o-r)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue()||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue(),this._maskService.maskExpression)]}_validateTime(t){let i=this._maskValue().split(d.EMPTY_STRING).filter(r=>r!==":").length;return t&&(+(t[t.length-1]??-1)==0&&t.length<i||t.length<=i-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue(),actualValue:t}}}_setMask(){this._maskExpressionArray().some(t=>{if(t.split(d.EMPTY_STRING).some(r=>this._maskService.specialCharacters.includes(r))&&this._inputValue()&&this._areAllCharactersInEachStringSame(this._maskExpressionArray())||t.includes(d.CURLY_BRACKETS_LEFT)){let r=this._maskService.removeMask(this._inputValue())?.length<=this._maskService.removeMask(t)?.length;if(r){let o=t.includes(d.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(t):t;return this._maskValue.set(o),this._maskService.maskExpression=o,r}else{let o=this._maskExpressionArray()[this._maskExpressionArray().length-1]??d.EMPTY_STRING,s=o.includes(d.CURLY_BRACKETS_LEFT)?this._maskService._repeatPatternSymbols(o):o;this._maskValue.set(s),this._maskService.maskExpression=s}}else{let r=this._maskService.removeMask(t),o=this._maskService.removeMask(this._inputValue())?.split(d.EMPTY_STRING).every((s,l)=>{let a=r.charAt(l);return this._maskService._checkSymbolMask(s,a)});if(o||this._justPasted())return this._maskValue.set(t),this._maskService.maskExpression=t,o}})}_areAllCharactersInEachStringSame(t){let i=this._maskService.specialCharacters;function r(s){let l=new RegExp(`[${i.map(a=>`\\${a}`).join("")}]`,"g");return s.replace(l,"")}return t.map(r).every(s=>new Set(s).size===1)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=_s({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(i,r){i&1&&M("paste",function(){return r.onPaste()})("focus",function(s){return r.onFocus(s)})("ngModelChange",function(s){return r.onModelChange(s)})("input",function(s){return r.onInput(s)})("compositionstart",function(s){return r.onCompositionStart(s)})("compositionend",function(s){return r.onCompositionEnd(s)})("blur",function(s){return r.onBlur(s)})("click",function(s){return r.onClick(s)})("keydown",function(s){return r.onKeyDown(s)})},inputs:{mask:[1,"mask"],specialCharacters:[1,"specialCharacters"],patterns:[1,"patterns"],prefix:[1,"prefix"],suffix:[1,"suffix"],thousandSeparator:[1,"thousandSeparator"],decimalMarker:[1,"decimalMarker"],dropSpecialCharacters:[1,"dropSpecialCharacters"],hiddenInput:[1,"hiddenInput"],showMaskTyped:[1,"showMaskTyped"],placeHolderCharacter:[1,"placeHolderCharacter"],shownMaskExpression:[1,"shownMaskExpression"],clearIfNotMatch:[1,"clearIfNotMatch"],validation:[1,"validation"],separatorLimit:[1,"separatorLimit"],allowNegativeNumbers:[1,"allowNegativeNumbers"],leadZeroDateTime:[1,"leadZeroDateTime"],leadZero:[1,"leadZero"],triggerOnMaskChange:[1,"triggerOnMaskChange"],apm:[1,"apm"],inputTransformFn:[1,"inputTransformFn"],outputTransformFn:[1,"outputTransformFn"],keepCharacterPositions:[1,"keepCharacterPositions"],instantPrefix:[1,"instantPrefix"]},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[Ps([{provide:zs,useExisting:n,multi:!0},{provide:Ks,useExisting:n,multi:!0},jr]),Tn]})}return n})();function Rc(n,e){n&1&&(u(0,"th"),f(1,"A\xE7\xF5es"),m())}function Lc(n,e){if(n&1){let t=ee();u(0,"td")(1,"button",19),M("click",function(){P(t);let r=N().index,o=N();return x(o.removerItem(r))}),R(2,"i",20),m()()}}function Vc(n,e){if(n&1&&(u(0,"tr")(1,"td")(2,"strong"),f(3),m()(),u(4,"td")(5,"strong"),f(6),m()(),u(7,"td"),f(8),m(),u(9,"td"),f(10),m(),q(11,Lc,3,0,"td",13),m()),n&2){let t=e.$implicit,i=N();g(3),te(t.quantidade),g(3),te(t.produtoNome),g(2),Ie("R$ ",t.precoUnitario.toFixed(2),""),g(2),Ie("R$ ",(t.precoUnitario*t.quantidade).toFixed(2),""),g(),C("ngIf",!i.somenteVisualizacao)}}function Fc(n,e){if(n&1){let t=ee();u(0,"div",21)(1,"div",22)(2,"h6",23),R(3,"i",24),f(4," Adicionar Item ao Or\xE7amento "),m(),u(5,"div",25)(6,"div",26)(7,"label",3),f(8,"Quantidade"),m(),u(9,"input",27),U("ngModelChange",function(r){P(t);let o=N();return $(o.novoItem.quantidade,r)||(o.novoItem.quantidade=r),x(r)}),m()(),u(10,"div",28)(11,"label",3),f(12,"Produto"),m(),u(13,"input",29),U("ngModelChange",function(r){P(t);let o=N();return $(o.novoItem.produtoNome,r)||(o.novoItem.produtoNome=r),x(r)}),m()(),u(14,"div",30)(15,"label",3),f(16,"Valor Unit\xE1rio"),m(),u(17,"input",31),U("ngModelChange",function(r){P(t);let o=N();return $(o.novoItem.precoUnitario,r)||(o.novoItem.precoUnitario=r),x(r)}),m()(),u(18,"div",32)(19,"button",33),M("click",function(){P(t);let r=N();return x(r.adicionarItem())}),R(20,"i",34),m()()()()()}if(n&2){let t=N();g(9),F("ngModel",t.novoItem.quantidade),g(4),F("ngModel",t.novoItem.produtoNome),g(4),F("ngModel",t.novoItem.precoUnitario)}}function $c(n,e){if(n&1){let t=ee();u(0,"div",35)(1,"button",36),M("click",function(){P(t);let r=N();return x(r.fechar())}),f(2,"Cancelar"),m(),u(3,"button",37),M("click",function(){P(t);let r=N();return x(r.salvarOrcamento())}),f(4),m()()}if(n&2){let t=N();g(3),C("disabled",!t.formValid()),g(),Ie(" ",t.orcamento.id?"Atualizar":"Salvar"," Or\xE7amento ")}}var wi=class n{constructor(e){this.cdr=e}visible=!1;somenteVisualizacao=!1;_orcamento={clienteNome:"",clienteTelefone:"",clienteEmail:"",nomeServico:"",informacoesArte:"",observacoes:"",mensagem:"",valorTotal:0,itens:[]};set orcamento(e){this._orcamento=Et(z({},e),{itens:e.itens?.map(t=>z({},t))??[]})}get orcamento(){return this._orcamento}closed=new We;salvar=new We;ngOnChanges(){this.cdr.detectChanges()}novoItem={produtoNome:"",precoUnitario:0,quantidade:1};adicionarItem(){let e=z({},this.novoItem);!e.produtoNome||e.precoUnitario<=0||e.quantidade<=0||(this.orcamento.itens=[...this.orcamento.itens,e],this.recalcularTotal(),this.novoItem={produtoNome:"",precoUnitario:0,quantidade:1})}removerItem(e){let t=[...this.orcamento.itens];t.splice(e,1),this.orcamento.itens=t,this.recalcularTotal()}recalcularTotal(){this.orcamento.valorTotal=this.orcamento.itens.reduce((e,t)=>e+t.precoUnitario*t.quantidade,0)}fechar(){this.closed.emit()}salvarOrcamento(){console.log(this.orcamento),this.salvar.emit(this.orcamento)}formValid(){let e=this.orcamento.clienteEmail.includes("@");return this.orcamento.clienteNome.trim()!==""&&this.orcamento.clienteTelefone.trim()!==""&&this.orcamento.clienteEmail.trim()!==""&&this.orcamento.nomeServico.trim()!==""&&e}static \u0275fac=function(t){return new(t||n)(J(Ds))};static \u0275cmp=re({type:n,selectors:[["app-orcamento-modal"]],inputs:{visible:"visible",somenteVisualizacao:"somenteVisualizacao",orcamento:"orcamento"},outputs:{closed:"closed",salvar:"salvar"},standalone:!0,features:[Tn,oe],decls:52,vars:22,consts:[[3,"closed","title","visible","large"],[1,"px-3","pt-2"],[1,"mb-3"],[1,"form-label"],["type","text","name","clienteNomeInput","minlength","3",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","clienteTelefoneInput","mask","(00) 0 0000-0000",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","email","name","clienteEmailInput",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","name","nomeServicoInput",1,"form-control",3,"ngModelChange","ngModel","disabled"],["rows","3","name","informacoesArteInput",1,"form-control",3,"ngModelChange","ngModel","disabled"],["rows","2","name","observacoesInput",1,"form-control",3,"ngModelChange","ngModel","disabled"],["rows","2","name","mensagemInput",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"text-success","text-center"],[1,"table","text-center","tabela-itens"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","card mb-3 bg-light border-primary rounded",4,"ngIf"],[1,"text-end","mb-3"],[1,"text-danger","fs-5"],["class","text-end pb-3",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"card","mb-3","bg-light","border-primary","rounded"],[1,"card-body"],[1,"text-primary","mb-3"],[1,"bi","bi-plus-circle"],[1,"row","g-2","align-items-end"],[1,"col-md-2"],["type","number","name","novaQtd","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-5"],["type","text","name","novoProduto",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["type","number","name","novoPreco","min","0","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2","text-end"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[1,"bi","bi-plus-circle-fill"],[1,"text-end","pb-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"]],template:function(t,i){if(t&1&&(u(0,"app-modal",0),M("closed",function(){return i.fechar()}),u(1,"form",1)(2,"div",2)(3,"label",3),f(4,"Nome do Cliente *"),m(),u(5,"input",4),U("ngModelChange",function(o){return $(i.orcamento.clienteNome,o)||(i.orcamento.clienteNome=o),o}),m()(),u(6,"div",2)(7,"label",3),f(8,"Telefone *"),m(),u(9,"input",5),U("ngModelChange",function(o){return $(i.orcamento.clienteTelefone,o)||(i.orcamento.clienteTelefone=o),o}),m()(),u(10,"div",2)(11,"label",3),f(12,"Email *"),m(),u(13,"input",6),U("ngModelChange",function(o){return $(i.orcamento.clienteEmail,o)||(i.orcamento.clienteEmail=o),o}),m()(),u(14,"div",2)(15,"label",3),f(16,"Resumo do Servi\xE7o *"),m(),u(17,"input",7),U("ngModelChange",function(o){return $(i.orcamento.nomeServico,o)||(i.orcamento.nomeServico=o),o}),m()(),u(18,"div",2)(19,"label",3),f(20,"Informa\xE7\xF5es de Arte"),m(),u(21,"textarea",8),U("ngModelChange",function(o){return $(i.orcamento.informacoesArte,o)||(i.orcamento.informacoesArte=o),o}),m()(),u(22,"div",2)(23,"label",3),f(24,"Observa\xE7\xF5es"),m(),u(25,"textarea",9),U("ngModelChange",function(o){return $(i.orcamento.observacoes,o)||(i.orcamento.observacoes=o),o}),m()(),u(26,"div",2)(27,"label",3),f(28,"Mensagem"),m(),u(29,"textarea",10),U("ngModelChange",function(o){return $(i.orcamento.mensagem,o)||(i.orcamento.mensagem=o),o}),m()(),u(30,"div",2)(31,"h6",11),f(32,"Itens do Or\xE7amento"),m(),u(33,"table",12)(34,"thead")(35,"tr")(36,"th"),f(37,"Qtd."),m(),u(38,"th"),f(39,"Produto"),m(),u(40,"th"),f(41,"Val. Unit\xE1rio"),m(),u(42,"th"),f(43,"Subtotal"),m(),q(44,Rc,2,0,"th",13),m()(),u(45,"tbody"),q(46,Vc,12,5,"tr",14),m()(),q(47,Fc,21,3,"div",15),m(),u(48,"div",16)(49,"strong",17),f(50),m()(),q(51,$c,5,2,"div",18),m()()),t&2){let r;C("title",i.orcamento.id?"Visualizar Or\xE7amento":"Salvar Or\xE7amento")("visible",i.visible)("large",!0),g(5),F("ngModel",i.orcamento.clienteNome),C("disabled",i.somenteVisualizacao),g(4),F("ngModel",i.orcamento.clienteTelefone),C("disabled",i.somenteVisualizacao),g(4),F("ngModel",i.orcamento.clienteEmail),C("disabled",i.somenteVisualizacao),g(4),F("ngModel",i.orcamento.nomeServico),C("disabled",i.somenteVisualizacao),g(4),F("ngModel",i.orcamento.informacoesArte),C("disabled",i.somenteVisualizacao),g(4),F("ngModel",i.orcamento.observacoes),C("disabled",i.somenteVisualizacao),g(4),F("ngModel",i.orcamento.mensagem),C("disabled",i.somenteVisualizacao),g(15),C("ngIf",!i.somenteVisualizacao),g(2),C("ngForOf",i.orcamento.itens),g(),C("ngIf",!i.somenteVisualizacao),g(3),Ie(" Valor Total: R$ ",((r=i.orcamento.valorTotal)!==null&&r!==void 0?r:0).toFixed(2)," "),g(),C("ngIf",!i.somenteVisualizacao)}},dependencies:[Dt,Fe,Ze,Oe,yi,Ae,Qe,Js,Xs,Ve,dt,le,mt,be,In],styles:[".tabela-itens[_ngcontent-%COMP%]{border:1px solid var(--color-primary);border-radius:8px;overflow:hidden}.tabela-itens[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--color-primary-light);color:#fff}.tabela-itens[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter);border-bottom:1px solid var(--color-primary-light);transition:background-color .3s ease}.tabela-itens[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-light);color:#fff}.tabela-itens[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabela-itens[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}"]})};function Uc(n,e){if(n&1){let t=ee();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),f(5),m(),u(6,"button",6),M("click",function(){P(t);let r=N();return x(r.fechar())}),m()(),u(7,"div",7),R(8,"p",8),m(),u(9,"div",9)(10,"button",10),M("click",function(){P(t);let r=N();return x(r.fechar())}),f(11,"N\xE3o"),m(),u(12,"button",11),M("click",function(){P(t);let r=N();return x(r.confirmarAcao())}),f(13,"Sim"),m()()()()()}if(n&2){let t=N();g(5),te(t.titulo),g(3),C("innerHTML",t.texto,Ss)}}var Rt=class n{visible=!1;texto="Voc\xEA tem certeza?";titulo="Confirma\xE7\xE3o";confirmar=new We;cancelar=new We;fechar(){this.cancelar.emit()}confirmarAcao(){this.confirmar.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-modal-confirmacao"]],inputs:{visible:"visible",texto:"texto",titulo:"titulo"},outputs:{confirmar:"confirmar",cancelar:"cancelar"},standalone:!0,features:[oe],decls:1,vars:1,consts:[["class","modal fade show d-block","tabindex","-1",4,"ngIf"],["tabindex","-1",1,"modal","fade","show","d-block"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Fechar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&q(0,Uc,14,2,"div",0),t&2&&C("ngIf",i.visible)},dependencies:[le,be],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}.modal-content[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter);border:1px solid var(--color-primary-light);border-radius:1rem;box-shadow:0 6px 20px #0003;overflow:hidden}.modal-header[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#fff;padding:1rem 1.5rem;border-bottom:1px solid var(--color-primary-dark)}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.btn-close[_ngcontent-%COMP%]{background-color:transparent;border:none;filter:brightness(0) invert(1)}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;font-size:1.1rem;color:var(--color-text-dark);text-align:center}.modal-footer[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter);padding:1rem;border-top:1px solid var(--color-primary-light)}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px;font-weight:700;padding:.5rem 1.25rem}"]})};var Wc=["*"],Lt=class n{titulo="";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-page-header"]],inputs:{titulo:"titulo"},standalone:!0,features:[oe],ngContentSelectors:Wc,decls:6,vars:1,consts:[[1,"page-header-container"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","gap-2"],[1,"page-title","m-0"],[1,"page-content","mt-3"]],template:function(t,i){t&1&&(Mn(),u(0,"div",0)(1,"div",1)(2,"h2",2),f(3),m()(),u(4,"div",3),zi(5),m()()),t&2&&(g(3),te(i.titulo))},styles:[".page-header-container[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter);padding:1.5rem;border-radius:12px;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d}.page-title[_ngcontent-%COMP%]{font-weight:600;color:var(--color-primary-dark);font-size:1.4rem;margin:0}.page-content[_ngcontent-%COMP%]{margin:1.5rem}"]})};var Mi=class n{constructor(e,t,i){this.api=e;this.toast=t;this.loading=i}endpoint="api/orcamentos";listarTodos(e=0,t=10,i,r,o,s){this.loading.show();let l=new Ls().set("page",e).set("size",t);return i&&(l=l.set("nome",i)),r&&(l=l.set("status",r)),o&&(l=l.set("dataInicial",o)),s&&(l=l.set("dataFinal",s)),this.api.get(this.endpoint,l).pipe(Le(()=>this.loading.hide()),Ke(a=>(this.toast.show("Erro ao listar or\xE7amentos",!1),Ye(()=>a))))}buscarPorId(e){return this.loading.show(),this.api.get(`${this.endpoint}/${e}`).pipe(Le(()=>this.loading.hide()),Ke(t=>(this.toast.show("Erro ao buscar or\xE7amento",!1),Ye(()=>t))))}criar(e){return this.loading.show(),this.api.post(this.endpoint,e).pipe(Le(()=>this.loading.hide()),Ke(t=>(this.toast.show("Erro ao salvar or\xE7amento",!1),Ye(()=>t))))}atualizar(e,t){return this.loading.show(),this.api.put(`${this.endpoint}/${e}`,t).pipe(Le(()=>this.loading.hide()),Ke(i=>(this.toast.show("Erro ao atualizar or\xE7amento",!1),Ye(()=>i))))}atualizarStatus(e,t){return this.loading.show(),this.api.put(`${this.endpoint}/${e}/status`,{status:t}).pipe(Le(()=>this.loading.hide()),Ke(i=>(this.toast.show("Erro ao atualizar status",!1),Ye(()=>i))))}deletar(e){return this.loading.show(),this.api.delete(`${this.endpoint}/${e}`).pipe(Le(()=>this.loading.hide()),Ke(t=>(this.toast.show("Erro ao deletar or\xE7amento",!1),Ye(()=>t))))}static \u0275fac=function(t){return new(t||n)(se(Xe),se(Ne),se(Ei))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};var Hc=(n,e,t,i)=>({"bg-success":n,"bg-danger":e,"bg-warning":t,"bg-secondary":i});function Bc(n,e){n&1&&R(0,"i",46)}function jc(n,e){n&1&&R(0,"i",47)}function zc(n,e){n&1&&R(0,"i",48)}function Yc(n,e){if(n&1){let t=ee();u(0,"tr")(1,"td"),f(2),m(),u(3,"td")(4,"strong"),f(5),m()(),u(6,"td"),f(7),Fr(8,"date"),m(),u(9,"td"),f(10),Fr(11,"date"),m(),u(12,"td")(13,"span",37),f(14),m()(),u(15,"td",38)(16,"button",39),M("click",function(){let r=P(t).$implicit,o=N();return x(o.abrirModalEditar(r))}),R(17,"i",40),m(),u(18,"button",41),M("click",function(){let r=P(t).$implicit,o=N();return x(o.abrirModalConfirmacao(r))}),q(19,Bc,1,0,"i",42)(20,jc,1,0,"i",43)(21,zc,1,0,"i",44),m(),u(22,"button",45),M("click",function(){let r=P(t).$implicit,o=N();return x(o.abrirModalExclusao(r))}),R(23,"i",40),m()()()}if(n&2){let t=e.$implicit;g(2),te(t.id),g(3),te(t.clienteNome),g(2),te($r(8,16,t.dataCriacao,"dd/MM/yyyy")),g(3),te($r(11,19,t.dataValidade,"dd/MM/yyyy")),g(3),C("ngClass",xs(22,Hc,t.status==="APROVADO",t.status==="REPROVADO"||t.status==="CANCELADO",t.status==="VENCIDO",t.status==="PENDENTE")),g(),Ie(" ",t.status," "),g(2),Ms("title",t.status==="PENDENTE"?"Editar or\xE7amento":"Visualizar or\xE7amento"),g(),C("ngClass",t.status==="PENDENTE"?"bi-pencil":"bi-eye"),g(),C("disabled",t.status!=="PENDENTE")("title",t.status==="APROVADO"?"J\xE1 aprovado":"Aprovar or\xE7amento"),g(),C("ngIf",t.status==="APROVADO"),g(),C("ngIf",t.status!=="PENDENTE"&&t.status!=="APROVADO"),g(),C("ngIf",t.status==="PENDENTE"),g(),C("disabled",t.status!=="PENDENTE")("title",t.status!=="PENDENTE"?"A\xE7\xE3o indispon\xEDvel":"Cancelar or\xE7amento"),g(),C("ngClass",t.status==="PENDENTE"?"bi-x-circle":"bi-x-circle text-muted")}}var Dn=class n{constructor(e,t){this.orcamentoService=e;this.toast=t}modalSalvarAberto=!1;modalConfirmacaoVisivelTrello=!1;modalConfirmacaoExclusao=!1;somenteVisualizacao=!1;filtroBusca="";paginaAtual=0;itensPorPagina=10;orcamentos=[];totalRegistros=0;totalPaginas=0;filtroStatus="";filtroDataInicial="";filtroDataFinal="";formOrcamento={clienteNome:"",clienteTelefone:"",clienteEmail:"",nomeServico:"",observacoes:"",mensagem:"",valorTotal:0,itens:[]};ngOnInit(){this.carregarOrcamentos()}carregarOrcamentos(){this.orcamentoService.listarTodos(this.paginaAtual-0,this.itensPorPagina,this.filtroBusca,this.filtroStatus,this.filtroDataInicial,this.filtroDataFinal).subscribe(e=>{this.orcamentos=e.content,this.totalRegistros=e.totalElements,this.totalPaginas=e.totalPages})}orcamentoSelecionado;aplicarFiltro(){this.paginaAtual=0,this.carregarOrcamentos()}paginaAnterior(){this.paginaAtual>0&&(this.paginaAtual--,this.carregarOrcamentos())}paginaProxima(){this.paginaAtual<this.totalPaginas-1&&(this.paginaAtual++,this.carregarOrcamentos())}get primeiroRegistroPagina(){return this.orcamentos.length===0?0:this.paginaAtual*this.itensPorPagina+1}get ultimoRegistroPagina(){return Math.min((this.paginaAtual+1)*this.itensPorPagina,this.totalRegistros)}aprovarOrcamento(e){e.id&&(this.orcamentoService.atualizarStatus(e.id,"APROVADO").subscribe(()=>{this.toast.show("Or\xE7amento aprovado com sucesso!"),this.carregarOrcamentos()}),this.modalConfirmacaoVisivelTrello=!1)}cancelarOrcamento(e){e?.id&&this.orcamentoService.atualizarStatus(e.id,"CANCELADO").subscribe(()=>{this.toast.show("Or\xE7amento cancelado com sucesso!"),this.carregarOrcamentos(),this.modalConfirmacaoExclusao=!1})}abrirNovoOrcamento(){this.formOrcamento={clienteNome:"",clienteTelefone:"",clienteEmail:"",nomeServico:"",observacoes:"",mensagem:"",valorTotal:0,itens:[]},this.modalSalvarAberto=!0}abrirModalEditar(e){this.formOrcamento=Et(z({},e),{itens:e.itens?.map(t=>z({},t))||[]}),this.somenteVisualizacao=e.status!=="PENDENTE",this.modalSalvarAberto=!0}abrirModalConfirmacao(e){this.orcamentoSelecionado=e,this.modalConfirmacaoVisivelTrello=!0}abrirModalExclusao(e){this.orcamentoSelecionado=e,this.modalConfirmacaoExclusao=!0}salvarOuAtualizar(e){e.id?this.orcamentoService.atualizar(e.id,e).subscribe(()=>{this.carregarOrcamentos(),this.toast.show("Or\xE7amento atualizado com sucesso!"),this.modalSalvarAberto=!1}):this.orcamentoService.criar(e).subscribe(()=>{this.carregarOrcamentos(),this.toast.show("Or\xE7amento salvo com sucesso!"),this.modalSalvarAberto=!1})}limparFiltros(){this.filtroBusca="",this.filtroStatus="",this.filtroDataInicial="",this.filtroDataFinal="",this.paginaAtual=0,this.carregarOrcamentos()}validarIntervaloDatas(){if(this.filtroDataInicial&&this.filtroDataFinal){let e=new Date(this.filtroDataInicial);if(new Date(this.filtroDataFinal)<e){alert("A data final n\xE3o pode ser anterior \xE0 data inicial."),this.filtroDataFinal="";return}}this.aplicarFiltro()}static \u0275fac=function(t){return new(t||n)(J(Mi),J(Ne))};static \u0275cmp=re({type:n,selectors:[["app-orcamento-list"]],standalone:!0,features:[oe],decls:76,vars:24,consts:[[3,"titulo"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-primary","rounded-pill","d-flex","align-items-center","gap-2","px-4",3,"click"],[1,"bi","bi-plus-circle"],[1,"card","p-4","mb-4","shadow-sm"],[1,"mb-3","text-primary","fw-bold"],[1,"row","g-3","align-items-end"],[1,"col-md-4"],[1,"form-label"],[1,"input-group"],[1,"input-group-text","bg-white","border-end-0"],[1,"bi","bi-search","text-primary"],["type","text","placeholder","Digite aqui...",1,"form-control","border-start-0",3,"ngModelChange","input","ngModel"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","PENDENTE"],["value","APROVADO"],["value","REPROVADO"],["value","CANCELADO"],["value","VENCIDO"],[1,"col-md-2"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-md-1","d-flex","flex-column","gap-2"],[1,"btn","btn-primary","btn-sm","rounded-pill","d-flex","align-items-center","justify-content-center","gap-2",3,"click"],[1,"bi","bi-x-circle"],[1,"orcamentos-table","bg-white","p-3","rounded","shadow-sm"],[1,"table","table-hover","align-middle"],[1,"table-light","text-center"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"pagination","pagination-sm","mb-0"],[1,"page-item"],[1,"page-link",3,"click","disabled"],[3,"closed","salvar","visible","orcamento","somenteVisualizacao"],[3,"confirmar","cancelar","visible","titulo","texto"],[1,"badge",3,"ngClass"],[1,"d-flex","gap-1","justify-content-center","flex-wrap"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"bi",3,"ngClass"],[1,"btn","btn-light","btn-sm","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px",3,"click","disabled","title"],["class","bi bi-check-circle-fill text-success","style","font-size: 1.1rem;",4,"ngIf"],["class","bi bi-check-circle text-muted","style","font-size: 1.1rem;",4,"ngIf"],["class","bi bi-check-circle","style","font-size: 1.1rem;",4,"ngIf"],[1,"btn","btn-light","btn-sm",3,"click","disabled","title"],[1,"bi","bi-check-circle-fill","text-success",2,"font-size","1.1rem"],[1,"bi","bi-check-circle","text-muted",2,"font-size","1.1rem"],[1,"bi","bi-check-circle",2,"font-size","1.1rem"]],template:function(t,i){t&1&&(u(0,"app-page-header",0)(1,"div",1)(2,"button",2),M("click",function(){return i.abrirNovoOrcamento()}),R(3,"i",3),u(4,"span"),f(5,"Novo Or\xE7amento"),m()()(),u(6,"div",4)(7,"h5",5),f(8,"\u{1F50D} Filtros de Or\xE7amentos"),m(),u(9,"div",6)(10,"div",7)(11,"label",8),f(12,"Buscar por nome ou t\xEDtulo"),m(),u(13,"div",9)(14,"span",10),R(15,"i",11),m(),u(16,"input",12),U("ngModelChange",function(o){return $(i.filtroBusca,o)||(i.filtroBusca=o),o}),M("input",function(){return i.aplicarFiltro()}),m()()(),u(17,"div",13)(18,"label",8),f(19,"Status"),m(),u(20,"select",14),U("ngModelChange",function(o){return $(i.filtroStatus,o)||(i.filtroStatus=o),o}),M("change",function(){return i.aplicarFiltro()}),u(21,"option",15),f(22,"Todos"),m(),u(23,"option",16),f(24,"Pendente"),m(),u(25,"option",17),f(26,"Aprovado"),m(),u(27,"option",18),f(28,"Reprovado"),m(),u(29,"option",19),f(30,"Cancelado"),m(),u(31,"option",20),f(32,"Vencido"),m()()(),u(33,"div",21)(34,"label",8),f(35,"Data (de)"),m(),u(36,"input",22),U("ngModelChange",function(o){return $(i.filtroDataInicial,o)||(i.filtroDataInicial=o),o}),M("change",function(){return i.validarIntervaloDatas()}),m()(),u(37,"div",21)(38,"label",8),f(39,"Data (at\xE9)"),m(),u(40,"input",22),U("ngModelChange",function(o){return $(i.filtroDataFinal,o)||(i.filtroDataFinal=o),o}),M("change",function(){return i.validarIntervaloDatas()}),m()(),u(41,"div",23)(42,"button",24),M("click",function(){return i.limparFiltros()}),R(43,"i",25),m()()()()(),u(44,"div",26)(45,"table",27)(46,"thead",28)(47,"tr")(48,"th"),f(49,"Id"),m(),u(50,"th"),f(51,"Cliente"),m(),u(52,"th"),f(53,"Cria\xE7\xE3o"),m(),u(54,"th"),f(55,"Validade"),m(),u(56,"th"),f(57,"Status"),m(),u(58,"th"),f(59,"A\xE7\xF5es"),m()()(),u(60,"tbody",29),q(61,Yc,24,27,"tr",30),m()(),u(62,"div",31)(63,"div"),f(64),m(),u(65,"nav")(66,"ul",32)(67,"li",33)(68,"button",34),M("click",function(){return i.paginaAnterior()}),f(69,"Anterior"),m()(),u(70,"li",33)(71,"button",34),M("click",function(){return i.paginaProxima()}),f(72,"Pr\xF3xima"),m()()()()()(),u(73,"app-orcamento-modal",35),M("closed",function(){return i.modalSalvarAberto=!1})("salvar",function(o){return i.salvarOuAtualizar(o)}),m(),u(74,"app-modal-confirmacao",36),M("confirmar",function(){return i.aprovarOrcamento(i.orcamentoSelecionado)})("cancelar",function(){return i.modalConfirmacaoVisivelTrello=!1}),m(),u(75,"app-modal-confirmacao",36),M("confirmar",function(){return i.cancelarOrcamento(i.orcamentoSelecionado)})("cancelar",function(){return i.modalConfirmacaoExclusao=!1}),m()),t&2&&(C("titulo","Or\xE7amentos"),g(16),F("ngModel",i.filtroBusca),g(4),F("ngModel",i.filtroStatus),g(16),F("ngModel",i.filtroDataInicial),g(4),F("ngModel",i.filtroDataFinal),g(21),C("ngForOf",i.orcamentos),g(3),ks(" Exibindo ",i.primeiroRegistroPagina," a ",i.ultimoRegistroPagina," de ",i.totalRegistros," registros "),g(3),Ge("disabled",i.paginaAtual===1),g(),C("disabled",i.paginaAtual===1),g(2),Ge("disabled",i.paginaAtual===i.totalPaginas),g(),C("disabled",i.paginaAtual===i.totalPaginas),g(2),C("visible",i.modalSalvarAberto)("orcamento",i.formOrcamento)("somenteVisualizacao",i.somenteVisualizacao),g(),C("visible",i.modalConfirmacaoVisivelTrello)("titulo","Aprovar or\xE7amento!")("texto","Ao aprovar esse or\xE7amento voc\xEA estar\xE1 abrindo um card no Trello! <br> Deseja aprovar este or\xE7amento?"),g(),C("visible",i.modalConfirmacaoExclusao)("titulo","Cancelar or\xE7amento!")("texto","Tem certeza que deseja cancelar este or\xE7amento? Essa a\xE7\xE3o n\xE3o pode ser desfeita."))},dependencies:[le,kt,mt,be,Rs,Fe,pt,ft,Oe,ht,Ae,Ve,Pt,wi,Lt,Rt],styles:[".search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:999px 0 0 999px;border-right:none}.search-input[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border-radius:0 999px 999px 0;background-color:#fff;border-left:none}.search-input-container[_ngcontent-%COMP%]{width:50%;min-width:250px}@media (max-width: 768px){.search-input-container[_ngcontent-%COMP%]{width:100%}}.orcamentos-table[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:1rem;box-shadow:0 4px 12px #0000000d}.orcamentos-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 .75rem}.orcamentos-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;border-bottom:2px solid var(--color-primary-light)}.orcamentos-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.85rem;color:var(--color-text-dark);padding:.75rem}.orcamentos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff;border-radius:.75rem;box-shadow:0 1px 4px #0000000d;transition:box-shadow .2s}.orcamentos-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000012}.orcamentos-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;padding:1rem;font-size:.95rem;color:var(--color-text-dark);background-color:#fff;border-top:none}.orcamentos-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{border-radius:1rem;padding:.35em .75em;font-size:.75rem;font-weight:600;text-transform:uppercase}.orcamentos-table[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.5rem;padding:.35rem .6rem}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:1rem;padding:1.5rem;box-shadow:0 2px 6px #0000000d}.btn-disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none;cursor:not-allowed}"]})};function Gc(n,e){if(n&1){let t=ee();u(0,"div",17)(1,"label"),f(2,"Produto"),m(),R(3,"input",18),u(4,"label"),f(5,"Pre\xE7o Unit\xE1rio"),m(),R(6,"input",19),u(7,"label"),f(8,"Quantidade"),m(),R(9,"input",20),u(10,"button",21),M("click",function(){let r=P(t).index,o=N();return x(o.removeItem(r))}),f(11,"Remover"),m()()}if(n&2){let t=e.index;C("formGroupName",t)}}var Qi=class n{constructor(e,t,i,r){this.fb=e;this.http=t;this.route=i;this.router=r;this.form=this.fb.group({clienteNome:[""],clienteTelefone:[""],clienteEmail:[""],observacoes:[""],validade:[""],status:["APROVADO"],itens:this.fb.array([])})}form;isEditMode=!1;id=null;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.isEditMode=!!this.id,this.isEditMode?this.http.get(`/api/orcamentos/${this.id}`).subscribe(e=>{this.form.patchValue(e),e.itens.forEach(t=>this.addItem(t))}):this.addItem()}get itens(){return this.form.get("itens")}addItem(e={produtoNome:"",precoUnitario:0,quantidade:1}){this.itens.push(this.fb.group({produtoNome:[e.produtoNome],precoUnitario:[e.precoUnitario],quantidade:[e.quantidade]}))}removeItem(e){this.itens.removeAt(e)}submit(){let e=this.form.value;(this.isEditMode?this.http.put(`/api/orcamentos/${this.id}`,e):this.http.post("/api/orcamentos",e)).subscribe(()=>{this.router.navigate(["/orcamentos"])})}static \u0275fac=function(t){return new(t||n)(J(ea),J(An),J(Ws),J(qe))};static \u0275cmp=re({type:n,selectors:[["app-orcamento-form"]],standalone:!0,features:[oe],decls:41,vars:3,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","clienteNome",1,"form-control"],["type","text","formControlName","clienteTelefone",1,"form-control"],["type","email","formControlName","clienteEmail",1,"form-control"],["formControlName","observacoes",1,"form-control"],["type","date","formControlName","validade",1,"form-control"],["formControlName","status",1,"form-select"],["value","APROVADO"],["value","REPROVADO"],["value","VENCIDO"],["value","CANCELADO"],["formArrayName","itens"],["class","card p-3 mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","submit",1,"btn","btn-success","mt-4"],[1,"card","p-3","mb-3",3,"formGroupName"],["formControlName","produtoNome",1,"form-control","mb-2"],["type","number","formControlName","precoUnitario",1,"form-control","mb-2"],["type","number","formControlName","quantidade",1,"form-control","mb-2"],["type","button",1,"btn","btn-sm","btn-danger","mt-2",3,"click"]],template:function(t,i){t&1&&(u(0,"h2"),f(1),m(),u(2,"form",0),M("ngSubmit",function(){return i.submit()}),u(3,"div",1)(4,"label",2),f(5,"Nome do Cliente"),m(),R(6,"input",3),m(),u(7,"div",1)(8,"label",2),f(9,"Telefone"),m(),R(10,"input",4),m(),u(11,"div",1)(12,"label",2),f(13,"Email"),m(),R(14,"input",5),m(),u(15,"div",1)(16,"label",2),f(17,"Observa\xE7\xF5es"),m(),R(18,"textarea",6),m(),u(19,"div",1)(20,"label",2),f(21,"Validade"),m(),R(22,"input",7),m(),u(23,"div",1)(24,"label",2),f(25,"Status"),m(),u(26,"select",8)(27,"option",9),f(28,"Aprovado"),m(),u(29,"option",10),f(30,"Reprovado"),m(),u(31,"option",11),f(32,"Vencido"),m(),u(33,"option",12),f(34,"Cancelado"),m()()(),u(35,"div",13),q(36,Gc,12,1,"div",14),m(),u(37,"button",15),M("click",function(){return i.addItem()}),f(38,"+ Adicionar Item"),m(),u(39,"button",16),f(40,"Salvar"),m()()),t&2&&(g(),te(i.isEditMode?"\u270F\uFE0F Editar Or\xE7amento":"\u2795 Novo Or\xE7amento"),g(),C("formGroup",i.form),g(34),C("ngForOf",i.itens.controls))},dependencies:[le,mt,ta,Ze,pt,ft,Oe,yi,ht,Ae,Qe,Gs,Zs,qs,Qs,Pt],encapsulation:2})};var jn={};dc(jn,{afterMain:()=>fa,afterRead:()=>da,afterWrite:()=>va,applyStyles:()=>Ai,arrow:()=>Ln,auto:()=>Zi,basePlacements:()=>Ct,beforeMain:()=>ha,beforeRead:()=>ua,beforeWrite:()=>ga,bottom:()=>Ee,clippingParents:()=>zr,computeStyles:()=>ki,createPopper:()=>an,createPopperBase:()=>Oa,createPopperLite:()=>Aa,detectOverflow:()=>Re,end:()=>Vt,eventListeners:()=>Pi,flip:()=>Un,hide:()=>Wn,left:()=>fe,main:()=>pa,modifierPhases:()=>Kr,offset:()=>Hn,placements:()=>Ji,popper:()=>Jt,popperGenerator:()=>ai,popperOffsets:()=>Di,preventOverflow:()=>Bn,read:()=>ma,reference:()=>Yr,right:()=>ve,start:()=>_t,top:()=>pe,variationPlacements:()=>Rn,viewport:()=>Xi,write:()=>_a});var pe="top",Ee="bottom",ve="right",fe="left",Zi="auto",Ct=[pe,Ee,ve,fe],_t="start",Vt="end",zr="clippingParents",Xi="viewport",Jt="popper",Yr="reference",Rn=Ct.reduce(function(n,e){return n.concat([e+"-"+_t,e+"-"+Vt])},[]),Ji=[].concat(Ct,[Zi]).reduce(function(n,e){return n.concat([e,e+"-"+_t,e+"-"+Vt])},[]),ua="beforeRead",ma="read",da="afterRead",ha="beforeMain",pa="main",fa="afterMain",ga="beforeWrite",_a="write",va="afterWrite",Kr=[ua,ma,da,ha,pa,fa,ga,_a,va];function Ce(n){return n?(n.nodeName||"").toLowerCase():null}function ue(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function et(n){var e=ue(n).Element;return n instanceof e||n instanceof Element}function Se(n){var e=ue(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Oi(n){if(typeof ShadowRoot>"u")return!1;var e=ue(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function qc(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!Se(o)||!Ce(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var l=r[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function Qc(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),l=s.reduce(function(a,c){return a[c]="",a},{});!Se(r)||!Ce(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(a){r.removeAttribute(a)}))})}}var Ai={name:"applyStyles",enabled:!0,phase:"write",fn:qc,effect:Qc,requires:["computeStyles"]};function Te(n){return n.split("-")[0]}var lt=Math.max,ei=Math.min,Tt=Math.round;function Ni(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function en(){return!/^((?!chrome|android).)*safari/i.test(Ni())}function tt(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&Se(n)&&(r=n.offsetWidth>0&&Tt(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Tt(i.height)/n.offsetHeight||1);var s=et(n)?ue(n):window,l=s.visualViewport,a=!en()&&t,c=(i.left+(a&&l?l.offsetLeft:0))/r,p=(i.top+(a&&l?l.offsetTop:0))/o,_=i.width/r,y=i.height/o;return{width:_,height:y,top:p,right:c+_,bottom:p+y,left:c,x:c,y:p}}function ti(n){var e=tt(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function tn(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Oi(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function De(n){return ue(n).getComputedStyle(n)}function Gr(n){return["table","td","th"].indexOf(Ce(n))>=0}function we(n){return((et(n)?n.ownerDocument:n.document)||window.document).documentElement}function wt(n){return Ce(n)==="html"?n:n.assignedSlot||n.parentNode||(Oi(n)?n.host:null)||we(n)}function ya(n){return!Se(n)||De(n).position==="fixed"?null:n.offsetParent}function Zc(n){var e=/firefox/i.test(Ni()),t=/Trident/i.test(Ni());if(t&&Se(n)){var i=De(n);if(i.position==="fixed")return null}var r=wt(n);for(Oi(r)&&(r=r.host);Se(r)&&["html","body"].indexOf(Ce(r))<0;){var o=De(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ct(n){for(var e=ue(n),t=ya(n);t&&Gr(t)&&De(t).position==="static";)t=ya(t);return t&&(Ce(t)==="html"||Ce(t)==="body"&&De(t).position==="static")?e:t||Zc(n)||e}function ii(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ni(n,e,t){return lt(n,ei(e,t))}function Ea(n,e,t){var i=ni(n,e,t);return i>t?t:i}function nn(){return{top:0,right:0,bottom:0,left:0}}function rn(n){return Object.assign({},nn(),n)}function on(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Xc=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,rn(typeof e!="number"?e:on(e,Ct))};function Jc(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,l=Te(t.placement),a=ii(l),c=[fe,ve].indexOf(l)>=0,p=c?"height":"width";if(!(!o||!s)){var _=Xc(r.padding,t),y=ti(o),E=a==="y"?pe:fe,h=a==="y"?Ee:ve,v=t.rects.reference[p]+t.rects.reference[a]-s[a]-t.rects.popper[p],O=s[a]-t.rects.reference[a],D=ct(o),V=D?a==="y"?D.clientHeight||0:D.clientWidth||0:0,H=v/2-O/2,I=_[E],Y=V-y[p]-_[h],B=V/2-y[p]/2+H,A=ni(I,B,Y),w=a;t.modifiersData[i]=(e={},e[w]=A,e.centerOffset=A-B,e)}}function eu(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||tn(e.elements.popper,r)&&(e.elements.arrow=r))}var Ln={name:"arrow",enabled:!0,phase:"main",fn:Jc,effect:eu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function it(n){return n.split("-")[1]}var tu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function iu(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Tt(t*r)/r||0,y:Tt(i*r)/r||0}}function Sa(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,l=n.position,a=n.gpuAcceleration,c=n.adaptive,p=n.roundOffsets,_=n.isFixed,y=s.x,E=y===void 0?0:y,h=s.y,v=h===void 0?0:h,O=typeof p=="function"?p({x:E,y:v}):{x:E,y:v};E=O.x,v=O.y;var D=s.hasOwnProperty("x"),V=s.hasOwnProperty("y"),H=fe,I=pe,Y=window;if(c){var B=ct(t),A="clientHeight",w="clientWidth";if(B===ue(t)&&(B=we(t),De(B).position!=="static"&&l==="absolute"&&(A="scrollHeight",w="scrollWidth")),B=B,r===pe||(r===fe||r===ve)&&o===Vt){I=Ee;var G=_&&B===Y&&Y.visualViewport?Y.visualViewport.height:B[A];v-=G-i.height,v*=a?1:-1}if(r===fe||(r===pe||r===Ee)&&o===Vt){H=ve;var j=_&&B===Y&&Y.visualViewport?Y.visualViewport.width:B[w];E-=j-i.width,E*=a?1:-1}}var Q=Object.assign({position:l},c&&tu),ie=p===!0?iu({x:E,y:v},ue(t)):{x:E,y:v};if(E=ie.x,v=ie.y,a){var me;return Object.assign({},Q,(me={},me[I]=V?"0":"",me[H]=D?"0":"",me.transform=(Y.devicePixelRatio||1)<=1?"translate("+E+"px, "+v+"px)":"translate3d("+E+"px, "+v+"px, 0)",me))}return Object.assign({},Q,(e={},e[I]=V?v+"px":"",e[H]=D?E+"px":"",e.transform="",e))}function nu(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,l=t.roundOffsets,a=l===void 0?!0:l,c={placement:Te(e.placement),variation:it(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Sa(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Sa(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ki={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nu,data:{}};var Vn={passive:!0};function ru(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,l=s===void 0?!0:s,a=ue(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(p){p.addEventListener("scroll",t.update,Vn)}),l&&a.addEventListener("resize",t.update,Vn),function(){o&&c.forEach(function(p){p.removeEventListener("scroll",t.update,Vn)}),l&&a.removeEventListener("resize",t.update,Vn)}}var Pi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ru,data:{}};var ou={left:"right",right:"left",bottom:"top",top:"bottom"};function xi(n){return n.replace(/left|right|bottom|top/g,function(e){return ou[e]})}var su={start:"end",end:"start"};function Fn(n){return n.replace(/start|end/g,function(e){return su[e]})}function ri(n){var e=ue(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function oi(n){return tt(we(n)).left+ri(n).scrollLeft}function qr(n,e){var t=ue(n),i=we(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,l=0,a=0;if(r){o=r.width,s=r.height;var c=en();(c||!c&&e==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:o,height:s,x:l+oi(n),y:a}}function Qr(n){var e,t=we(n),i=ri(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=lt(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=lt(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+oi(n),a=-i.scrollTop;return De(r||t).direction==="rtl"&&(l+=lt(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:l,y:a}}function si(n){var e=De(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function $n(n){return["html","body","#document"].indexOf(Ce(n))>=0?n.ownerDocument.body:Se(n)&&si(n)?n:$n(wt(n))}function Ft(n,e){var t;e===void 0&&(e=[]);var i=$n(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=ue(i),s=r?[o].concat(o.visualViewport||[],si(i)?i:[]):i,l=e.concat(s);return r?l:l.concat(Ft(wt(s)))}function Ii(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function au(n,e){var t=tt(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function ba(n,e,t){return e===Xi?Ii(qr(n,t)):et(e)?au(e,t):Ii(Qr(we(n)))}function lu(n){var e=Ft(wt(n)),t=["absolute","fixed"].indexOf(De(n).position)>=0,i=t&&Se(n)?ct(n):n;return et(i)?e.filter(function(r){return et(r)&&tn(r,i)&&Ce(r)!=="body"}):[]}function Zr(n,e,t,i){var r=e==="clippingParents"?lu(n):[].concat(e),o=[].concat(r,[t]),s=o[0],l=o.reduce(function(a,c){var p=ba(n,c,i);return a.top=lt(p.top,a.top),a.right=ei(p.right,a.right),a.bottom=ei(p.bottom,a.bottom),a.left=lt(p.left,a.left),a},ba(n,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function sn(n){var e=n.reference,t=n.element,i=n.placement,r=i?Te(i):null,o=i?it(i):null,s=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,a;switch(r){case pe:a={x:s,y:e.y-t.height};break;case Ee:a={x:s,y:e.y+e.height};break;case ve:a={x:e.x+e.width,y:l};break;case fe:a={x:e.x-t.width,y:l};break;default:a={x:e.x,y:e.y}}var c=r?ii(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(o){case _t:a[c]=a[c]-(e[p]/2-t[p]/2);break;case Vt:a[c]=a[c]+(e[p]/2-t[p]/2);break;default:}}return a}function Re(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,l=t.boundary,a=l===void 0?zr:l,c=t.rootBoundary,p=c===void 0?Xi:c,_=t.elementContext,y=_===void 0?Jt:_,E=t.altBoundary,h=E===void 0?!1:E,v=t.padding,O=v===void 0?0:v,D=rn(typeof O!="number"?O:on(O,Ct)),V=y===Jt?Yr:Jt,H=n.rects.popper,I=n.elements[h?V:y],Y=Zr(et(I)?I:I.contextElement||we(n.elements.popper),a,p,s),B=tt(n.elements.reference),A=sn({reference:B,element:H,strategy:"absolute",placement:r}),w=Ii(Object.assign({},H,A)),G=y===Jt?w:B,j={top:Y.top-G.top+D.top,bottom:G.bottom-Y.bottom+D.bottom,left:Y.left-G.left+D.left,right:G.right-Y.right+D.right},Q=n.modifiersData.offset;if(y===Jt&&Q){var ie=Q[r];Object.keys(j).forEach(function(me){var ge=[ve,Ee].indexOf(me)>=0?1:-1,ke=[pe,Ee].indexOf(me)>=0?"y":"x";j[me]+=ie[ke]*ge})}return j}function Xr(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,l=t.flipVariations,a=t.allowedAutoPlacements,c=a===void 0?Ji:a,p=it(i),_=p?l?Rn:Rn.filter(function(h){return it(h)===p}):Ct,y=_.filter(function(h){return c.indexOf(h)>=0});y.length===0&&(y=_);var E=y.reduce(function(h,v){return h[v]=Re(n,{placement:v,boundary:r,rootBoundary:o,padding:s})[Te(v)],h},{});return Object.keys(E).sort(function(h,v){return E[h]-E[v]})}function cu(n){if(Te(n)===Zi)return[];var e=xi(n);return[Fn(n),e,Fn(e)]}function uu(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,l=s===void 0?!0:s,a=t.fallbackPlacements,c=t.padding,p=t.boundary,_=t.rootBoundary,y=t.altBoundary,E=t.flipVariations,h=E===void 0?!0:E,v=t.allowedAutoPlacements,O=e.options.placement,D=Te(O),V=D===O,H=a||(V||!h?[xi(O)]:cu(O)),I=[O].concat(H).reduce(function(X,Ue){return X.concat(Te(Ue)===Zi?Xr(e,{placement:Ue,boundary:p,rootBoundary:_,padding:c,flipVariations:h,allowedAutoPlacements:v}):Ue)},[]),Y=e.rects.reference,B=e.rects.popper,A=new Map,w=!0,G=I[0],j=0;j<I.length;j++){var Q=I[j],ie=Te(Q),me=it(Q)===_t,ge=[pe,Ee].indexOf(ie)>=0,ke=ge?"width":"height",S=Re(e,{placement:Q,boundary:p,rootBoundary:_,altBoundary:y,padding:c}),T=ge?me?ve:fe:me?Ee:pe;Y[ke]>B[ke]&&(T=xi(T));var k=xi(T),W=[];if(o&&W.push(S[ie]<=0),l&&W.push(S[T]<=0,S[k]<=0),W.every(function(X){return X})){G=Q,w=!1;break}A.set(Q,W)}if(w)for(var ne=h?3:1,ye=function(Ue){var yt=I.find(function(de){var xe=A.get(de);if(xe)return xe.slice(0,Ue).every(function(Me){return Me})});if(yt)return G=yt,"break"},_e=ne;_e>0;_e--){var Pe=ye(_e);if(Pe==="break")break}e.placement!==G&&(e.modifiersData[i]._skip=!0,e.placement=G,e.reset=!0)}}var Un={name:"flip",enabled:!0,phase:"main",fn:uu,requiresIfExists:["offset"],data:{_skip:!1}};function Ca(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Ta(n){return[pe,ve,Ee,fe].some(function(e){return n[e]>=0})}function mu(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Re(e,{elementContext:"reference"}),l=Re(e,{altBoundary:!0}),a=Ca(s,i),c=Ca(l,r,o),p=Ta(a),_=Ta(c);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":_})}var Wn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mu};function du(n,e,t){var i=Te(n),r=[fe,pe].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],l=o[1];return s=s||0,l=(l||0)*r,[fe,ve].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}}function hu(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=Ji.reduce(function(p,_){return p[_]=du(_,e.rects,o),p},{}),l=s[e.placement],a=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var Hn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hu};function pu(n){var e=n.state,t=n.name;e.modifiersData[t]=sn({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Di={name:"popperOffsets",enabled:!0,phase:"read",fn:pu,data:{}};function Jr(n){return n==="x"?"y":"x"}function fu(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,l=s===void 0?!1:s,a=t.boundary,c=t.rootBoundary,p=t.altBoundary,_=t.padding,y=t.tether,E=y===void 0?!0:y,h=t.tetherOffset,v=h===void 0?0:h,O=Re(e,{boundary:a,rootBoundary:c,padding:_,altBoundary:p}),D=Te(e.placement),V=it(e.placement),H=!V,I=ii(D),Y=Jr(I),B=e.modifiersData.popperOffsets,A=e.rects.reference,w=e.rects.popper,G=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,j=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),Q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ie={x:0,y:0};if(B){if(o){var me,ge=I==="y"?pe:fe,ke=I==="y"?Ee:ve,S=I==="y"?"height":"width",T=B[I],k=T+O[ge],W=T-O[ke],ne=E?-w[S]/2:0,ye=V===_t?A[S]:w[S],_e=V===_t?-w[S]:-A[S],Pe=e.elements.arrow,X=E&&Pe?ti(Pe):{width:0,height:0},Ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nn(),yt=Ue[ge],de=Ue[ke],xe=ni(0,A[S],X[S]),Me=H?A[S]/2-ne-xe-yt-j.mainAxis:ye-xe-yt-j.mainAxis,vi=H?-A[S]/2+ne+xe+de+j.mainAxis:_e+xe+de+j.mainAxis,Gt=e.elements.arrow&&ct(e.elements.arrow),ac=Gt?I==="y"?Gt.clientTop||0:Gt.clientLeft||0:0,ss=(me=Q?.[I])!=null?me:0,lc=T+Me-ss-ac,cc=T+vi-ss,as=ni(E?ei(k,lc):k,T,E?lt(W,cc):W);B[I]=as,ie[I]=as-T}if(l){var ls,uc=I==="x"?pe:fe,mc=I==="x"?Ee:ve,qt=B[Y],bn=Y==="y"?"height":"width",cs=qt+O[uc],us=qt-O[mc],Rr=[pe,fe].indexOf(D)!==-1,ms=(ls=Q?.[Y])!=null?ls:0,ds=Rr?cs:qt-A[bn]-w[bn]-ms+j.altAxis,hs=Rr?qt+A[bn]+w[bn]-ms-j.altAxis:us,ps=E&&Rr?Ea(ds,qt,hs):ni(E?ds:cs,qt,E?hs:us);B[Y]=ps,ie[Y]=ps-qt}e.modifiersData[i]=ie}}var Bn={name:"preventOverflow",enabled:!0,phase:"main",fn:fu,requiresIfExists:["offset"]};function eo(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function to(n){return n===ue(n)||!Se(n)?ri(n):eo(n)}function gu(n){var e=n.getBoundingClientRect(),t=Tt(e.width)/n.offsetWidth||1,i=Tt(e.height)/n.offsetHeight||1;return t!==1||i!==1}function io(n,e,t){t===void 0&&(t=!1);var i=Se(e),r=Se(e)&&gu(e),o=we(e),s=tt(n,r,t),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!t)&&((Ce(e)!=="body"||si(o))&&(l=to(e)),Se(e)?(a=tt(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=oi(o))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function _u(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!t.has(l)){var a=e.get(l);a&&r(a)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function no(n){var e=_u(n);return Kr.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function ro(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function oo(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var wa={placement:"bottom",modifiers:[],strategy:"absolute"};function Ma(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ai(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?wa:r;return function(l,a,c){c===void 0&&(c=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},wa,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},_=[],y=!1,E={state:p,setOptions:function(D){var V=typeof D=="function"?D(p.options):D;v(),p.options=Object.assign({},o,p.options,V),p.scrollParents={reference:et(l)?Ft(l):l.contextElement?Ft(l.contextElement):[],popper:Ft(a)};var H=no(oo([].concat(i,p.options.modifiers)));return p.orderedModifiers=H.filter(function(I){return I.enabled}),h(),E.update()},forceUpdate:function(){if(!y){var D=p.elements,V=D.reference,H=D.popper;if(Ma(V,H)){p.rects={reference:io(V,ct(H),p.options.strategy==="fixed"),popper:ti(H)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(j){return p.modifiersData[j.name]=Object.assign({},j.data)});for(var I=0;I<p.orderedModifiers.length;I++){if(p.reset===!0){p.reset=!1,I=-1;continue}var Y=p.orderedModifiers[I],B=Y.fn,A=Y.options,w=A===void 0?{}:A,G=Y.name;typeof B=="function"&&(p=B({state:p,options:w,name:G,instance:E})||p)}}}},update:ro(function(){return new Promise(function(O){E.forceUpdate(),O(p)})}),destroy:function(){v(),y=!0}};if(!Ma(l,a))return E;E.setOptions(c).then(function(O){!y&&c.onFirstUpdate&&c.onFirstUpdate(O)});function h(){p.orderedModifiers.forEach(function(O){var D=O.name,V=O.options,H=V===void 0?{}:V,I=O.effect;if(typeof I=="function"){var Y=I({state:p,name:D,instance:E,options:H}),B=function(){};_.push(Y||B)}})}function v(){_.forEach(function(O){return O()}),_=[]}return E}}var Oa=ai();var vu=[Pi,Di,ki,Ai],Aa=ai({defaultModifiers:vu});var yu=[Pi,Di,ki,Ai,Hn,Un,Bn,Ln,Wn],an=ai({defaultModifiers:yu});var $t=new Map,so={set(n,e,t){$t.has(n)||$t.set(n,new Map);let i=$t.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return $t.has(n)&&$t.get(n).get(e)||null},remove(n,e){if(!$t.has(n))return;let t=$t.get(n);t.delete(e),t.size===0&&$t.delete(n)}},Eu=1e6,Su=1e3,bo="transitionend",nl=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),bu=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),Cu=n=>{do n+=Math.floor(Math.random()*Eu);while(document.getElementById(n));return n},Tu=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),i=Number.parseFloat(e),r=Number.parseFloat(t);return!i&&!r?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Su)},rl=n=>{n.dispatchEvent(new Event(bo))},Mt=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ut=n=>Mt(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(nl(n)):null,Wi=n=>{if(!Mt(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let i=n.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},Wt=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",ol=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?ol(n.parentNode):null},Jn=()=>{},hn=n=>{n.offsetHeight},sl=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ao=[],wu=n=>{document.readyState==="loading"?(ao.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of ao)e()}),ao.push(n)):n()},nt=()=>document.documentElement.dir==="rtl",ot=n=>{wu(()=>{let e=sl();if(e){let t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},$e=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,al=(n,e,t=!0)=>{if(!t){$e(n);return}let r=Tu(e)+5,o=!1,s=({target:l})=>{l===e&&(o=!0,e.removeEventListener(bo,s),$e(n))};e.addEventListener(bo,s),setTimeout(()=>{o||rl(e)},r)},Oo=(n,e,t,i)=>{let r=n.length,o=n.indexOf(e);return o===-1?!t&&i?n[r-1]:n[0]:(o+=t?1:-1,i&&(o=(o+r)%r),n[Math.max(0,Math.min(o,r-1))])},Mu=/[^.]*(?=\..*)\.|.*/,Ou=/\..*/,Au=/::\d+$/,lo={},Na=1,ll={mouseenter:"mouseover",mouseleave:"mouseout"},Nu=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function cl(n,e){return e&&`${e}::${Na++}`||n.uidEvent||Na++}function ul(n){let e=cl(n);return n.uidEvent=e,lo[e]=lo[e]||{},lo[e]}function ku(n,e){return function t(i){return Ao(i,{delegateTarget:n}),t.oneOff&&b.off(n,i.type,e),e.apply(n,[i])}}function Pu(n,e,t){return function i(r){let o=n.querySelectorAll(e);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let l of o)if(l===s)return Ao(r,{delegateTarget:s}),i.oneOff&&b.off(n,r.type,e,t),t.apply(s,[r])}}function ml(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function dl(n,e,t){let i=typeof e=="string",r=i?t:e||t,o=hl(n);return Nu.has(o)||(o=n),[i,r,o]}function ka(n,e,t,i,r){if(typeof e!="string"||!n)return;let[o,s,l]=dl(e,t,i);e in ll&&(s=(h=>function(v){if(!v.relatedTarget||v.relatedTarget!==v.delegateTarget&&!v.delegateTarget.contains(v.relatedTarget))return h.call(this,v)})(s));let a=ul(n),c=a[l]||(a[l]={}),p=ml(c,s,o?t:null);if(p){p.oneOff=p.oneOff&&r;return}let _=cl(s,e.replace(Mu,"")),y=o?Pu(n,t,s):ku(n,s);y.delegationSelector=o?t:null,y.callable=s,y.oneOff=r,y.uidEvent=_,c[_]=y,n.addEventListener(l,y,o)}function Co(n,e,t,i,r){let o=ml(e[t],i,r);o&&(n.removeEventListener(t,o,!!r),delete e[t][o.uidEvent])}function xu(n,e,t,i){let r=e[t]||{};for(let[o,s]of Object.entries(r))o.includes(i)&&Co(n,e,t,s.callable,s.delegationSelector)}function hl(n){return n=n.replace(Ou,""),ll[n]||n}var b={on(n,e,t,i){ka(n,e,t,i,!1)},one(n,e,t,i){ka(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;let[r,o,s]=dl(e,t,i),l=s!==e,a=ul(n),c=a[s]||{},p=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(c).length)return;Co(n,a,s,o,r?t:null);return}if(p)for(let _ of Object.keys(a))xu(n,a,_,e.slice(1));for(let[_,y]of Object.entries(c)){let E=_.replace(Au,"");(!l||e.includes(E))&&Co(n,a,s,y.callable,y.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let i=sl(),r=hl(e),o=e!==r,s=null,l=!0,a=!0,c=!1;o&&i&&(s=i.Event(e,t),i(n).trigger(s),l=!s.isPropagationStopped(),a=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());let p=Ao(new Event(e,{bubbles:l,cancelable:!0}),t);return c&&p.preventDefault(),a&&n.dispatchEvent(p),p.defaultPrevented&&s&&s.preventDefault(),p}};function Ao(n,e={}){for(let[t,i]of Object.entries(e))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get(){return i}})}return n}function Pa(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function co(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Ot={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${co(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${co(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1),e[r]=Pa(n.dataset[i])}return e},getDataAttribute(n,e){return Pa(n.getAttribute(`data-bs-${co(e)}`))}},ui=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let i=Mt(t)?Ot.getDataAttribute(t,"config"):{};return z(z(z(z({},this.constructor.Default),typeof i=="object"?i:{}),Mt(t)?Ot.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[i,r]of Object.entries(t)){let o=e[i],s=Mt(o)?"element":bu(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}},Iu="5.3.5",Be=class extends ui{constructor(e,t){super(),e=Ut(e),e&&(this._element=e,this._config=this._getConfig(t),so.set(this._element,this.constructor.DATA_KEY,this))}dispose(){so.remove(this._element,this.constructor.DATA_KEY),b.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){al(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return so.get(Ut(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Iu}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},uo=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>nl(t)).join(","):null},L={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Wt(t)&&Wi(t))},getSelectorFromElement(n){let e=uo(n);return e&&L.findOne(e)?e:null},getElementFromSelector(n){let e=uo(n);return e?L.findOne(e):null},getMultipleElementsFromSelector(n){let e=uo(n);return e?L.find(e):[]}},cr=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;b.on(document,t,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Wt(this))return;let o=L.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(o)[e]()})},Du="alert",Ru="bs.alert",pl=`.${Ru}`,Lu=`close${pl}`,Vu=`closed${pl}`,Fu="fade",$u="show",er=class n extends Be{static get NAME(){return Du}close(){if(b.trigger(this._element,Lu).defaultPrevented)return;this._element.classList.remove($u);let t=this._element.classList.contains(Fu);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),b.trigger(this._element,Vu),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};cr(er,"close");ot(er);var Uu="button",Wu="bs.button",Hu=`.${Wu}`,Bu=".data-api",ju="active",xa='[data-bs-toggle="button"]',zu=`click${Hu}${Bu}`,tr=class n extends Be{static get NAME(){return Uu}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ju))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};b.on(document,zu,xa,n=>{n.preventDefault();let e=n.target.closest(xa);tr.getOrCreateInstance(e).toggle()});ot(tr);var Yu="swipe",Hi=".bs.swipe",Ku=`touchstart${Hi}`,Gu=`touchmove${Hi}`,qu=`touchend${Hi}`,Qu=`pointerdown${Hi}`,Zu=`pointerup${Hi}`,Xu="touch",Ju="pen",em="pointer-event",tm=40,im={endCallback:null,leftCallback:null,rightCallback:null},nm={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},ir=class n extends ui{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return im}static get DefaultType(){return nm}static get NAME(){return Yu}dispose(){b.off(this._element,Hi)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),$e(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=tm)return;let t=e/this._deltaX;this._deltaX=0,t&&$e(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(b.on(this._element,Qu,e=>this._start(e)),b.on(this._element,Zu,e=>this._end(e)),this._element.classList.add(em)):(b.on(this._element,Ku,e=>this._start(e)),b.on(this._element,Gu,e=>this._move(e)),b.on(this._element,qu,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Ju||e.pointerType===Xu)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},rm="carousel",om="bs.carousel",zt=`.${om}`,fl=".data-api",sm="ArrowLeft",am="ArrowRight",lm=500,ln="next",Ri="prev",Vi="left",Zn="right",cm=`slide${zt}`,mo=`slid${zt}`,um=`keydown${zt}`,mm=`mouseenter${zt}`,dm=`mouseleave${zt}`,hm=`dragstart${zt}`,pm=`load${zt}${fl}`,fm=`click${zt}${fl}`,gl="carousel",zn="active",gm="slide",_m="carousel-item-end",vm="carousel-item-start",ym="carousel-item-next",Em="carousel-item-prev",_l=".active",vl=".carousel-item",Sm=_l+vl,bm=".carousel-item img",Cm=".carousel-indicators",Tm="[data-bs-slide], [data-bs-slide-to]",wm='[data-bs-ride="carousel"]',Mm={[sm]:Zn,[am]:Vi},Om={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Am={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},un=class n extends Be{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=L.findOne(Cm,this._element),this._addEventListeners(),this._config.ride===gl&&this.cycle()}static get Default(){return Om}static get DefaultType(){return Am}static get NAME(){return rm}next(){this._slide(ln)}nextWhenVisible(){!document.hidden&&Wi(this._element)&&this.next()}prev(){this._slide(Ri)}pause(){this._isSliding&&rl(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){b.one(this._element,mo,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){b.one(this._element,mo,()=>this.to(e));return}let i=this._getItemIndex(this._getActive());if(i===e)return;let r=e>i?ln:Ri;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&b.on(this._element,um,e=>this._keydown(e)),this._config.pause==="hover"&&(b.on(this._element,mm,()=>this.pause()),b.on(this._element,dm,()=>this._maybeEnableCycle())),this._config.touch&&ir.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of L.find(bm,this._element))b.on(i,hm,r=>r.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(Vi)),rightCallback:()=>this._slide(this._directionToOrder(Zn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),lm+this._config.interval))}};this._swipeHelper=new ir(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=Mm[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=L.findOne(_l,this._indicatorsElement);t.classList.remove(zn),t.removeAttribute("aria-current");let i=L.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(zn),i.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let i=this._getActive(),r=e===ln,o=t||Oo(this._getItems(),i,r,this._config.wrap);if(o===i)return;let s=this._getItemIndex(o),l=E=>b.trigger(this._element,E,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(l(cm).defaultPrevented||!i||!o)return;let c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let p=r?vm:_m,_=r?ym:Em;o.classList.add(_),hn(o),i.classList.add(p),o.classList.add(p);let y=()=>{o.classList.remove(p,_),o.classList.add(zn),i.classList.remove(zn,_,p),this._isSliding=!1,l(mo)};this._queueCallback(y,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(gm)}_getActive(){return L.findOne(Sm,this._element)}_getItems(){return L.find(vl,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return nt()?e===Vi?Ri:ln:e===Vi?ln:Ri}_orderToDirection(e){return nt()?e===Ri?Vi:Zn:e===Ri?Zn:Vi}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};b.on(document,fm,Tm,function(n){let e=L.getElementFromSelector(this);if(!e||!e.classList.contains(gl))return;n.preventDefault();let t=un.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(Ot.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});b.on(window,pm,()=>{let n=L.find(wm);for(let e of n)un.getOrCreateInstance(e)});ot(un);var Nm="collapse",km="bs.collapse",pn=`.${km}`,Pm=".data-api",xm=`show${pn}`,Im=`shown${pn}`,Dm=`hide${pn}`,Rm=`hidden${pn}`,Lm=`click${pn}${Pm}`,ho="show",$i="collapse",Yn="collapsing",Vm="collapsed",Fm=`:scope .${$i} .${$i}`,$m="collapse-horizontal",Um="width",Wm="height",Hm=".collapse.show, .collapse.collapsing",To='[data-bs-toggle="collapse"]',Bm={parent:null,toggle:!0},jm={parent:"(null|element)",toggle:"boolean"},nr=class n extends Be{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let i=L.find(To);for(let r of i){let o=L.getSelectorFromElement(r),s=L.find(o).filter(l=>l===this._element);o!==null&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Bm}static get DefaultType(){return jm}static get NAME(){return Nm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Hm).filter(l=>l!==this._element).map(l=>n.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||b.trigger(this._element,xm).defaultPrevented)return;for(let l of e)l.hide();let i=this._getDimension();this._element.classList.remove($i),this._element.classList.add(Yn),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(Yn),this._element.classList.add($i,ho),this._element.style[i]="",b.trigger(this._element,Im)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||b.trigger(this._element,Dm).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,hn(this._element),this._element.classList.add(Yn),this._element.classList.remove($i,ho);for(let r of this._triggerArray){let o=L.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(Yn),this._element.classList.add($i),b.trigger(this._element,Rm)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(ho)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ut(e.parent),e}_getDimension(){return this._element.classList.contains($m)?Um:Wm}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(To);for(let t of e){let i=L.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){let t=L.find(Fm,this._config.parent);return L.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let i of e)i.classList.toggle(Vm,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let i=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}};b.on(document,Lm,To,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of L.getMultipleElementsFromSelector(this))nr.getOrCreateInstance(e,{toggle:!1}).toggle()});ot(nr);var Ia="dropdown",zm="bs.dropdown",mi=`.${zm}`,No=".data-api",Ym="Escape",Da="Tab",Km="ArrowUp",Ra="ArrowDown",Gm=2,qm=`hide${mi}`,Qm=`hidden${mi}`,Zm=`show${mi}`,Xm=`shown${mi}`,yl=`click${mi}${No}`,El=`keydown${mi}${No}`,Jm=`keyup${mi}${No}`,Fi="show",ed="dropup",td="dropend",id="dropstart",nd="dropup-center",rd="dropdown-center",li='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',od=`${li}.${Fi}`,Xn=".dropdown-menu",sd=".navbar",ad=".navbar-nav",ld=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",cd=nt()?"top-end":"top-start",ud=nt()?"top-start":"top-end",md=nt()?"bottom-end":"bottom-start",dd=nt()?"bottom-start":"bottom-end",hd=nt()?"left-start":"right-start",pd=nt()?"right-start":"left-start",fd="top",gd="bottom",_d={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},vd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Ht=class n extends Be{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=L.next(this._element,Xn)[0]||L.prev(this._element,Xn)[0]||L.findOne(Xn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _d}static get DefaultType(){return vd}static get NAME(){return Ia}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Wt(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!b.trigger(this._element,Zm,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ad))for(let i of[].concat(...document.body.children))b.on(i,"mouseover",Jn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Fi),this._element.classList.add(Fi),b.trigger(this._element,Xm,e)}}hide(){if(Wt(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!b.trigger(this._element,qm,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))b.off(i,"mouseover",Jn);this._popper&&this._popper.destroy(),this._menu.classList.remove(Fi),this._element.classList.remove(Fi),this._element.setAttribute("aria-expanded","false"),Ot.removeDataAttribute(this._menu,"popper"),b.trigger(this._element,Qm,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Mt(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Ia.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof jn>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Mt(this._config.reference)?e=Ut(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=an(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Fi)}_getPlacement(){let e=this._parent;if(e.classList.contains(td))return hd;if(e.classList.contains(id))return pd;if(e.classList.contains(nd))return fd;if(e.classList.contains(rd))return gd;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(ed)?t?ud:cd:t?dd:md}_detectNavbar(){return this._element.closest(sd)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ot.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),z(z({},e),$e(this._config.popperConfig,[void 0,e]))}_selectMenuItem({key:e,target:t}){let i=L.find(ld,this._menu).filter(r=>Wi(r));i.length&&Oo(i,t,e===Ra,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Gm||e.type==="keyup"&&e.key!==Da)return;let t=L.find(od);for(let i of t){let r=n.getInstance(i);if(!r||r._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!s||r._config.autoClose==="outside"&&s||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Da||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let l={relatedTarget:r._element};e.type==="click"&&(l.clickEvent=e),r._completeHide(l)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),i=e.key===Ym,r=[Km,Ra].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();let o=this.matches(li)?this:L.prev(this,li)[0]||L.next(this,li)[0]||L.findOne(li,e.delegateTarget.parentNode),s=n.getOrCreateInstance(o);if(r){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};b.on(document,El,li,Ht.dataApiKeydownHandler);b.on(document,El,Xn,Ht.dataApiKeydownHandler);b.on(document,yl,Ht.clearMenus);b.on(document,Jm,Ht.clearMenus);b.on(document,yl,li,function(n){n.preventDefault(),Ht.getOrCreateInstance(this).toggle()});ot(Ht);var Sl="backdrop",yd="fade",La="show",Va=`mousedown.bs.${Sl}`,Ed={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Sd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},rr=class extends ui{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Ed}static get DefaultType(){return Sd}static get NAME(){return Sl}show(e){if(!this._config.isVisible){$e(e);return}this._append();let t=this._getElement();this._config.isAnimated&&hn(t),t.classList.add(La),this._emulateAnimation(()=>{$e(e)})}hide(e){if(!this._config.isVisible){$e(e);return}this._getElement().classList.remove(La),this._emulateAnimation(()=>{this.dispose(),$e(e)})}dispose(){this._isAppended&&(b.off(this._element,Va),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(yd),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ut(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),b.on(e,Va,()=>{$e(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){al(e,this._getElement(),this._config.isAnimated)}},bd="focustrap",Cd="bs.focustrap",or=`.${Cd}`,Td=`focusin${or}`,wd=`keydown.tab${or}`,Md="Tab",Od="forward",Fa="backward",Ad={autofocus:!0,trapElement:null},Nd={autofocus:"boolean",trapElement:"element"},sr=class extends ui{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ad}static get DefaultType(){return Nd}static get NAME(){return bd}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),b.off(document,or),b.on(document,Td,e=>this._handleFocusin(e)),b.on(document,wd,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,b.off(document,or))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let i=L.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===Fa?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===Md&&(this._lastTabNavDirection=e.shiftKey?Fa:Od)}},$a=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ua=".sticky-top",Kn="padding-right",Wa="margin-right",mn=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kn,t=>t+e),this._setElementAttributes($a,Kn,t=>t+e),this._setElementAttributes(Ua,Wa,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kn),this._resetElementAttributes($a,Kn),this._resetElementAttributes(Ua,Wa)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let r=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,t);let l=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${i(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let i=e.style.getPropertyValue(t);i&&Ot.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){let i=r=>{let o=Ot.getDataAttribute(r,t);if(o===null){r.style.removeProperty(t);return}Ot.removeDataAttribute(r,t),r.style.setProperty(t,o)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(Mt(e)){t(e);return}for(let i of L.find(e,this._element))t(i)}},kd="modal",Pd="bs.modal",rt=`.${Pd}`,xd=".data-api",Id="Escape",Dd=`hide${rt}`,Rd=`hidePrevented${rt}`,bl=`hidden${rt}`,Cl=`show${rt}`,Ld=`shown${rt}`,Vd=`resize${rt}`,Fd=`click.dismiss${rt}`,$d=`mousedown.dismiss${rt}`,Ud=`keydown.dismiss${rt}`,Wd=`click${rt}${xd}`,Ha="modal-open",Hd="fade",Ba="show",po="modal-static",Bd=".modal.show",jd=".modal-dialog",zd=".modal-body",Yd='[data-bs-toggle="modal"]',Kd={backdrop:!0,focus:!0,keyboard:!0},Gd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Bt=class n extends Be{constructor(e,t){super(e,t),this._dialog=L.findOne(jd,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new mn,this._addEventListeners()}static get Default(){return Kd}static get DefaultType(){return Gd}static get NAME(){return kd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||b.trigger(this._element,Cl,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ha),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||b.trigger(this._element,Dd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ba),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){b.off(window,rt),b.off(this._dialog,rt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new sr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=L.findOne(zd,this._dialog);t&&(t.scrollTop=0),hn(this._element),this._element.classList.add(Ba);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,b.trigger(this._element,Ld,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){b.on(this._element,Ud,e=>{if(e.key===Id){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),b.on(window,Vd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),b.on(this._element,$d,e=>{b.one(this._element,Fd,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ha),this._resetAdjustments(),this._scrollBar.reset(),b.trigger(this._element,bl)})}_isAnimated(){return this._element.classList.contains(Hd)}_triggerBackdropTransition(){if(b.trigger(this._element,Rd).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(po)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(po),this._queueCallback(()=>{this._element.classList.remove(po),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){let r=nt()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){let r=nt()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}};b.on(document,Wd,Yd,function(n){let e=L.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),b.one(e,Cl,r=>{r.defaultPrevented||b.one(e,bl,()=>{Wi(this)&&this.focus()})});let t=L.findOne(Bd);t&&Bt.getInstance(t).hide(),Bt.getOrCreateInstance(e).toggle(this)});cr(Bt);ot(Bt);var qd="offcanvas",Qd="bs.offcanvas",At=`.${Qd}`,Tl=".data-api",Zd=`load${At}${Tl}`,Xd="Escape",ja="show",za="showing",Ya="hiding",Jd="offcanvas-backdrop",wl=".offcanvas.show",eh=`show${At}`,th=`shown${At}`,ih=`hide${At}`,Ka=`hidePrevented${At}`,Ml=`hidden${At}`,nh=`resize${At}`,rh=`click${At}${Tl}`,oh=`keydown.dismiss${At}`,sh='[data-bs-toggle="offcanvas"]',ah={backdrop:!0,keyboard:!0,scroll:!1},lh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},jt=class n extends Be{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ah}static get DefaultType(){return lh}static get NAME(){return qd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||b.trigger(this._element,eh,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new mn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(za);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ja),this._element.classList.remove(za),b.trigger(this._element,th,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||b.trigger(this._element,ih).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ya),this._backdrop.hide();let t=()=>{this._element.classList.remove(ja,Ya),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new mn().reset(),b.trigger(this._element,Ml)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){b.trigger(this._element,Ka);return}this.hide()},t=!!this._config.backdrop;return new rr({className:Jd,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new sr({trapElement:this._element})}_addEventListeners(){b.on(this._element,oh,e=>{if(e.key===Xd){if(this._config.keyboard){this.hide();return}b.trigger(this._element,Ka)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};b.on(document,rh,sh,function(n){let e=L.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Wt(this))return;b.one(e,Ml,()=>{Wi(this)&&this.focus()});let t=L.findOne(wl);t&&t!==e&&jt.getInstance(t).hide(),jt.getOrCreateInstance(e).toggle(this)});b.on(window,Zd,()=>{for(let n of L.find(wl))jt.getOrCreateInstance(n).show()});b.on(window,nh,()=>{for(let n of L.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&jt.getOrCreateInstance(n).hide()});cr(jt);ot(jt);var ch=/^aria-[\w-]*$/i,Ol={"*":["class","dir","id","lang","role",ch],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),mh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,dh=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?uh.has(t)?!!mh.test(n.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))};function hh(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let r=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(let s of o){let l=s.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){s.remove();continue}let a=[].concat(...s.attributes),c=[].concat(e["*"]||[],e[l]||[]);for(let p of a)dh(p,c)||s.removeAttribute(p.nodeName)}return r.body.innerHTML}var ph="TemplateFactory",fh={allowList:Ol,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},gh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},_h={entry:"(string|element|function|null)",selector:"(string|element)"},wo=class extends ui{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return fh}static get DefaultType(){return gh}static get NAME(){return ph}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=z(z({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[r,o]of Object.entries(this._config.content))this._setContent(e,o,r);let t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},_h)}_setContent(e,t,i){let r=L.findOne(i,e);if(r){if(t=this._resolvePossibleFunction(t),!t){r.remove();return}if(Mt(t)){this._putElementInTemplate(Ut(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?hh(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return $e(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},vh="tooltip",yh=new Set(["sanitize","allowList","sanitizeFn"]),fo="fade",Eh="modal",Gn="show",Sh=".tooltip-inner",Ga=`.${Eh}`,qa="hide.bs.modal",cn="hover",go="focus",bh="click",Ch="manual",Th="hide",wh="hidden",Mh="show",Oh="shown",Ah="inserted",Nh="click",kh="focusin",Ph="focusout",xh="mouseenter",Ih="mouseleave",Dh={AUTO:"auto",TOP:"top",RIGHT:nt()?"left":"right",BOTTOM:"bottom",LEFT:nt()?"right":"left"},Rh={allowList:Ol,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Lh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Ui=class n extends Be{constructor(e,t){if(typeof jn>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Rh}static get DefaultType(){return Lh}static get NAME(){return vh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),b.off(this._element.closest(Ga),qa,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=b.trigger(this._element,this.constructor.eventName(Mh)),i=(ol(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),b.trigger(this._element,this.constructor.eventName(Ah))),this._popper=this._createPopper(r),r.classList.add(Gn),"ontouchstart"in document.documentElement)for(let l of[].concat(...document.body.children))b.on(l,"mouseover",Jn);let s=()=>{b.trigger(this._element,this.constructor.eventName(Oh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||b.trigger(this._element,this.constructor.eventName(Th)).defaultPrevented)return;if(this._getTipElement().classList.remove(Gn),"ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))b.off(r,"mouseover",Jn);this._activeTrigger[bh]=!1,this._activeTrigger[go]=!1,this._activeTrigger[cn]=!1,this._isHovered=null;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),b.trigger(this._element,this.constructor.eventName(wh)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(fo,Gn),t.classList.add(`bs-${this.constructor.NAME}-auto`);let i=Cu(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(fo),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new wo(Et(z({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[Sh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(fo)}_isShown(){return this.tip&&this.tip.classList.contains(Gn)}_createPopper(e){let t=$e(this._config.placement,[this,e,this._element]),i=Dh[t.toUpperCase()];return an(this._element,e,this._getPopperConfig(i))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return $e(e,[this._element,this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return z(z({},t),$e(this._config.popperConfig,[void 0,t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")b.on(this._element,this.constructor.eventName(Nh),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(t!==Ch){let i=t===cn?this.constructor.eventName(xh):this.constructor.eventName(kh),r=t===cn?this.constructor.eventName(Ih):this.constructor.eventName(Ph);b.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?go:cn]=!0,s._enter()}),b.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?go:cn]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},b.on(this._element.closest(Ga),qa,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=Ot.getDataAttributes(this._element);for(let i of Object.keys(t))yh.has(i)&&delete t[i];return e=z(z({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ut(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ot(Ui);var Vh="popover",Fh=".popover-header",$h=".popover-body",Uh=Et(z({},Ui.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Wh=Et(z({},Ui.DefaultType),{content:"(null|string|element|function)"}),Mo=class n extends Ui{static get Default(){return Uh}static get DefaultType(){return Wh}static get NAME(){return Vh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Fh]:this._getTitle(),[$h]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ot(Mo);var Hh="scrollspy",Bh="bs.scrollspy",ko=`.${Bh}`,jh=".data-api",zh=`activate${ko}`,Qa=`click${ko}`,Yh=`load${ko}${jh}`,Kh="dropdown-item",Li="active",Gh='[data-bs-spy="scroll"]',_o="[href]",qh=".nav, .list-group",Za=".nav-link",Qh=".nav-item",Zh=".list-group-item",Xh=`${Za}, ${Qh} > ${Za}, ${Zh}`,Jh=".dropdown",ep=".dropdown-toggle",tp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ip={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},ar=class n extends Be{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return tp}static get DefaultType(){return ip}static get NAME(){return Hh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ut(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(b.off(this._config.target,Qa),b.on(this._config.target,Qa,_o,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let l=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&l){if(i(s),!r)return;continue}!o&&!l&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=L.find(_o,this._config.target);for(let t of e){if(!t.hash||Wt(t))continue;let i=L.findOne(decodeURI(t.hash),this._element);Wi(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Li),this._activateParents(e),b.trigger(this._element,zh,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Kh)){L.findOne(ep,e.closest(Jh)).classList.add(Li);return}for(let t of L.parents(e,qh))for(let i of L.prev(t,Xh))i.classList.add(Li)}_clearActiveClass(e){e.classList.remove(Li);let t=L.find(`${_o}.${Li}`,e);for(let i of t)i.classList.remove(Li)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};b.on(window,Yh,()=>{for(let n of L.find(Gh))ar.getOrCreateInstance(n)});ot(ar);var np="tab",rp="bs.tab",di=`.${rp}`,op=`hide${di}`,sp=`hidden${di}`,ap=`show${di}`,lp=`shown${di}`,cp=`click${di}`,up=`keydown${di}`,mp=`load${di}`,dp="ArrowLeft",Xa="ArrowRight",hp="ArrowUp",Ja="ArrowDown",vo="Home",el="End",ci="active",tl="fade",yo="show",pp="dropdown",Al=".dropdown-toggle",fp=".dropdown-menu",Eo=`:not(${Al})`,gp='.list-group, .nav, [role="tablist"]',_p=".nav-item, .list-group-item",vp=`.nav-link${Eo}, .list-group-item${Eo}, [role="tab"]${Eo}`,Nl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',So=`${vp}, ${Nl}`,yp=`.${ci}[data-bs-toggle="tab"], .${ci}[data-bs-toggle="pill"], .${ci}[data-bs-toggle="list"]`,dn=class n extends Be{constructor(e){super(e),this._parent=this._element.closest(gp),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),b.on(this._element,up,t=>this._keydown(t)))}static get NAME(){return np}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),i=t?b.trigger(t,op,{relatedTarget:e}):null;b.trigger(e,ap,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ci),this._activate(L.getElementFromSelector(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(yo);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),b.trigger(e,lp,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(tl))}_deactivate(e,t){if(!e)return;e.classList.remove(ci),e.blur(),this._deactivate(L.getElementFromSelector(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(yo);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),b.trigger(e,sp,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(tl))}_keydown(e){if(![dp,Xa,hp,Ja,vo,el].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(r=>!Wt(r)),i;if([vo,el].includes(e.key))i=t[e.key===vo?0:t.length-1];else{let r=[Xa,Ja].includes(e.key);i=Oo(t,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),n.getOrCreateInstance(i).show())}_getChildren(){return L.find(So,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=L.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let i=this._getOuterElement(e);if(!i.classList.contains(pp))return;let r=(o,s)=>{let l=L.findOne(o,i);l&&l.classList.toggle(s,t)};r(Al,ci),r(fp,yo),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(ci)}_getInnerElement(e){return e.matches(So)?e:L.findOne(So,e)}_getOuterElement(e){return e.closest(_p)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};b.on(document,cp,Nl,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Wt(this)&&dn.getOrCreateInstance(this).show()});b.on(window,mp,()=>{for(let n of L.find(yp))dn.getOrCreateInstance(n)});ot(dn);var Ep="toast",Sp="bs.toast",Yt=`.${Sp}`,bp=`mouseover${Yt}`,Cp=`mouseout${Yt}`,Tp=`focusin${Yt}`,wp=`focusout${Yt}`,Mp=`hide${Yt}`,Op=`hidden${Yt}`,Ap=`show${Yt}`,Np=`shown${Yt}`,kp="fade",il="hide",qn="show",Qn="showing",Pp={animation:"boolean",autohide:"boolean",delay:"number"},xp={animation:!0,autohide:!0,delay:5e3},lr=class n extends Be{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xp}static get DefaultType(){return Pp}static get NAME(){return Ep}show(){if(b.trigger(this._element,Ap).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(kp);let t=()=>{this._element.classList.remove(Qn),b.trigger(this._element,Np),this._maybeScheduleHide()};this._element.classList.remove(il),hn(this._element),this._element.classList.add(qn,Qn),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||b.trigger(this._element,Mp).defaultPrevented)return;let t=()=>{this._element.classList.add(il),this._element.classList.remove(Qn,qn),b.trigger(this._element,Op)};this._element.classList.add(Qn),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qn),super.dispose()}isShown(){return this._element.classList.contains(qn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){b.on(this._element,bp,e=>this._onInteraction(e,!0)),b.on(this._element,Cp,e=>this._onInteraction(e,!1)),b.on(this._element,Tp,e=>this._onInteraction(e,!0)),b.on(this._element,wp,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};cr(lr);ot(lr);var ur=class n{constructor(e){this.http=e}backendUrl="https://crmclickarte.fly.dev/trello/cards";criarCard(e,t){let i={titulo:e,descricao:t};return this.http.post(this.backendUrl,i,{responseType:"text"})}static \u0275fac=function(t){return new(t||n)(se(An))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};function Rp(n,e){if(n&1&&(u(0,"tr")(1,"td")(2,"strong"),f(3),m()(),u(4,"td")(5,"strong"),f(6),m()(),u(7,"td"),f(8),m(),u(9,"td"),f(10),m()()),n&2){let t=e.$implicit;g(3),te(t.quantidade),g(3),te(t.descricao),g(2),Ie("R$",t.valorUnitario.toFixed(2),""),g(2),Ie("R$",t.subTotal.toFixed(2),"")}}function Lp(n,e){if(n&1&&(u(0,"div",50)(1,"h6",57),f(2,"\u{1F4CC} Observa\xE7\xF5es:"),m(),u(3,"pre",58),f(4),m()()),n&2){let t=N(3);g(4),te(t.orcamento.detalhesImpressao.join(`
`))}}function Vp(n,e){if(n&1&&(u(0,"div",50)(1,"h5",51),f(2,"Resumo do Or\xE7amento"),m(),u(3,"table",52)(4,"thead",53)(5,"tr")(6,"th"),f(7,"Qtd."),m(),u(8,"th"),f(9,"Produto"),m(),u(10,"th"),f(11,"Val. Unit\xE1rio"),m(),u(12,"th"),f(13,"Subtotal"),m()()(),u(14,"tbody",54),q(15,Rp,11,4,"tr",55),m()(),q(16,Lp,5,1,"div",49),u(17,"h4",56),f(18),m()()),n&2){let t=N(2);g(15),C("ngForOf",t.orcamento.produtos),g(),C("ngIf",(t.orcamento==null||t.orcamento.detalhesImpressao==null?null:t.orcamento.detalhesImpressao.length)>0),g(2),Ie(" Valor Total: R$",t.orcamento.valorFinal.toFixed(2)," ")}}function Fp(n,e){if(n&1){let t=ee();u(0,"div",50)(1,"h5",54),f(2,"Mensagem Gerada"),m(),u(3,"textarea",59),f(4),m(),u(5,"div",60)(6,"button",61),M("click",function(){P(t);let r=N(2);return x(r.copiarMensagem())}),f(7,"Copiar"),m(),u(8,"button",23),M("click",function(){P(t);let r=N(2);return x(r.abrirModalWhatsapp())}),f(9,"WhatsApp"),m(),u(10,"button",22),M("click",function(){P(t);let r=N(2);return x(r.abrirModalSalvarComOrcamento(r.orcamento))}),f(11,"Salvar"),m()()()}if(n&2){let t=N(2);g(4),te(t.mensagemGerada)}}function $p(n,e){if(n&1){let t=ee();u(0,"div")(1,"h4",37),f(2,"Or\xE7amento de Adesivos"),m(),u(3,"form",38),M("ngSubmit",function(){P(t);let r=N();return x(r.calcularOrcamento())}),u(4,"div",39)(5,"div",40)(6,"label",26),f(7,"Altura (cm)"),m(),u(8,"input",41),U("ngModelChange",function(r){P(t);let o=N();return $(o.altura,r)||(o.altura=r),x(r)}),m()(),u(9,"div",40)(10,"label",26),f(11,"Largura (cm)"),m(),u(12,"input",42),U("ngModelChange",function(r){P(t);let o=N();return $(o.largura,r)||(o.largura=r),x(r)}),m()(),u(13,"div",40)(14,"label",26),f(15,"Quantidade"),m(),u(16,"input",43),U("ngModelChange",function(r){P(t);let o=N();return $(o.quantidade,r)||(o.quantidade=r),x(r)}),m()(),u(17,"div",44)(18,"label",26),f(19,"Tipo"),m(),u(20,"select",45),U("ngModelChange",function(r){P(t);let o=N();return $(o.tipo,r)||(o.tipo=r),x(r)}),u(21,"option"),f(22,"Vinil"),m(),u(23,"option"),f(24,"Papel"),m(),u(25,"option"),f(26,"Metro Quadrado"),m()()(),u(27,"div",44)(28,"label",26),f(29,"Corte"),m(),u(30,"select",46),U("ngModelChange",function(r){P(t);let o=N();return $(o.corte,r)||(o.corte=r),x(r)}),u(31,"option"),f(32,"Nenhum"),m(),u(33,"option"),f(34,"Manual"),m(),u(35,"option"),f(36,"Eletr\xF4nico"),m()()()(),u(37,"div",47)(38,"button",48),f(39," Calcular "),m()()(),q(40,Vp,19,3,"div",49)(41,Fp,12,1,"div",49),m()}if(n&2){let t=N();g(8),F("ngModel",t.altura),g(4),F("ngModel",t.largura),g(4),F("ngModel",t.quantidade),g(4),F("ngModel",t.tipo),g(10),F("ngModel",t.corte),g(8),C("disabled",!t.altura||!t.largura||!t.quantidade||t.altura<=0||t.largura<=0||t.quantidade<=0),g(2),C("ngIf",t.orcamento),g(),C("ngIf",t.mensagemGerada)}}function Up(n,e){if(n&1){let t=ee();u(0,"div")(1,"h4",37),f(2,"Or\xE7amento de Placas"),m(),u(3,"form",38),M("ngSubmit",function(){P(t);let r=N();return x(r.calcularOrcamentoPlacas())}),u(4,"div",39)(5,"div",44)(6,"label",26),f(7,"Altura (cm)"),m(),u(8,"input",62),U("ngModelChange",function(r){P(t);let o=N();return $(o.alturaPlaca,r)||(o.alturaPlaca=r),x(r)}),m()(),u(9,"div",44)(10,"label",26),f(11,"Largura (cm)"),m(),u(12,"input",63),U("ngModelChange",function(r){P(t);let o=N();return $(o.larguraPlaca,r)||(o.larguraPlaca=r),x(r)}),m()()(),u(13,"div",47)(14,"button",48),f(15," Calcular "),m()()()()}if(n&2){let t=N();g(8),F("ngModel",t.alturaPlaca),g(4),F("ngModel",t.larguraPlaca),g(2),C("disabled",!t.alturaPlaca||!t.larguraPlaca||t.alturaPlaca<=0||t.larguraPlaca<=0)}}function Wp(n,e){n&1&&(u(0,"div")(1,"h4",37),f(2,"Outros Or\xE7amentos"),m(),u(3,"form")(4,"div",17)(5,"label",26),f(6,"Descri\xE7\xE3o do servi\xE7o"),m(),R(7,"textarea",64),m(),u(8,"button",65),f(9,"Calcular"),m()()())}var mr=class n{constructor(e,t,i,r){this.apiService=e;this.trelloService=t;this.toastService=i;this.orcamentoService=r}categoriaSelecionada="adesivos";isLoadingTrello=!1;modalWhatsappVisible=!1;modalTrelloAberto=!1;modalSalvarAberto=!1;modalConfirmacaoVisivelTrello=!1;orcamentoPendente;formOrcamento={clienteNome:"",clienteTelefone:"",clienteEmail:"",nomeServico:"",observacoes:"",mensagem:"",valorTotal:0,itens:[]};novoItem={produtoNome:"",precoUnitario:0,quantidade:1};altura=0;largura=0;quantidade=0;tipo="Vinil";corte="Nenhum";alturaPlaca=0;larguraPlaca=0;whatsappNomeCliente="";whatsappTelefoneCliente="";whatsappMensagem="";trelloNomeCliente="";trelloTelefoneCliente="";trelloNomeServico="";trelloObservacoes="";trelloInfoArte="";orcamento=null;mensagemGerada="";showToast(e,t=!0){this.toastService.show(e,t)}selecionarCategoria(e){this.categoriaSelecionada=e,this.orcamento=null,this.mensagemGerada=""}calcularOrcamento(){let e={altura:this.altura,largura:this.largura,quantidade:this.quantidade,tipo:this.tipo,corte:this.corte};this.apiService.post("orcamentos/adesivos",e).subscribe({next:t=>{this.orcamento=t,this.gerarMensagem(),this.showToast("Or\xE7amento calculado com sucesso!",!0)},error:()=>{this.orcamento=null,this.mensagemGerada="",this.showToast("Erro ao calcular or\xE7amento!",!1)}})}calcularOrcamentoPlacas(){this.showToast("Funcionalidade de placas ainda n\xE3o implementada.",!1)}gerarMensagem(){if(!this.orcamento)return;let e=this.orcamento.produtos.map(t=>`\u2796 *Qtd:* ${t.quantidade}, *Desc:* ${t.descricao}, *Val.Un:* R$${t.valorUnitario.toFixed(2)}, *SubTotal:* R$${t.subTotal.toFixed(2)}`);this.mensagemGerada=`*Or\xE7amento Gr\xE1fica ClickArte*

\u{1F4CF} *Dimens\xF5es:* ${this.largura} x ${this.altura} cm
\u{1F4E6} *Quantidade:* ${this.quantidade}

\u{1F5A8}\uFE0F *Produtos e Servi\xE7os:*
${e.join(`
`)}

\u{1F4B0} *Valor Total:* *R$${this.orcamento.valorFinal.toFixed(2)}*`}copiarMensagem(){this.mensagemGerada&&navigator.clipboard.writeText(this.mensagemGerada).then(()=>this.showToast("Mensagem copiada com sucesso!",!0)).catch(()=>this.showToast("Erro ao copiar mensagem!",!1))}abrirModalWhatsapp(){if(!this.mensagemGerada){this.showToast("Gere uma mensagem antes!",!1);return}this.whatsappMensagem=`Ol\xE1 ${this.whatsappNomeCliente}!

${this.mensagemGerada}`,this.modalWhatsappVisible=!0}enviarWhatsapp(){if(!this.whatsappNomeCliente||!this.whatsappTelefoneCliente){this.showToast("Preencha o nome e o telefone!",!1);return}let e=this.whatsappTelefoneCliente.replace(/\D/g,"").replace(/^0/,""),t=`Ol\xE1 ${this.whatsappNomeCliente}!

${this.mensagemGerada}`,i=encodeURIComponent(t).replace(/\*/g,"%2A");window.open(`https://wa.me/55${e}?text=${i}`,"_blank"),this.modalWhatsappVisible=!1,this.showToast("Mensagem aberta no WhatsApp com sucesso!",!0)}abrirModalTrello(){this.modalTrelloAberto=!0}abrirModalSalvarComOrcamento(e){this.formOrcamento={clienteNome:"",clienteTelefone:"",clienteEmail:"",nomeServico:this.categoriaSelecionada+" "+this.tipo+", "+this.altura+" X "+this.largura+", Quantidade: "+this.quantidade,observacoes:e?.detalhesImpressao?.join(`
`)||"",mensagem:this.mensagemGerada||"",valorTotal:e?.valorFinal||0,itens:e?.produtos?.map(t=>({produtoNome:t.descricao,descricao:t.descricao,precoUnitario:t.valorUnitario,quantidade:t.quantidade}))||[]},this.modalSalvarAberto=!0}abrirModalCardTrello(){this.modalConfirmacaoVisivelTrello=!0}addCardTrello(){let e=`${this.orcamento.clienteNome} | ${this.orcamento.nomeServico} | ${this.orcamento.clienteTelefone}`,t=`\u{1F9FE} *Or\xE7amento*

\u2794 *Resumo:*
${this.orcamento.mensagem??"Sem mensagem."}

`;if(this.orcamento.observacoes&&(t+=`\u2794 *Observa\xE7\xF5es do Cliente:*
${this.orcamento.observacoes}

`),this.orcamento.informacoesArte&&(t+=`\u{1F3A8} *Detalhes da Arte:*
${this.orcamento.informacoesArte}

`),this.orcamento.itens?.length){t+=`\u{1F4E6} *Itens:*
`;for(let i of this.orcamento.itens)t+=`- ${i.quantidade}x ${i.produtoNome} (R$${i.precoUnitario.toFixed(2)})
`;t+=`
`}this.orcamento.valorTotal&&(t+=`\u{1F4B0} *Valor Total:* R$${this.orcamento.valorTotal.toFixed(2)}

`),this.orcamento.dataPrevisaoEntrega&&(t+=`\u{1F4C6} *Previs\xE3o de Entrega:* ${this.orcamento.dataPrevisaoEntrega}
`),this.trelloService.criarCard(e,t).subscribe({next:()=>{this.showToast("Card criado no Trello com sucesso!",!0),this.orcamentoService.atualizarStatus(this.orcamento.id,"APROVADO").subscribe({next:()=>{this.showToast("Status do or\xE7amento atualizado para APROVADO!",!0)},error:()=>{this.showToast("Erro ao atualizar status do or\xE7amento.",!1)}})},error:()=>{this.showToast("Erro ao criar card no Trello!",!1),this.isLoadingTrello=!1}})}confirmarCriacaoCard(){this.isLoadingTrello=!0;let e=`${this.trelloNomeCliente} | ${this.trelloNomeServico} | ${this.trelloTelefoneCliente}`,t=`\u{1F9FE} *Or\xE7amento*

\u2794 *Resumo:*
${this.mensagemGerada}

`;this.orcamento?.detalhesImpressao?.length&&(t+=`\u2794 *Observa\xE7\xF5es do Sistema:*
${this.orcamento.detalhesImpressao.join(`
`)}

`),this.orcamento?.valorFinal&&(t+=`\u2794 *Valor Final:* R$${this.orcamento.valorFinal.toFixed(2)}

`),this.trelloObservacoes&&(t+=`\u{1F4CC} *Observa\xE7\xF5es do Cliente:*
${this.trelloObservacoes}

`),this.trelloInfoArte&&(t+=`\u{1F3A8} *Detalhes da Arte:*
${this.trelloInfoArte}

`),this.trelloService.criarCard(e,t).subscribe({next:()=>{this.showToast("Card criado no Trello com sucesso!",!0),Bt.getInstance(document.getElementById("modalTrello"))?.hide(),this.isLoadingTrello=!1},error:()=>{this.showToast("Erro ao criar card no Trello!",!1),this.isLoadingTrello=!1}})}atualizarDadosFormulario(e){this.altura=e.altura,this.largura=e.largura,this.quantidade=e.quantidade,this.tipo=e.tipo,this.corte=e.corte}adicionarItem(){let e=z({},this.novoItem);if(!e.produtoNome||e.precoUnitario<=0||e.quantidade<=0){this.showToast("Preencha todos os dados do item corretamente",!1);return}this.formOrcamento.itens.push(e),this.recalcularTotal(),this.novoItem={produtoNome:"",precoUnitario:0,quantidade:1}}removerItem(e){this.formOrcamento.itens.splice(e,1),this.recalcularTotal()}recalcularTotal(){this.formOrcamento.valorTotal=this.formOrcamento.itens.reduce((e,t)=>e+t.precoUnitario*t.quantidade,0)}salvarOuAtualizar(e){e.id?this.orcamentoService.atualizar(e.id,e).subscribe(()=>{this.showToast("Or\xE7amento atualizado com sucesso!"),this.modalSalvarAberto=!1}):(this.orcamentoPendente=e,this.modalConfirmacaoVisivelTrello=!0)}confirmarSalvarComCard(){this.modalConfirmacaoVisivelTrello=!1,this.orcamentoPendente.criarCardTrello=!0,this.orcamentoService.criar(this.orcamentoPendente).subscribe(()=>{this.showToast("Or\xE7amento salvo com sucesso!"),this.modalSalvarAberto=!1})}confirmarSalvarSemCard(){this.modalConfirmacaoVisivelTrello=!1,this.orcamentoPendente.criarCardTrello=!1,this.orcamentoService.criar(this.orcamentoPendente).subscribe(()=>{this.showToast("Or\xE7amento salvo com sucesso!"),this.modalSalvarAberto=!1})}static \u0275fac=function(t){return new(t||n)(J(Xe),J(ur),J(Ne),J(Mi))};static \u0275cmp=re({type:n,selectors:[["app-orcamento-calculadora"]],standalone:!0,features:[oe],decls:80,vars:28,consts:[[3,"titulo"],[1,"orcamento-wrapper"],[1,"container"],[1,"category-cards","d-flex","justify-content-between","flex-wrap","gap-3","mb-4"],[1,"category-card",3,"click"],[1,"icon","bg-primary","text-white"],[1,"bi","bi-image"],[1,"title"],[1,"subtitle"],[1,"icon","bg-success","text-white"],[1,"bi","bi-bounding-box-circles"],[1,"icon","bg-warning","text-white"],[1,"bi","bi-tools"],[1,"card","p-4"],[4,"ngIf"],[3,"closed","title","visible"],[1,"p-2"],[1,"mb-3"],["type","text","name","whatsappNomeCliente",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","whatsappTelefoneCliente","mask","(00) 0 0000-0000",1,"form-control",3,"ngModelChange","ngModel"],["rows","6","name","whatsappMensagem","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["modal-footer",""],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click"],[3,"closed","title","visible","large"],[1,"px-3","pt-2"],[1,"form-label"],["type","text","name","trelloNomeCliente",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","trelloTelefoneCliente",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","trelloNomeServico",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","name","trelloObservacoes",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","name","trelloInfoArte",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-end","pb-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[3,"closed","salvar","visible","orcamento"],[3,"confirmar","cancelar","visible","titulo","texto"],[1,"section-title","mb-4"],[3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-4"],["type","number","name","altura","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","largura","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","quantidade","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["name","tipo",1,"form-select",3,"ngModelChange","ngModel"],["name","corte",1,"form-select",3,"ngModelChange","ngModel"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"text-success","text-center"],[1,"table","table-bordered","table-hover","mt-3"],[1,"table-light","text-center"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","mt-3","text-danger"],[1,"text-primary"],[1,"bg-light","p-3","rounded","small"],["rows","6","readonly","",1,"form-control"],[1,"text-center","mt-3","d-flex","justify-content-center","gap-2"],[1,"btn","btn-primary",3,"click"],["type","number","name","alturaPlaca","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","larguraPlaca","required","",1,"form-control",3,"ngModelChange","ngModel"],["rows","3",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,i){t&1&&(R(0,"app-page-header",0),u(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),M("click",function(){return i.selecionarCategoria("adesivos")}),u(5,"div",5),R(6,"i",6),m(),u(7,"div")(8,"div",7),f(9,"Adesivos"),m(),u(10,"div",8),f(11,"Vinil, papel e +"),m()()(),u(12,"div",4),M("click",function(){return i.selecionarCategoria("placas")}),u(13,"div",9),R(14,"i",10),m(),u(15,"div")(16,"div",7),f(17,"Placas"),m(),u(18,"div",8),f(19,"Lona"),m()()(),u(20,"div",4),M("click",function(){return i.selecionarCategoria("outros")}),u(21,"div",11),R(22,"i",12),m(),u(23,"div")(24,"div",7),f(25,"Outros"),m(),u(26,"div",8),f(27,"Servi\xE7os extras"),m()()()()(),u(28,"div",13),q(29,$p,42,8,"div",14)(30,Up,16,3,"div",14)(31,Wp,10,0,"div",14),m()(),u(32,"app-modal",15),M("closed",function(){return i.modalWhatsappVisible=!1}),u(33,"form",16)(34,"div",17)(35,"label"),f(36,"Nome do Cliente"),m(),u(37,"input",18),U("ngModelChange",function(o){return $(i.whatsappNomeCliente,o)||(i.whatsappNomeCliente=o),o}),m()(),u(38,"div",17)(39,"label"),f(40,"Telefone"),m(),u(41,"input",19),U("ngModelChange",function(o){return $(i.whatsappTelefoneCliente,o)||(i.whatsappTelefoneCliente=o),o}),m()(),u(42,"div",17)(43,"label"),f(44,"Mensagem"),m(),u(45,"textarea",20),U("ngModelChange",function(o){return $(i.whatsappMensagem,o)||(i.whatsappMensagem=o),o}),m()()(),u(46,"div",21)(47,"button",22),M("click",function(){return i.modalWhatsappVisible=!1}),f(48,"Cancelar"),m(),u(49,"button",23),M("click",function(){return i.enviarWhatsapp()}),f(50,"Enviar"),m()()(),u(51,"app-modal",24),M("closed",function(){return i.modalTrelloAberto=!1}),u(52,"form",25)(53,"div",17)(54,"label",26),f(55,"Nome do Cliente"),m(),u(56,"input",27),U("ngModelChange",function(o){return $(i.trelloNomeCliente,o)||(i.trelloNomeCliente=o),o}),m()(),u(57,"div",17)(58,"label",26),f(59,"Telefone"),m(),u(60,"input",28),U("ngModelChange",function(o){return $(i.trelloTelefoneCliente,o)||(i.trelloTelefoneCliente=o),o}),m()(),u(61,"div",17)(62,"label",26),f(63,"Servi\xE7o"),m(),u(64,"input",29),U("ngModelChange",function(o){return $(i.trelloNomeServico,o)||(i.trelloNomeServico=o),o}),m()(),u(65,"div",17)(66,"label",26),f(67,"Observa\xE7\xF5es"),m(),u(68,"textarea",30),U("ngModelChange",function(o){return $(i.trelloObservacoes,o)||(i.trelloObservacoes=o),o}),m()(),u(69,"div",17)(70,"label",26),f(71,"Informa\xE7\xF5es da Arte"),m(),u(72,"textarea",31),U("ngModelChange",function(o){return $(i.trelloInfoArte,o)||(i.trelloInfoArte=o),o}),m()(),u(73,"div",32)(74,"button",33),M("click",function(){return i.modalTrelloAberto=!1}),f(75,"Cancelar"),m(),u(76,"button",34),M("click",function(){return i.confirmarCriacaoCard()}),f(77,"Criar Card"),m()()()(),u(78,"app-orcamento-modal",35),M("closed",function(){return i.modalSalvarAberto=!1})("salvar",function(o){return i.salvarOuAtualizar(o)}),m(),u(79,"app-modal-confirmacao",36),M("confirmar",function(){return i.confirmarSalvarComCard()})("cancelar",function(){return i.confirmarSalvarSemCard()}),m()),t&2&&(C("titulo","Calculadora de Or\xE7amento"),g(4),Ge("active",i.categoriaSelecionada==="adesivos"),g(8),Ge("active",i.categoriaSelecionada==="placas"),g(8),Ge("active",i.categoriaSelecionada==="outros"),g(9),C("ngIf",i.categoriaSelecionada==="adesivos"),g(),C("ngIf",i.categoriaSelecionada==="placas"),g(),C("ngIf",i.categoriaSelecionada==="outros"),g(),C("title","Enviar pelo WhatsApp")("visible",i.modalWhatsappVisible),g(5),F("ngModel",i.whatsappNomeCliente),g(4),F("ngModel",i.whatsappTelefoneCliente),g(4),F("ngModel",i.whatsappMensagem),g(6),C("title","Criar Card no Trello")("visible",i.modalTrelloAberto)("large",!0),g(5),F("ngModel",i.trelloNomeCliente),g(4),F("ngModel",i.trelloTelefoneCliente),g(4),F("ngModel",i.trelloNomeServico),g(4),F("ngModel",i.trelloObservacoes),g(4),F("ngModel",i.trelloInfoArte),g(6),C("visible",i.modalSalvarAberto)("orcamento",i.formOrcamento),g(),C("visible",i.modalConfirmacaoVisivelTrello)("titulo","Abrir card no Trello!")("texto","Ao abrir um card no trello voc\xEA estar\xE1 aprovando esse orcamento! <br> Deseja abrir um card no Trello?"))},dependencies:[le,mt,be,Fe,Ze,pt,ft,Oe,yi,ht,Ae,Qe,xt,Ve,dt,In,Dt,wi,Lt,Rt],styles:[".category-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.category-tabs[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:999px;padding:.5rem 1.5rem;font-weight:500;transition:background-color .2s,color .2s}.category-tabs[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.category-tabs[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:var(--color-primary);border-color:var(--color-primary)}.category-tabs[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-light);color:#fff}.form-container[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:.75rem;box-shadow:0 2px 8px #0000000d}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--color-primary-dark);margin-bottom:1.5rem;text-align:center}.form-label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-primary-dark)}input.form-control[_ngcontent-%COMP%], select.form-select[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:.5rem;border:1px solid var(--color-primary-light)}textarea[readonly][_ngcontent-%COMP%], input[readonly][_ngcontent-%COMP%]{background-color:#f8f9fa}.table[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;text-align:center}.text-success[_ngcontent-%COMP%]{color:#28a745}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.d-flex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px}.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background-color:var(--color-primary-lighter)}.modal-title[_ngcontent-%COMP%]{color:var(--color-primary-dark)}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;border-color:#117a8b}.toast[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#fff;border-radius:.5rem}.toast-body[_ngcontent-%COMP%]{font-size:.95rem}.category-cards[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;flex-wrap:wrap}.category-card[_ngcontent-%COMP%]{flex:1 1 calc(33.33% - 1rem);background-color:var(--color-primary-lighter);border-radius:12px;padding:1rem 1.5rem;display:flex;align-items:center;gap:1rem;cursor:pointer;transition:all .2s ease;min-width:250px;box-shadow:0 2px 6px #0000000d}.category-card.active[_ngcontent-%COMP%]{background-color:var(--color-primary);color:#fff}.category-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;flex-shrink:0}.category-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:inherit}.category-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem;color:inherit}"]})};var dr=class n{constructor(e,t,i,r,o){this.authService=e;this.router=t;this.ngZone=i;this.toastService=r;this.api=o}form={username:"",password:""};login(){this.authService.login(this.form.username,this.form.password).subscribe({next:e=>{this.authService.salvarToken(e.token),console.log("Token recebido:",e.token),setTimeout(()=>{this.router.navigate(["/"])},100)},error:()=>{alert("Usu\xE1rio ou senha inv\xE1lidos"),this.toastService.show("Usu\xE1rio ou senha inv\xE1lidos",!1)}})}static \u0275fac=function(t){return new(t||n)(J(Je),J(qe),J(wn),J(Ne),J(Xe))};static \u0275cmp=re({type:n,selectors:[["app-login"]],standalone:!0,features:[oe],decls:18,vars:2,consts:[["loginForm","ngForm"],[1,"container","d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"card","p-4",2,"width","100%","max-width","400px"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100"]],template:function(t,i){if(t&1){let r=ee();R(0,"app-toast"),u(1,"div",1)(2,"div",2)(3,"h2",3),f(4,"Login"),m(),u(5,"form",4,0),M("ngSubmit",function(){return P(r),x(i.login())}),u(7,"div",5)(8,"label",6),f(9,"Usu\xE1rio"),m(),u(10,"input",7),U("ngModelChange",function(s){return P(r),$(i.form.username,s)||(i.form.username=s),x(s)}),m()(),u(11,"div",5)(12,"label",8),f(13,"Senha"),m(),u(14,"input",9),U("ngModelChange",function(s){return P(r),$(i.form.password,s)||(i.form.password=s),x(s)}),m()(),u(15,"button",10)(16,"span"),f(17,"Entrar"),m()()()()()}t&2&&(g(10),F("ngModel",i.form.username),g(4),F("ngModel",i.form.password))},dependencies:[Fe,Ze,Oe,Ae,Qe,xt,Ve,dt,le,Si]})};var hr=class n{constructor(e,t,i){this.api=e;this.router=t;this.toast=i}form={nome:"",username:"",senha:""};registrar(){this.api.post("auth/register",this.form).subscribe({next:()=>{this.toast.show("Usu\xE1rio registrado com sucesso!",!0),this.router.navigate(["/login"])},error:e=>{this.toast.show("Erro ao registrar: "+(e?.error||"Erro desconhecido"),!1)}})}static \u0275fac=function(t){return new(t||n)(J(Xe),J(qe),J(Ne))};static \u0275cmp=re({type:n,selectors:[["app-registro-inicial"]],standalone:!0,features:[oe],decls:20,vars:3,consts:[["registerForm","ngForm"],[1,"container","d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"card","p-4",2,"width","100%","max-width","400px"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit"],[1,"mb-3"],["for","nome",1,"form-label"],["id","nome","name","nome","type","text","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","username",1,"form-label"],["id","username","name","username","type","text","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","senha",1,"form-label"],["id","senha","name","senha","type","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"]],template:function(t,i){if(t&1){let r=ee();u(0,"div",1)(1,"div",2)(2,"h2",3),f(3,"Registro do Gestor"),m(),u(4,"form",4,0),M("ngSubmit",function(){return P(r),x(i.registrar())}),u(6,"div",5)(7,"label",6),f(8,"Nome"),m(),u(9,"input",7),U("ngModelChange",function(s){return P(r),$(i.form.nome,s)||(i.form.nome=s),x(s)}),m()(),u(10,"div",5)(11,"label",8),f(12,"Usu\xE1rio"),m(),u(13,"input",9),U("ngModelChange",function(s){return P(r),$(i.form.username,s)||(i.form.username=s),x(s)}),m()(),u(14,"div",5)(15,"label",10),f(16,"Senha"),m(),u(17,"input",11),U("ngModelChange",function(s){return P(r),$(i.form.senha,s)||(i.form.senha=s),x(s)}),m()(),u(18,"button",12),f(19," Registrar "),m()()()()}t&2&&(g(9),F("ngModel",i.form.nome),g(4),F("ngModel",i.form.username),g(4),F("ngModel",i.form.senha))},dependencies:[le,Fe,Ze,Oe,Ae,Qe,xt,Ve,dt]})};var fn=class n{constructor(e,t){this.router=e;this.authService=t}canActivate(){let e=this.authService.getToken();return e&&!this.isTokenExpired(e)?!0:(this.authService.logout(),this.router.navigate(["/login"]),!1)}isTokenExpired(e){try{let i=JSON.parse(atob(e.split(".")[1])).exp,r=Math.floor(Date.now()/1e3);return i<r}catch{return!0}}static \u0275fac=function(t){return new(t||n)(se(qe),se(Je))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};var pr=class n{constructor(e,t){this.router=e;this.authService=t}canActivate(e){let t=this.authService.getToken();if(!t||this.isTokenExpired(t))return this.router.navigate(["/login"]),!1;let i=e.data.roles,r=this.getUserRoles(t);return i.some(s=>r.includes(`ROLE_${s}`))?!0:(console.warn("Acesso negado: usu\xE1rio n\xE3o tem as permiss\xF5es necess\xE1rias"),this.router.navigate(["/forbidden"]),!1)}getUserRoles(e){try{return JSON.parse(atob(e.split(".")[1])).roles||[]}catch{return[]}}isTokenExpired(e){try{return JSON.parse(atob(e.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}static \u0275fac=function(t){return new(t||n)(se(qe),se(Je))};static \u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hp(n,e){if(n&1){let t=ee();u(0,"tr")(1,"td"),f(2),m(),u(3,"td"),f(4),m(),u(5,"td"),f(6),m(),u(7,"td"),f(8),m(),u(9,"td")(10,"span",24),f(11),m()(),u(12,"td",25)(13,"button",26),M("click",function(){let r=P(t).$implicit,o=N();return x(o.abrirModalEditar(r))}),R(14,"i",27),m(),u(15,"button",26),M("click",function(){let r=P(t).$implicit,o=N();return x(o.confirmarDesativar(r))}),R(16,"i",28),m()()()}if(n&2){let t=e.$implicit;g(2),te(t.id),g(2),te(t.nome),g(2),te(t.username),g(2),te(t.perfil),g(2),C("ngClass",t.ativo?"bg-success":"bg-secondary"),g(),Ie(" ",t.ativo?"Sim":"N\xE3o"," ")}}function Bp(n,e){if(n&1){let t=ee();u(0,"app-usuario-modal",29),M("closed",function(){P(t);let r=N();return x(r.modalAberto=!1)})("salvar",function(r){P(t);let o=N();return x(o.salvarOuAtualizar(r))}),m()}if(n&2){let t=N();C("visible",t.modalAberto)("usuario",t.usuarioSelecionado)}}var fr=class n{constructor(e,t){this.usuarioService=e;this.toastService=t}usuarios=[];filtro="";perfil="";modalAberto=!1;modalConfirmacao=!1;usuarioSelecionado=null;ngOnInit(){this.listarUsuarios()}listarUsuarios(){this.usuarioService.listar().subscribe({next:e=>this.usuarios=e,error:()=>this.toastService.show("Erro ao buscar usu\xE1rios",!1)})}aplicarFiltro(){this.usuarioService.listar().subscribe({next:e=>{this.usuarios=e.filter(t=>{let i=t.nome.toLowerCase().includes(this.filtro.toLowerCase()),r=t.username.toLowerCase().includes(this.filtro.toLowerCase()),o=this.perfil?t.perfil===this.perfil:!0;return(i||r)&&o})}})}abrirModalNovo(){this.usuarioSelecionado={nome:"",username:"",senha:"",perfil:"OPERADOR",ativo:!0},this.modalAberto=!0}abrirModalEditar(e){this.usuarioSelecionado=z({},e),this.modalAberto=!0}salvarOuAtualizar(e){(e.id?this.usuarioService.atualizar(e.id,e):this.usuarioService.criar(e)).subscribe({next:()=>{this.modalAberto=!1,this.toastService.show("Usu\xE1rio salvo com sucesso!",!0),this.listarUsuarios()},error:()=>this.toastService.show("Erro ao salvar usu\xE1rio",!1)})}confirmarDesativar(e){this.usuarioSelecionado=e,this.modalConfirmacao=!0}desativarUsuario(e){this.usuarioService.desativar(e.id).subscribe({next:()=>{this.toastService.show("Usu\xE1rio desativado!",!0),this.modalConfirmacao=!1,this.listarUsuarios()},error:()=>this.toastService.show("Erro ao desativar usu\xE1rio",!1)})}static \u0275fac=function(t){return new(t||n)(J(Ti),J(Ne))};static \u0275cmp=re({type:n,selectors:[["app-usuario-list"]],standalone:!0,features:[oe],decls:47,vars:8,consts:[[3,"titulo"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-primary","rounded-pill","d-flex","align-items-center","gap-2","px-4",3,"click"],[1,"bi","bi-plus-circle"],[1,"card","p-4","mb-4","shadow-sm"],[1,"mb-3","text-primary","fw-bold"],[1,"row","g-3","align-items-end"],[1,"col-md-4"],[1,"form-label"],[1,"input-group"],[1,"input-group-text","bg-white","border-end-0"],[1,"bi","bi-search","text-primary"],["type","text","placeholder","Digite aqui...",1,"form-control","border-start-0",3,"ngModelChange","input","ngModel"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","GESTOR"],["value","OPERADOR"],[1,"orcamentos-table","bg-white","p-3","rounded","shadow-sm"],[1,"table","table-hover","align-middle","text-center"],[1,"table-light"],[4,"ngFor","ngForOf"],[3,"visible","usuario","closed","salvar",4,"ngIf"],[3,"confirmar","cancelar","visible","titulo","texto"],[1,"badge",3,"ngClass"],[1,"d-flex","gap-1","justify-content-center","flex-wrap"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-trash","text-danger"],[3,"closed","salvar","visible","usuario"]],template:function(t,i){t&1&&(u(0,"app-page-header",0)(1,"div",1)(2,"button",2),M("click",function(){return i.abrirModalNovo()}),R(3,"i",3),u(4,"span"),f(5,"Novo Usu\xE1rio"),m()()(),u(6,"div",4)(7,"h5",5),f(8,"\u{1F50D} Filtros de Usu\xE1rios"),m(),u(9,"div",6)(10,"div",7)(11,"label",8),f(12,"Buscar por nome ou usu\xE1rio"),m(),u(13,"div",9)(14,"span",10),R(15,"i",11),m(),u(16,"input",12),U("ngModelChange",function(o){return $(i.filtro,o)||(i.filtro=o),o}),M("input",function(){return i.aplicarFiltro()}),m()()(),u(17,"div",13)(18,"label",8),f(19,"Perfil"),m(),u(20,"select",14),U("ngModelChange",function(o){return $(i.perfil,o)||(i.perfil=o),o}),M("change",function(){return i.aplicarFiltro()}),u(21,"option",15),f(22,"Todos"),m(),u(23,"option",16),f(24,"Gestor"),m(),u(25,"option",17),f(26,"Operador"),m()()()()()(),u(27,"div",18)(28,"table",19)(29,"thead",20)(30,"tr")(31,"th"),f(32,"ID"),m(),u(33,"th"),f(34,"Nome"),m(),u(35,"th"),f(36,"Usu\xE1rio"),m(),u(37,"th"),f(38,"Perfil"),m(),u(39,"th"),f(40,"Ativo"),m(),u(41,"th"),f(42,"A\xE7\xF5es"),m()()(),u(43,"tbody"),q(44,Hp,17,6,"tr",21),m()()(),q(45,Bp,1,2,"app-usuario-modal",22),u(46,"app-modal-confirmacao",23),M("confirmar",function(){return i.desativarUsuario(i.usuarioSelecionado)})("cancelar",function(){return i.modalConfirmacao=!1}),m()),t&2&&(C("titulo","Usu\xE1rios"),g(16),F("ngModel",i.filtro),g(4),F("ngModel",i.perfil),g(24),C("ngForOf",i.usuarios),g(),C("ngIf",i.usuarioSelecionado!==null),g(),C("visible",i.modalConfirmacao)("titulo","Desativar usu\xE1rio!")("texto","Tem certeza que deseja desativar este usu\xE1rio?"))},dependencies:[le,kt,mt,be,Fe,pt,ft,Oe,ht,Ae,Ve,Pt,Lt,Rt,bi]})};var kl=[{path:"",component:Pn,canActivate:[fn],children:[{path:"",component:mr},{path:"orcamentos",component:Dn},{path:"orcamentos/novo",component:Qi},{path:"orcamentos/:id/editar",component:Qi},{path:"usuarios",component:fr,canActivate:[fn,pr],data:{roles:["GESTOR"]}}]},{path:"login",component:dr},{path:"registro-inicial",component:hr},{path:"registro-gestor",loadComponent:()=>import("./chunk-C3AW43PW.js").then(n=>n.RegistroGestorComponent)},{path:"nao-encontrado",loadComponent:()=>import("./chunk-6DLPMBBW.js").then(n=>n.NaoEncontradoComponent)}];var gr=class n{constructor(e){this.loadingService=e}intercept(e,t){return this.loadingService.show(),t.handle(e).pipe(Le(()=>this.loadingService.hide()))}static \u0275fac=function(t){return new(t||n)(se(Ei))};static \u0275prov=he({token:n,factory:n.\u0275fac})};var _r=class n{constructor(e){this.authService=e}intercept(e,t){let i=this.authService.getToken();if(i){let r=e.clone({setHeaders:{Authorization:`Bearer ${i}`}});return t.handle(r)}return t.handle(e)}static \u0275fac=function(t){return new(t||n)(se(Je))};static \u0275prov=he({token:n,factory:n.\u0275fac})};function Pl(n){return new Z(3e3,!1)}function jp(){return new Z(3100,!1)}function zp(){return new Z(3101,!1)}function Yp(n){return new Z(3001,!1)}function Kp(n){return new Z(3003,!1)}function Gp(n){return new Z(3004,!1)}function qp(n,e){return new Z(3005,!1)}function Qp(){return new Z(3006,!1)}function Zp(){return new Z(3007,!1)}function Xp(n,e){return new Z(3008,!1)}function Jp(n){return new Z(3002,!1)}function ef(n,e,t,i,r){return new Z(3010,!1)}function tf(){return new Z(3011,!1)}function nf(){return new Z(3012,!1)}function rf(){return new Z(3200,!1)}function of(){return new Z(3202,!1)}function sf(){return new Z(3013,!1)}function af(n){return new Z(3014,!1)}function lf(n){return new Z(3015,!1)}function cf(n){return new Z(3016,!1)}function uf(n,e){return new Z(3404,!1)}function mf(n){return new Z(3502,!1)}function df(n){return new Z(3503,!1)}function hf(){return new Z(3300,!1)}function pf(n){return new Z(3504,!1)}function ff(n){return new Z(3301,!1)}function gf(n,e){return new Z(3302,!1)}function _f(n){return new Z(3303,!1)}function vf(n,e){return new Z(3400,!1)}function yf(n){return new Z(3401,!1)}function Ef(n){return new Z(3402,!1)}function Sf(n,e){return new Z(3505,!1)}function Kt(n){switch(n.length){case 0:return new It;case 1:return n[0];default:return new Ki(n)}}function zl(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,l=null;if(e.forEach(a=>{let c=a.get("offset"),p=c==s,_=p&&l||new Map;a.forEach((y,E)=>{let h=E,v=y;if(E!=="offset")switch(h=n.normalizePropertyName(h,r),v){case kn:v=t.get(E);break;case gt:v=i.get(E);break;default:v=n.normalizeStyleValue(E,h,v,r);break}_.set(h,v)}),p||o.push(_),l=_,s=c}),r.length)throw mf(r);return o}function Jo(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Po(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Po(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Po(t,"destroy",n)));break}}function Po(n,e,t){let i=t.totalTime,r=!!t.disabled,o=es(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function es(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ze(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function xl(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var bf=typeof document>"u"?null:document.documentElement;function ts(n){let e=n.parentNode||n.host||null;return e===bf?null:e}function Cf(n){return n.substring(1,6)=="ebkit"}var hi=null,Il=!1;function Tf(n){hi||(hi=wf()||{},Il=hi.style?"WebkitAppearance"in hi.style:!1);let e=!0;return hi.style&&!Cf(n)&&(e=n in hi.style,!e&&Il&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hi.style)),e}function wf(){return typeof document<"u"?document.body:null}function Yl(n,e){for(;e;){if(e===n)return!0;e=ts(e)}return!1}function Kl(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var is=(()=>{class n{validateStyleProperty(t){return Tf(t)}containsElement(t,i){return Yl(t,i)}getParentElement(t){return ts(t)}query(t,i,r){return Kl(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,l=[],a){return new It(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})(),gi=class{static{this.NOOP=new is}},_i=class{};var Mf=1e3,Gl="{{",Of="}}",ql="ng-enter",Vo="ng-leave",vr="ng-trigger",Cr=".ng-trigger",Dl="ng-animating",Fo=".ng-animating";function Nt(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$o(parseFloat(e[1]),e[2])}function $o(n,e){switch(e){case"s":return n*Mf;default:return n}}function Tr(n,e,t){return n.hasOwnProperty("duration")?n:Af(n,e,t)}function Af(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let l=n.match(i);if(l===null)return e.push(Pl(n)),{duration:0,delay:0,easing:""};r=$o(parseFloat(l[1]),l[2]);let a=l[3];a!=null&&(o=$o(parseFloat(a),l[4]));let c=l[5];c&&(s=c)}else r=n;if(!t){let l=!1,a=e.length;r<0&&(e.push(jp()),l=!0),o<0&&(e.push(zp()),l=!0),l&&e.splice(a,0,Pl(n))}return{duration:r,delay:o,easing:s}}function Nf(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function vt(n,e,t){e.forEach((i,r)=>{let o=ns(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function fi(n,e){e.forEach((t,i)=>{let r=ns(i);n.style[r]=""})}function gn(n){return Array.isArray(n)?n.length==1?n[0]:na(n):n}function kf(n,e,t){let i=e.params||{},r=Ql(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(Yp(o))})}var Uo=new RegExp(`${Gl}\\s*(.+?)\\s*${Of}`,"g");function Ql(n){let e=[];if(typeof n=="string"){let t;for(;t=Uo.exec(n);)e.push(t[1]);Uo.lastIndex=0}return e}function vn(n,e,t){let i=`${n}`,r=i.replace(Uo,(o,s)=>{let l=e[s];return l==null&&(t.push(Kp(s)),l=""),l.toString()});return r==i?n:r}var Pf=/-+([a-z0-9])/g;function ns(n){return n.replace(Pf,(...e)=>e[1].toUpperCase())}function xf(n,e){return n===0||e===0}function If(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(l=>s.set(l,rs(n,l)))}}return e}function je(n,e,t){switch(e.type){case K.Trigger:return n.visitTrigger(e,t);case K.State:return n.visitState(e,t);case K.Transition:return n.visitTransition(e,t);case K.Sequence:return n.visitSequence(e,t);case K.Group:return n.visitGroup(e,t);case K.Animate:return n.visitAnimate(e,t);case K.Keyframes:return n.visitKeyframes(e,t);case K.Style:return n.visitStyle(e,t);case K.Reference:return n.visitReference(e,t);case K.AnimateChild:return n.visitAnimateChild(e,t);case K.AnimateRef:return n.visitAnimateRef(e,t);case K.Query:return n.visitQuery(e,t);case K.Stagger:return n.visitStagger(e,t);default:throw Gp(e.type)}}function rs(n,e){return window.getComputedStyle(n)[e]}var Df=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wr=class extends _i{normalizePropertyName(e,t){return ns(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(Df.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(qp(e,i))}return s+o}};var Mr="*";function Rf(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Lf(i,t,e)):t.push(n),t}function Lf(n,e,t){if(n[0]==":"){let a=Vf(n,t);if(typeof a=="function"){e.push(a);return}n=a}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(lf(n)),e;let r=i[1],o=i[2],s=i[3];e.push(Rl(r,s));let l=r==Mr&&s==Mr;o[0]=="<"&&!l&&e.push(Rl(s,r))}function Vf(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(cf(n)),"* => *"}}var yr=new Set(["true","1"]),Er=new Set(["false","0"]);function Rl(n,e){let t=yr.has(n)||Er.has(n),i=yr.has(e)||Er.has(e);return(r,o)=>{let s=n==Mr||n==r,l=e==Mr||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?yr.has(n):Er.has(n)),!l&&i&&typeof o=="boolean"&&(l=o?yr.has(e):Er.has(e)),s&&l}}var Zl=":self",Ff=new RegExp(`s*${Zl}s*,?`,"g");function Xl(n,e,t,i){return new Wo(n).build(e,t,i)}var Ll="",Wo=class{constructor(e){this._driver=e}build(e,t,i){let r=new Ho(t);return this._resetContextStyleTimingState(r),je(this,gn(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Ll,e.collectedStyles=new Map,e.collectedStyles.set(Ll,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(Qp()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==K.State){let a=l,c=a.name;c.toString().split(/\s*,\s*/).forEach(p=>{a.name=p,o.push(this.visitState(a,t))}),a.name=c}else if(l.type==K.Transition){let a=this.visitTransition(l,t);i+=a.queryCount,r+=a.depCount,s.push(a)}else t.errors.push(Zp())}),{type:K.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(a=>{Ql(a).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(Xp(e.name,[...o.values()]))}return{type:K.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=je(this,gn(e.animation),t),r=Rf(e.expr,t.errors);return{type:K.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:pi(e.options)}}visitSequence(e,t){return{type:K.Sequence,steps:e.steps.map(i=>je(this,i,t)),options:pi(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let l=je(this,s,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:K.Group,steps:o,options:pi(e.options)}}visitAnimate(e,t){let i=Hf(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Qt({});if(o.type==K.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,l=!1;if(!s){l=!0;let c={};i.easing&&(c.easing=i.easing),s=Qt(c)}t.currentTime+=i.duration+i.delay;let a=this.visitStyle(s,t);a.isEmptyStep=l,r=a}return t.currentAnimateTimings=null,{type:K.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===gt?i.push(l):t.errors.push(Jp(l)):i.push(new Map(Object.entries(l)));let o=!1,s=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o)){for(let a of l.values())if(a.toString().indexOf(Gl)>=0){o=!0;break}}}),{type:K.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((l,a)=>{let c=t.collectedStyles.get(t.currentQuerySelector),p=c.get(a),_=!0;p&&(o!=r&&o>=p.startTime&&r<=p.endTime&&(t.errors.push(ef(a,p.startTime,p.endTime,o,r)),_=!1),o=p.startTime),_&&c.set(a,{startTime:o,endTime:r}),t.options&&kf(l,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:K.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(tf()),i;let r=1,o=0,s=[],l=!1,a=!1,c=0,p=e.steps.map(D=>{let V=this._makeStyleAst(D,t),H=V.offset!=null?V.offset:Wf(V.styles),I=0;return H!=null&&(o++,I=V.offset=H),a=a||I<0||I>1,l=l||I<c,c=I,s.push(I),V});a&&t.errors.push(nf()),l&&t.errors.push(rf());let _=e.steps.length,y=0;o>0&&o<_?t.errors.push(of()):o==0&&(y=r/(_-1));let E=_-1,h=t.currentTime,v=t.currentAnimateTimings,O=v.duration;return p.forEach((D,V)=>{let H=y>0?V==E?1:y*V:s[V],I=H*O;t.currentTime=h+v.delay+I,v.duration=I,this._validateStyleAst(D,t),D.offset=H,i.styles.push(D)}),i}visitReference(e,t){return{type:K.Reference,animation:je(this,gn(e.animation),t),options:pi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:K.AnimateChild,options:pi(e.options)}}visitAnimateRef(e,t){return{type:K.AnimateRef,animation:this.visitReference(e.animation,t),options:pi(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=$f(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ze(t.collectedStyles,t.currentQuerySelector,new Map);let l=je(this,gn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:K.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:e.selector,options:pi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(sf());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Tr(e.timings,t.errors,!0);return{type:K.Stagger,animation:je(this,gn(e.animation),t),timings:i,options:null}}};function $f(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Zl);return e&&(n=n.replace(Ff,"")),n=n.replace(/@\*/g,Cr).replace(/@\w+/g,t=>Cr+"-"+t.slice(1)).replace(/:animating/g,Fo),[n,e]}function Uf(n){return n?z({},n):null}var Ho=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Wf(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Hf(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Tr(n,e).duration;return xo(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=xo(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=Tr(t,e);return xo(r.duration,r.delay,r.easing)}function pi(n){return n?(n=z({},n),n.params&&(n.params=Uf(n.params))):n={},n}function xo(n,e,t){return{duration:n,delay:e,easing:t}}function os(n,e,t,i,r,o,s=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}var yn=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Bf=1,jf=":enter",zf=new RegExp(jf,"g"),Yf=":leave",Kf=new RegExp(Yf,"g");function Jl(n,e,t,i,r,o=new Map,s=new Map,l,a,c=[]){return new Bo().buildKeyframes(n,e,t,i,r,o,s,l,a,c)}var Bo=class{buildKeyframes(e,t,i,r,o,s,l,a,c,p=[]){c=c||new yn;let _=new jo(e,t,c,r,o,p,[]);_.options=a;let y=a.delay?Nt(a.delay):0;_.currentTimeline.delayNextStep(y),_.currentTimeline.setStyles([s],null,_.errors,a),je(this,i,_);let E=_.timelines.filter(h=>h.containsAnimation());if(E.length&&l.size){let h;for(let v=E.length-1;v>=0;v--){let O=E[v];if(O.element===t){h=O;break}}h&&!h.allowOnlyTimelineStyles()&&h.setStyles([l],null,_.errors,a)}return E.length?E.map(h=>h.buildKeyframes()):[os(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Nt(vn(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?Nt(i.duration):null,l=i.delay!=null?Nt(i.delay):null;return s!==0&&e.forEach(a=>{let c=t.appendInstructionToTimeline(a,s,l);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),je(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==K.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Or);let s=Nt(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>je(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Nt(e.options.delay):0;e.steps.forEach(s=>{let l=t.createSubContext(e.options);o&&l.delayNextStep(o),je(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?vn(i,t.params,t.errors):i;return Tr(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==K.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(a=>{let c=a.offset||0;l.forwardTime(c*o),l.setStyles(a.styles,a.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Nt(r.delay):0;o&&(t.previousNode.type===K.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Or);let s=i,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let a=null;l.forEach((c,p)=>{t.currentQueryIndex=p;let _=t.createSubContext(e.options,c);o&&_.delayNextStep(o),c===t.element&&(a=_.currentTimeline),je(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe();let y=_.currentTimeline.currentTime;s=Math.max(s,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),l=s*(t.currentQueryTotal-1),a=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":a=l-a;break;case"full":a=i.currentStaggerTime;break}let p=t.currentTimeline;a&&p.delayNextStep(a);let _=p.currentTime;je(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}},Or={},jo=class n{constructor(e,t,i,r,o,s,l,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Or,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ar(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Nt(i.duration)),i.delay!=null&&(r.delay=Nt(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!t||!s.hasOwnProperty(l))&&(s[l]=vn(o[l],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Or,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new zo(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(zf,"."+this._enterClassName),e=e.replace(Kf,"."+this._leaveClassName);let a=i!=1,c=this._driver.query(this.element,e,a);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),l.push(...c)}return!o&&l.length==0&&s.push(af(t)),l}},Ar=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Bf,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||gt),this._currentKeyframe.set(t,gt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=Gf(e,this._globalTimelineStyles);for(let[l,a]of s){let c=vn(a,o,i);this._pendingStyles.set(l,c),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??gt),this._updateStyle(l,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,a)=>{let c=new Map([...this._backFill,...l]);c.forEach((p,_)=>{p===kn?e.add(_):p===gt&&t.add(_)}),i||c.set("offset",a/this.duration),r.push(c)});let o=[...e.values()],s=[...t.values()];if(i){let l=r[0],a=new Map(l);l.set("offset",0),a.set("offset",1),r=[l,a]}return os(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},zo=class extends Ar{constructor(e,t,i,r,o,s,l=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,l=t/s,a=new Map(e[0]);a.set("offset",0),o.push(a);let c=new Map(e[0]);c.set("offset",Vl(l)),o.push(c);let p=e.length-1;for(let _=1;_<=p;_++){let y=new Map(e[_]),E=y.get("offset"),h=t+E*i;y.set("offset",Vl(h/s)),o.push(y)}i=s,t=0,r="",e=o}return os(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function Vl(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function Gf(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,gt)}else for(let[o,s]of r)t.set(o,s)}),t}function Fl(n,e,t,i,r,o,s,l,a,c,p,_,y){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:l,queriedElements:a,preStyleProps:c,postStyleProps:p,totalTime:_,errors:y}}var Io={},Nr=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return qf(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,l,a,c,p){let _=[],y=this.ast.options&&this.ast.options.params||Io,E=l&&l.params||Io,h=this.buildStyles(i,E,_),v=a&&a.params||Io,O=this.buildStyles(r,v,_),D=new Set,V=new Map,H=new Map,I=r==="void",Y={params:ec(v,y),delay:this.ast.options?.delay},B=p?[]:Jl(e,t,this.ast.animation,o,s,h,O,Y,c,_),A=0;return B.forEach(w=>{A=Math.max(w.duration+w.delay,A)}),_.length?Fl(t,this._triggerName,i,r,I,h,O,[],[],V,H,A,_):(B.forEach(w=>{let G=w.element,j=ze(V,G,new Set);w.preStyleProps.forEach(ie=>j.add(ie));let Q=ze(H,G,new Set);w.postStyleProps.forEach(ie=>Q.add(ie)),G!==t&&D.add(G)}),Fl(t,this._triggerName,i,r,I,h,O,B,[...D.values()],V,H,A))}};function qf(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function ec(n,e){let t=z({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var Yo=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=ec(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{s&&(s=vn(s,r,t));let a=this.normalizer.normalizePropertyName(l,t);s=this.normalizer.normalizeStyleValue(l,a,s,t),i.set(l,s)})}),i}};function Qf(n,e,t){return new Ko(n,e,t)}var Ko=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Yo(r.style,o,i))}),$l(this.states,"true","1"),$l(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Nr(e,r,this.states))}),this.fallbackTransition=Zf(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function Zf(n,e,t){let i=[(s,l)=>!0],r={type:K.Sequence,steps:[],options:null},o={type:K.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Nr(n,o,e)}function $l(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Xf=new yn,Go=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],o=Xl(this._driver,t,i,r);if(i.length)throw df(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=zl(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,l=new Map;if(o?(s=Jl(this._driver,t,o,ql,Vo,new Map,new Map,i,Xf,r),s.forEach(p=>{let _=ze(l,p.element,new Map);p.postStyleProps.forEach(y=>_.set(y,null))})):(r.push(hf()),s=[]),r.length)throw pf(r);l.forEach((p,_)=>{p.forEach((y,E)=>{p.set(E,this._driver.computeStyle(_,E,gt))})});let a=s.map(p=>{let _=l.get(p.element);return this._buildPlayer(p,new Map,_)}),c=Kt(a);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw ff(e);return t}listen(e,t,i,r){let o=es(t,"","","");return Jo(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Ul="ng-animate-queued",Jf=".ng-animate-queued",Do="ng-animate-disabled",eg=".ng-animate-disabled",tg="ng-star-inserted",ig=".ng-star-inserted",ng=[],tc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ut="__ng_removed",En=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=sg(r),i){let o=e,{value:s}=o,l=Lr(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},_n="void",Ro=new En(_n),qo=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,st(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw gf(i,t);if(i==null||i.length==0)throw _f(t);if(!ag(i))throw vf(i,t);let o=ze(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let l=ze(this._engine.statesByElement,e,new Map);return l.has(t)||(st(e,vr),st(e,vr+"-"+t),l.set(t,Ro)),()=>{this._engine.afterFlush(()=>{let a=o.indexOf(s);a>=0&&o.splice(a,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw yf(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new Sn(this.id,t,e),l=this._engine.statesByElement.get(e);l||(st(e,vr),st(e,vr+"-"+t),this._engine.statesByElement.set(e,l=new Map));let a=l.get(t),c=new En(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),l.set(t,c),a||(a=Ro),!(c.value===_n)&&a.value===c.value){if(!ug(a.params,c.params)){let v=[],O=o.matchStyles(a.value,a.params,v),D=o.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{fi(e,O),vt(e,D)})}return}let y=ze(this._engine.playersByElement,e,[]);y.forEach(v=>{v.namespaceId==this.id&&v.triggerName==t&&v.queued&&v.destroy()});let E=o.matchTransition(a.value,c.value,e,c.params),h=!1;if(!E){if(!r)return;E=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(st(e,Ul),s.onStart(()=>{Bi(e,Ul)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);let O=this._engine.playersByElement.get(e);if(O){let D=O.indexOf(s);D>=0&&O.splice(D,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Cr,!0);i.forEach(r=>{if(r[ut])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let l=[];if(o.forEach((a,c)=>{if(s.set(c,a.value),this._triggers.has(c)){let p=this.trigger(e,c,_n,r);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Kt(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let a=this._triggers.get(s).fallbackTransition,c=i.get(s)||Ro,p=new En(_n),_=new Sn(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:a,fromState:c,toState:p,player:_,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[ut];(!o||o===tc)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){st(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==i.triggerName){let a=es(o,i.triggerName,i.fromState.value,i.toState.value);a._data=e,Jo(i.player,l.phase,a,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Qo=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new qo(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,l=this.driver.getParentElement(t);for(;l;){let a=r.get(l);if(a){let c=i.indexOf(a);i.splice(c+1,0,e),s=!0;break}l=this.driver.getParentElement(l)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(Sr(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Sr(t))return;let o=t[ut];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),st(e,Do)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bi(e,Do))}removeNode(e,t,i){if(Sr(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ut]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Sr(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Cr,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Fo,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ut];if(t&&t.setForRemoval){if(e[ut]=tc,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Do)&&this.markElementAsDisabled(e,!1),this.driver.query(e,eg,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];st(r,tg)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Kt(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Ef(e)}_flushAnimations(e,t){let i=new yn,r=[],o=new Map,s=[],l=new Map,a=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(S=>{p.add(S);let T=this.driver.query(S,Jf,!0);for(let k=0;k<T.length;k++)p.add(T[k])});let _=this.bodyNode,y=Array.from(this.statesByElement.keys()),E=Bl(y,this.collectedEnterElements),h=new Map,v=0;E.forEach((S,T)=>{let k=ql+v++;h.set(T,k),S.forEach(W=>st(W,k))});let O=[],D=new Set,V=new Set;for(let S=0;S<this.collectedLeaveElements.length;S++){let T=this.collectedLeaveElements[S],k=T[ut];k&&k.setForRemoval&&(O.push(T),D.add(T),k.hasAnimation?this.driver.query(T,ig,!0).forEach(W=>D.add(W)):V.add(T))}let H=new Map,I=Bl(y,Array.from(D));I.forEach((S,T)=>{let k=Vo+v++;H.set(T,k),S.forEach(W=>st(W,k))}),e.push(()=>{E.forEach((S,T)=>{let k=h.get(T);S.forEach(W=>Bi(W,k))}),I.forEach((S,T)=>{let k=H.get(T);S.forEach(W=>Bi(W,k))}),O.forEach(S=>{this.processLeaveNode(S)})});let Y=[],B=[];for(let S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(t).forEach(k=>{let W=k.player,ne=k.element;if(Y.push(W),this.collectedEnterElements.length){let de=ne[ut];if(de&&de.setForMove){if(de.previousTriggersValues&&de.previousTriggersValues.has(k.triggerName)){let xe=de.previousTriggersValues.get(k.triggerName),Me=this.statesByElement.get(k.element);if(Me&&Me.has(k.triggerName)){let vi=Me.get(k.triggerName);vi.value=xe,Me.set(k.triggerName,vi)}}W.destroy();return}}let ye=!_||!this.driver.containsElement(_,ne),_e=H.get(ne),Pe=h.get(ne),X=this._buildInstruction(k,i,Pe,_e,ye);if(X.errors&&X.errors.length){B.push(X);return}if(ye){W.onStart(()=>fi(ne,X.fromStyles)),W.onDestroy(()=>vt(ne,X.toStyles)),r.push(W);return}if(k.isFallbackTransition){W.onStart(()=>fi(ne,X.fromStyles)),W.onDestroy(()=>vt(ne,X.toStyles)),r.push(W);return}let Ue=[];X.timelines.forEach(de=>{de.stretchStartingKeyframe=!0,this.disabledNodes.has(de.element)||Ue.push(de)}),X.timelines=Ue,i.append(ne,X.timelines);let yt={instruction:X,player:W,element:ne};s.push(yt),X.queriedElements.forEach(de=>ze(l,de,[]).push(W)),X.preStyleProps.forEach((de,xe)=>{if(de.size){let Me=a.get(xe);Me||a.set(xe,Me=new Set),de.forEach((vi,Gt)=>Me.add(Gt))}}),X.postStyleProps.forEach((de,xe)=>{let Me=c.get(xe);Me||c.set(xe,Me=new Set),de.forEach((vi,Gt)=>Me.add(Gt))})});if(B.length){let S=[];B.forEach(T=>{S.push(Sf(T.triggerName,T.errors))}),Y.forEach(T=>T.destroy()),this.reportError(S)}let A=new Map,w=new Map;s.forEach(S=>{let T=S.element;i.has(T)&&(w.set(T,T),this._beforeAnimationBuild(S.player.namespaceId,S.instruction,A))}),r.forEach(S=>{let T=S.element;this._getPreviousPlayers(T,!1,S.namespaceId,S.triggerName,null).forEach(W=>{ze(A,T,[]).push(W),W.destroy()})});let G=O.filter(S=>jl(S,a,c)),j=new Map;Hl(j,this.driver,V,c,gt).forEach(S=>{jl(S,a,c)&&G.push(S)});let ie=new Map;E.forEach((S,T)=>{Hl(ie,this.driver,new Set(S),a,kn)}),G.forEach(S=>{let T=j.get(S),k=ie.get(S);j.set(S,new Map([...T?.entries()??[],...k?.entries()??[]]))});let me=[],ge=[],ke={};s.forEach(S=>{let{element:T,player:k,instruction:W}=S;if(i.has(T)){if(p.has(T)){k.onDestroy(()=>vt(T,W.toStyles)),k.disabled=!0,k.overrideTotalTime(W.totalTime),r.push(k);return}let ne=ke;if(w.size>1){let _e=T,Pe=[];for(;_e=_e.parentNode;){let X=w.get(_e);if(X){ne=X;break}Pe.push(_e)}Pe.forEach(X=>w.set(X,ne))}let ye=this._buildAnimation(k.namespaceId,W,A,o,ie,j);if(k.setRealPlayer(ye),ne===ke)me.push(k);else{let _e=this.playersByElement.get(ne);_e&&_e.length&&(k.parentPlayer=Kt(_e)),r.push(k)}}else fi(T,W.fromStyles),k.onDestroy(()=>vt(T,W.toStyles)),ge.push(k),p.has(T)&&r.push(k)}),ge.forEach(S=>{let T=o.get(S.element);if(T&&T.length){let k=Kt(T);S.setRealPlayer(k)}}),r.forEach(S=>{S.parentPlayer?S.syncPlayerEvents(S.parentPlayer):S.destroy()});for(let S=0;S<O.length;S++){let T=O[S],k=T[ut];if(Bi(T,Vo),k&&k.hasAnimation)continue;let W=[];if(l.size){let ye=l.get(T);ye&&ye.length&&W.push(...ye);let _e=this.driver.query(T,Fo,!0);for(let Pe=0;Pe<_e.length;Pe++){let X=l.get(_e[Pe]);X&&X.length&&W.push(...X)}}let ne=W.filter(ye=>!ye.destroyed);ne.length?lg(this,T,ne):this.processLeaveNode(T)}return O.length=0,me.forEach(S=>{this.players.push(S),S.onDone(()=>{S.destroy();let T=this.players.indexOf(S);this.players.splice(T,1)}),S.play()}),me}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(s=l)}else{let l=this.playersByElement.get(e);if(l){let a=!o||o==_n;l.forEach(c=>{c.queued||!a&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:r;for(let a of t.timelines){let c=a.element,p=c!==o,_=ze(i,c,[]);this._getPreviousPlayers(c,p,s,l,t.toState).forEach(E=>{let h=E.getRealPlayer();h.beforeDestroy&&h.beforeDestroy(),E.destroy(),_.push(E)})}fi(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let l=t.triggerName,a=t.element,c=[],p=new Set,_=new Set,y=t.timelines.map(h=>{let v=h.element;p.add(v);let O=v[ut];if(O&&O.removedBeforeQueried)return new It(h.duration,h.delay);let D=v!==a,V=cg((i.get(v)||ng).map(A=>A.getRealPlayer())).filter(A=>{let w=A;return w.element?w.element===v:!1}),H=o.get(v),I=s.get(v),Y=zl(this._normalizer,h.keyframes,H,I),B=this._buildPlayer(h,Y,V);if(h.subTimeline&&r&&_.add(v),D){let A=new Sn(e,l,v);A.setRealPlayer(B),c.push(A)}return B});c.forEach(h=>{ze(this.playersByQueriedElement,h.element,[]).push(h),h.onDone(()=>og(this.playersByQueriedElement,h.element,h))}),p.forEach(h=>st(h,Dl));let E=Kt(y);return E.onDestroy(()=>{p.forEach(h=>Bi(h,Dl)),vt(a,t.toStyles)}),_.forEach(h=>{ze(r,h,[]).push(E)}),E}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new It(e.duration,e.delay)}},Sn=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new It,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Jo(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ze(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function og(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function sg(n){return n??null}function Sr(n){return n&&n.nodeType===1}function ag(n){return n=="start"||n=="done"}function Wl(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Hl(n,e,t,i,r){let o=[];t.forEach(a=>o.push(Wl(a)));let s=[];i.forEach((a,c)=>{let p=new Map;a.forEach(_=>{let y=e.computeStyle(c,_,r);p.set(_,y),(!y||y.length==0)&&(c[ut]=rg,s.push(c))}),n.set(c,p)});let l=0;return t.forEach(a=>Wl(a,o[l++])),s}function Bl(n,e){let t=new Map;if(n.forEach(l=>t.set(l,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(l){if(!l)return i;let a=o.get(l);if(a)return a;let c=l.parentNode;return t.has(c)?a=c:r.has(c)?a=i:a=s(c),o.set(l,a),a}return e.forEach(l=>{let a=s(l);a!==i&&t.get(a).push(l)}),t}function st(n,e){n.classList?.add(e)}function Bi(n,e){n.classList?.remove(e)}function lg(n,e,t){Kt(t).onDone(()=>n.processLeaveNode(e))}function cg(n){let e=[];return ic(n,e),e}function ic(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Ki?ic(i.players,e):e.push(i)}}function ug(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function jl(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var ji=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Qo(e.body,t,i),this._timelineEngine=new Go(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,l=this._triggerCache[s];if(!l){let a=[],c=[],p=Xl(this._driver,o,a,c);if(a.length)throw uf(r,a);c.length&&void 0,l=Qf(r,p,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=xl(i),l=r;this._timelineEngine.command(o,t,s,l)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,l]=xl(i);return this._timelineEngine.listen(s,t,l,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function mg(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Lo(e[0]),e.length>1&&(i=Lo(e[e.length-1]))):e instanceof Map&&(t=Lo(e)),t||i?new Zo(n,t,i):null}var Zo=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&vt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vt(this._element,this._initialStyles),this._endStyles&&(vt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fi(this._element,this._endStyles),this._endStyles=null),vt(this._element,this._initialStyles),this._state=3)}};function Lo(n){let e=null;return n.forEach((t,i)=>{dg(i)&&(e=e||new Map,e.set(i,t))}),e}function dg(n){return n==="display"||n==="position"}var kr=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:rs(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Pr=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Yl(e,t)}getParentElement(e){return ts(e)}query(e,t,i){return Kl(e,t,i)}computeStyle(e,t,i){return rs(e,t)}animate(e,t,i,r,o,s=[]){let l=r==0?"both":"forwards",a={duration:i,delay:r,fill:l};o&&(a.easing=o);let c=new Map,p=s.filter(E=>E instanceof kr);xf(i,r)&&p.forEach(E=>{E.currentSnapshot.forEach((h,v)=>c.set(v,h))});let _=Nf(t).map(E=>new Map(E));_=If(e,_,c);let y=mg(e,_);return new kr(e,_,a,y)}};var br="@",nc="@.disabled",xr=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==br&&t==nc?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Xo=class extends xr{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==br?t.charAt(1)=="."&&t==nc?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==br){let r=hg(e),o=t.slice(1),s="";return o.charAt(0)!=br&&([o,s]=pg(o)),this.engine.listen(this.namespaceId,r,o,s,l=>{let a=l._data||-1;this.factory.scheduleListenerCallback(a,i,l)})}return this.delegate.listen(e,t,i)}};function hg(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function pg(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Ir=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,p=c.get(r);if(!p){let _=()=>c.delete(r);p=new xr(i,r,this.engine,_),c.set(r,p)}return p}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(l),new Xo(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var gg=(()=>{class n extends ji{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(se(Yi),se(gi),se(_i))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();function _g(){return new wr}function vg(n,e,t){return new Ir(n,e,t)}var rc=[{provide:_i,useFactory:_g},{provide:ji,useClass:gg},{provide:Cs,useFactory:vg,deps:[$s,ji,wn]}],yg=[{provide:gi,useFactory:()=>new Pr},{provide:Vr,useValue:"BrowserAnimations"},...rc],tb=[{provide:gi,useClass:is},{provide:Vr,useValue:"NoopAnimations"},...rc];function oc(){return ws("NgEagerAnimations"),[...yg]}var sc={providers:[Is({eventCoalescing:!0}),js(kl),Vs(Fs()),la(),oc(),{provide:Ur,useClass:gr,multi:!0},{provide:Ur,useClass:_r,multi:!0}]};var Dr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=re({type:n,selectors:[["app-root"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(t,i){t&1&&R(0,"router-outlet")},dependencies:[Nn],encapsulation:2})};Us(Dr,sc).catch(n=>console.error(n));
