import{c as R,e as V,f as E,g as G,h as I,i as N,s as W,v as F,z as T}from"./chunk-B5BK5IV6.js";import{Aa as S,Ca as M,J as u,K as _,Ma as b,Q as x,S as C,U as r,V as i,X as v,Y as w,Z as n,da as a,ha as c,ia as p,ja as f,la as y,u as h,y as d,z as g}from"./chunk-IKTS5G3I.js";function q(s,m){if(s&1){let e=v();r(0,"div",2)(1,"div",3)(2,"h2",4),a(3,"Registro do Gestor"),i(),r(4,"form",5,0),w("ngSubmit",function(){d(e);let t=n();return g(t.registrar())}),r(6,"div",6)(7,"label",7),a(8,"Nome"),i(),r(9,"input",8),f("ngModelChange",function(t){d(e);let o=n();return p(o.form.nome,t)||(o.form.nome=t),g(t)}),i()(),r(10,"div",6)(11,"label",7),a(12,"Usu\xE1rio"),i(),r(13,"input",9),f("ngModelChange",function(t){d(e);let o=n();return p(o.form.username,t)||(o.form.username=t),g(t)}),i()(),r(14,"div",6)(15,"label",7),a(16,"Senha"),i(),r(17,"input",10),f("ngModelChange",function(t){d(e);let o=n();return p(o.form.senha,t)||(o.form.senha=t),g(t)}),i()(),r(18,"button",11),a(19,"Registrar"),i()()()()}if(s&2){let e=n();u(9),c("ngModel",e.form.nome),u(4),c("ngModel",e.form.username),u(4),c("ngModel",e.form.senha)}}var j=class s{constructor(m,e){this.api=m;this.router=e}form={nome:"",username:"",senha:""};mostrarFormulario=!1;ngOnInit(){this.api.get("auth/tem-usuarios").subscribe({next:m=>{m?this.router.navigate(["/nao-encontrado"]):this.mostrarFormulario=!0},error:()=>{alert("Erro ao verificar usu\xE1rios"),this.router.navigate(["/login"])}})}registrar(){this.api.post("auth/register",this.form).subscribe({next:()=>{alert("Gestor cadastrado com sucesso!"),this.router.navigate(["/login"])},error:()=>alert("Erro ao registrar gestor")})}static \u0275fac=function(e){return new(e||s)(_(T),_(b))};static \u0275cmp=h({type:s,selectors:[["app-registro-gestor"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["formRef","ngForm"],["class","container d-flex justify-content-center align-items-center","style","height: 100vh;",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"card","p-4",2,"width","100%","max-width","400px"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","nome","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","senha","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"]],template:function(e,l){e&1&&x(0,q,20,3,"div",1),e&2&&C("ngIf",l.mostrarFormulario)},dependencies:[M,S,F,N,R,V,E,W,I,G],encapsulation:2})};export{j as RegistroGestorComponent};
